/*! For license information please see index.bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.testpackage=t():e.TEST=t()}("undefined"!=typeof self?self:this,(()=>(()=>{var e={8152:(e,t,i)=>{"use strict";i.d(t,{R:()=>n});var n,r=i(6411),o=i(8361);!function(){var e="undefined"!=typeof self?self:"undefined"!=typeof global?global:null,t=void 0===e.ImageData||void 0===e.document,i=t;if(!t){e.ImageData;try{let t=new Uint8ClampedArray(4);t[0]=1;let n=new e.ImageData(t,1,1);i=1!=n.data[0]}catch(e){i=!0}}if(i){var r=function(){var e=0,n=arguments[e]instanceof Uint8ClampedArray?arguments[e++]:null,r=arguments[e++],o=arguments[e++];if(t)n||(n=new Uint8ClampedArray(r*o*4)),this.width=r,this.height=o,this.data=n;else if(i){var s=document.createElement("canvas");s.width=r,s.height=o;var a=s.getContext("2d").createImageData(r,o);return n&&a.data.set(n),a}};t||(r.prototype=e.ImageData.prototype),e.ImageData=r,n=r}else n=e.ImageData}(),n.prototype.toDrawableData=function(){return"undefined"==typeof document?o.Bw(this):this},n.prototype.putImageData=function(e,t,i){for(var n=0;n<e.width;n++)for(var r=0;r<e.height;r++){var o=4*(n+t)+4*(r+i)*this.width,s=4*n+4*r*e.width;this.data[o]=e.data[s],this.data[o+1]=e.data[s+1],this.data[o+2]=e.data[s+2],this.data[o+3]=e.data[s+3]}},n.prototype.pixelOffset=function(e,t){return 4*e+t*this.width*4},n.prototype.getPixelHash=function(e){e||(e=new r.UL(0,0,this.width,this.height));for(var t=0,i=e.x;i<e.x+e.width;i++)for(var n=e.y;n<e.y+e.height;n++){var o=4*i+4*n*this.width;t=((t=((t=((t=(t<<5)-t+this.data[o]|0)<<5)-t+this.data[o+1]|0)<<5)-t+this.data[o+2]|0)<<5)-t+this.data[o+3]|0}return t},n.prototype.clone=function(e){return this.toImage(e).getContext("2d").getImageData(0,0,e.width,e.height)},n.prototype.show=function(e=5,t=5,i=1){if("undefined"!=typeof document){for(var r=document.getElementsByClassName("debugimage");r.length>n.prototype.show.maxImages;)r[0].remove();var o=this.toImage();return o.classList.add("debugimage"),o.style.position="absolute",o.style.zIndex="1000",o.style.left=e/i+"px",o.style.top=t/i+"px",o.style.background="purple",o.style.cursor="pointer",o.style.imageRendering="pixelated",o.style.outline="1px solid #0f0",o.style.width=(1==this.width?100:this.width)*i+"px",o.style.height=(1==this.height?100:this.height)*i+"px",o.onclick=function(){o.remove()},document.body.appendChild(o),o}console.error("need a document to show an imagedata object")},n.prototype.show.maxImages=10,n.prototype.toImage=function(e){if(e||(e=new r.UL(0,0,this.width,this.height)),"undefined"!=typeof document){var t=document.createElement("canvas");t.width=e.width,t.height=e.height}else t=o.vL(e.width,e.height);return t.getContext("2d").putImageData(this.toDrawableData(),-e.x,-e.y),t},n.prototype.getPixel=function(e,t){var i=4*e+4*t*this.width;return[this.data[i],this.data[i+1],this.data[i+2],this.data[i+3]]},n.prototype.getPixelValueSum=function(e,t){var i=4*e+4*t*this.width;return this.data[i]+this.data[i+1]+this.data[i+2]},n.prototype.getPixelInt=function(e,t){var i=4*e+4*t*this.width;return(this.data[i+3]<<24)+(this.data[i+0]<<16)+(this.data[i+1]<<8)+(this.data[i+2]<<0)},n.prototype.getColorDifference=function(e,t,i,n,r,o=255){var s=4*e+4*t*this.width;return Math.abs(this.data[s]-i)+Math.abs(this.data[s+1]-n)+Math.abs(this.data[s+2]-r)*o/255},n.prototype.setPixel=function(e,t,...i){var n,r,o,s,[n,r,o,s]=Array.isArray(i[0])?i[0]:i,a=4*e+4*t*this.width;this.data[a]=n,this.data[a+1]=r,this.data[a+2]=o,this.data[a+3]=null==s?255:s},n.prototype.setPixelInt=function(e,t,i){var n=4*e+4*t*this.width;this.data[n]=i>>24&255,this.data[n+1]=i>>16&255,this.data[n+2]=i>>8&255,this.data[n+3]=i>>0&255},n.prototype.toFileBytes=function(e,t){return"undefined"!=typeof HTMLCanvasElement?new Promise((i=>this.toImage().toBlob((e=>{var t=new FileReader;t.readAsArrayBuffer(e),t.onload=()=>i(new Uint8Array(t.result))}),e,t))):o.DA(this,e,t)},n.prototype.toPngBase64=function(){if("undefined"!=typeof HTMLCanvasElement){var e=this.toImage().toDataURL("image/png");return e.slice(e.indexOf(",")+1)}throw new Error("synchronous image conversion not supported in nodejs, try using ImageData.prototype.toFileBytes")},n.prototype.pixelCompare=function(e,t=0,i=0,n){return r.l3.simpleCompare(this,e,t,i,n)},n.prototype.copyTo=function(e,t,i,n,r,o,s){const a=0|e.width,l=0|this.width,c=0|n,h=4*Math.floor(n/4),u=new Int32Array(this.data.buffer,this.data.byteOffset,this.data.byteLength/4),d=new Int32Array(e.data.buffer,e.data.byteOffset,e.data.byteLength/4);for(let e=0;e<r;e++){let n=0,r=n+o+(e+s)*a,p=n+t+(e+i)*l;for(;n<h;n+=4)d[r]=u[p],d[r+1]=u[p+1],d[r+2]=u[p+2],d[r+3]=u[p+3],r+=4,p+=4;for(;n<c;n++)d[r]=u[p],r+=1,p+=1}},"undefined"!=typeof HTMLImageElement&&(HTMLImageElement.prototype.toBuffer=function(e=0,t=0,i=this.width,n=this.height){var r=document.createElement("canvas");r.width=i,r.height=n;var o=r.getContext("2d");return o.drawImage(this,-e,-t),o.getImageData(0,0,i,n)},HTMLImageElement.prototype.toCanvas=function(e=0,t=0,i=this.width,n=this.height){var r=document.createElement("canvas");return r.width=i,r.height=n,r.getContext("2d").drawImage(this,-e,-t),r})},4512:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ImageDataSet:()=>x,asyncMap:()=>v,clearPngColorspace:()=>d,coldif:()=>y,findSubbuffer:()=>g,findSubimage:()=>p,imageDataFromBase64:()=>c,imageDataFromFileBuffer:()=>h,imageDataFromUrl:()=>l,isPngBuffer:()=>u,simpleCompare:()=>m,simpleCompareRMSE:()=>f,webpackImages:()=>_});var n=i(8857),r=i(187),o=i(8361),s=i(6411),a=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function l(e){return a(this,void 0,void 0,(function*(){if("undefined"!=typeof Image){var t=new Image;return t.crossOrigin="crossorigin",yield new Promise(((i,n)=>{t.onload=function(){i(t.toBuffer())},t.onerror=n,t.src=e}))}if(e.startsWith("data:image/png;base64,"))return c(e.slice(22));throw new Error("loading remote images in nodejs has been disabled, load the raw bytes and use imageDataFromNodeBuffer instead")}))}function c(e){return a(this,void 0,void 0,(function*(){return"undefined"!=typeof Image?l("data:image/png;base64,"+e):o.kx(e)}))}function h(e){return a(this,void 0,void 0,(function*(){if(d(e),"undefined"!=typeof Image){let t=new Blob([e],{type:"image/png"}),i=URL.createObjectURL(t),n=yield l(i);return URL.revokeObjectURL(i),n}return o.BV(e)}))}function u(e){return 137==e[0]&&80==e[1]&&78==e[2]&&71==e[3]}function d(e){if(!u(e))throw new Error("non-png image received");for(var t=8;t<e.length;){var i=16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t++],n=!!(e[t]>>5&1),r=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]);if("trns"!=r.toLowerCase()&&n){e[t+0]="n".charCodeAt(0),e[t+1]="o".charCodeAt(0),e[t+2]="P".charCodeAt(0),e[t+3]="E".charCodeAt(0);for(var o=t+4+i,s=4294967295,a=function(e){for(var t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;return e},l=t;l<o;l++)l>=t+4&&(e[l]=0),s=a(255&(s^e[l]))^s>>>8;s^=4294967295,e[t+4+i+0]=s>>24&255,e[t+4+i+1]=s>>16&255,e[t+4+i+2]=s>>8&255,e[t+4+i+3]=s>>0&255}if("IEND"==r)break;t+=4,t+=i,t+=4}}function p(e,t,i=0,o=0,s=e.width,a=e.height){if(!e)throw new TypeError;if(!t)throw new TypeError;if(e instanceof n.nM&&r.HC&&alt1.bindFindSubImg){var l=r.Kl(t),c=alt1.bindFindSubImg(e.handle,l,t.width,i,o,s,a);if(!c)throw new r.UT;return JSON.parse(c)}return g(e.read(),t,i,o,s,a)}function g(e,t,i=0,n=0,r=e.width,o=e.height){for(var s=[],a=4*t.width,l=4*e.width,c=[],h=0;h<t.height;h++){for(var u=0;u<t.width;u++){var d=4*u+h*a;if(255==t.data[d+3]&&c.push({x:u,y:h}),10==c.length)break}if(10==c.length)break}var p=i+r-t.width,g=n+o-t.height,f=c.length;for(h=n;h<=g;h++)e:for(u=i;u<=p;u++){for(var y=0;y<f;y++){var v=4*(u+c[y].x)+(h+c[y].y)*l,_=4*c[y].x+c[y].y*a,x=0;if(x=(x=(x=x+Math.abs(e.data[v+0]-t.data[_+0])|0)+Math.abs(e.data[v+1]-t.data[_+1])|0)+Math.abs(e.data[v+2]-t.data[_+2])|0,(x*=255/t.data[_+3])>30)continue e}if(m(e,t,u,h,30)!=1/0&&(s.push({x:u,y:h}),s.length>50))return s}return s}function m(e,t,i,n,r=30){if(i<0||n<0)throw new RangeError;if(i+t.width>e.width||n+t.height>e.height)throw new RangeError;-1==r&&(r=1020);for(var o=0,s=8;s>=1;s/=2)for(var a=0;a<t.width;a+=s)for(var l=0;l<t.height;l+=s){var c=4*(i+a)+(n+l)*e.width*4,h=4*a+l*t.width*4,u=0;if(u=(u=(u=u+Math.abs(e.data[c+0]-t.data[h+0])|0)+Math.abs(e.data[c+1]-t.data[h+1])|0)+Math.abs(e.data[c+2]-t.data[h+2])|0,u*=t.data[h+3]/255,1==s&&(o+=u),u>r)return 1/0}return o/t.width/t.height}function f(e,t,i,n){if(i<0||n<0)throw new RangeError;if(i+t.width>e.width||n+t.height>e.height)throw new RangeError;for(var r=0,o=0,s=0;s<t.width;s++)for(var a=0;a<t.height;a++){var l=4*(i+s)+(n+a)*e.width*4,c=4*s+a*t.width*4,h=0;h=(h=(h=h+Math.abs(e.data[l+0]-t.data[c+0])|0)+Math.abs(e.data[l+1]-t.data[c+1])|0)+Math.abs(e.data[l+2]-t.data[c+2])|0;var u=t.data[c+3]/255;o+=u,r+=h*h*u}return Math.sqrt(r/o)}function y(e,t,i,n,r,o,s){return(Math.abs(e-n)+Math.abs(t-r)+Math.abs(i-o))*s/255}function v(e){var t={},i=[];for(var n in e)e.hasOwnProperty(n)&&(t[n]=null,i.push(e[n].then(function(e,i){t[e]=i,r[e]=i}.bind(null,n))));var r={},o=Promise.all(i).then((()=>(r.loaded=!0,r)));return Object.defineProperty(r,"loaded",{enumerable:!1,value:!1,writable:!0}),Object.defineProperty(r,"promise",{enumerable:!1,value:o}),Object.defineProperty(r,"raw",{enumerable:!1,value:t}),Object.assign(r,t)}function _(e){return v(e)}class x{constructor(){this.buffers=[]}matchBest(e,t,i,n){let r=null,o=n;for(let n=0;n<this.buffers.length;n++){let s=e.pixelCompare(this.buffers[n],t,i,o);isFinite(s)&&(null==o||s<o)&&(o=s,r=n)}return null==r?null:{index:r,score:o}}static fromFilmStrip(e,t){if(e.width%t!=0)throw new Error("slice size does not fit in base img");let i=new x;for(let n=0;n<e.width;n+=t)i.buffers.push(e.clone(new s.UL(n,0,t,e.height)));return i}static fromFilmStripUneven(e,t){let i=new x,n=0;for(let r of t)if(i.buffers.push(e.clone(new s.UL(n,0,r,e.height))),n+=r,n>e.width)throw new Error("sampling filmstrip outside bounds");if(n!=e.width)throw new Error("unconsumed pixels left in film strip imagedata");return i}static fromAtlas(e,t){let i=new x;for(let n of t)i.buffers.push(e.clone(n));return i}}},8857:(e,t,i)=>{"use strict";i.d(t,{nM:()=>o});var n=i(6411);class r{constructor(e,t,i,n){this.t="none",this.x=e,this.y=t,this.width=i,this.height=n}read(e=0,t=0,i=this.width,n=this.height){throw new Error("This imgref ("+this.t+") does not support toData")}findSubimage(e,t=0,i=0,r=this.width,o=this.height){return n.l3.findSubimage(this,e,t,i,r,o)}toData(e=this.x,t=this.y,i=this.width,n=this.height){return this.read(e-this.x,t-this.y,i,n)}containsArea(e){return this.x<=e.x&&this.y<=e.y&&this.x+this.width>=e.x+e.width&&this.y+this.height>=e.y+e.height}}class o extends r{constructor(e,t=0,i=0,n=0,r=0){super(t,i,n,r),this.handle=e,this.t="bind"}read(e=0,t=0,i=this.width,r=this.height){return(0,n.UE)(this.handle,e,t,i,r)}}},6411:(e,t,i)=>{"use strict";i.d(t,{RT:()=>o.R,l3:()=>n,UL:()=>r,Hp:()=>s.Hp,UE:()=>s.UE});var n=i(4512);class r{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n}static fromArgs(...e){if("object"==typeof e[0])return new r(e[0].x,e[0].y,e[0].width,e[0].height);if("number"==typeof e[0]&&e.length>=4)return new r(e[0],e[1],e[2],e[3]);throw new Error("invalid rect args")}union(e){var t=Math.min(this.x,e.x),i=Math.min(this.y,e.y);return this.width=Math.max(this.x+this.width,e.x+e.width)-t,this.height=Math.max(this.y+this.height,e.y+e.height)-i,this.x=t,this.y=i,this}includePoint(e,t){this.union(new r(e,t,0,0))}inflate(e,t){this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t}intersect(e){this.x<e.x&&(this.width-=e.x-this.x,this.x=e.x),this.y<e.y&&(this.height-=e.y-this.y,this.y=e.y),this.width=Math.min(this.x+this.width,e.x+e.width)-this.x,this.height=Math.min(this.y+this.height,e.y+e.height)-this.y,(this.width<=0||this.height<=0)&&(this.width=0,this.height=0)}overlaps(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}contains(e){return this.x<=e.x&&this.x+this.width>=e.x+e.width&&this.y<=e.y&&this.y+this.height>=e.y+e.height}containsPoint(e,t){return this.x<=e&&this.x+this.width>e&&this.y<=t&&this.y+this.height>t}}var o=i(8152),s=(i(8361),i(8857),i(187))},8361:(e,t,i)=>{"use strict";i.d(t,{BV:()=>f,Bw:()=>u,DA:()=>g,kx:()=>m,vL:()=>d});var n=i(6411),r=i(4512),o=i(816).lW,s=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},a=null;function l(){try{return a?a("sharp"):require("sharp")}catch(e){}return null}function c(){l();try{return a?a("canvas"):require("canvas")}catch(e){}return null}function h(){try{return a?a("electron/common"):require("electron/common")}catch(e){}return null}function u(e){let t=c();if(!t)throw new Error("couldn't find built-in canvas or the module 'canvas'");return new t.ImageData(e.data,e.width,e.height)}function d(e,t){let i=c();if(!i)throw new Error("couldn't find built-in canvas or the module 'canvas'");return i.createCanvas(e,t)}function p(e){for(let t=0;t<e.length;t+=4){let i=e[t+2];e[t+2]=e[t+0],e[t+0]=i}}function g(e,t,i){return s(this,void 0,void 0,(function*(){var n,r;if(n=h()){let t=n.nativeImage,i=o.from(e.data.slice(e.data.byteOffset,e.data.byteLength));return p(i),t.createFromBitmap(i,{width:e.width,height:e.height}).toPNG()}if(r=l()){let n=r(o.from(e.data.buffer),{raw:{width:e.width,height:e.height,channels:4}});if("image/png"==t)n.png();else{if("image/webp"!=t)throw new Error("unknown image format: "+t);var s={quality:80};"number"==typeof i&&(s.quality=100*i),n.webp(s)}return yield n.toBuffer({resolveWithObject:!1}).buffer}throw new Error("coulnd't find build-in image compression methods or the module 'electron/common' or 'sharp'")}))}function m(e){return f(o.from(e,"base64"))}function f(e){return s(this,void 0,void 0,(function*(){var t,i;if((0,r.clearPngColorspace)(e),t=h()){let i=t.nativeImage.createFromBuffer(e),r=i.toBitmap(),o=i.getSize(),s=new Uint8ClampedArray(r.buffer,r.byteOffset,r.byteLength);return p(s),new n.RT(s,o.width,o.height)}if(i=c())return new Promise(((t,r)=>{let s=new i.Image;s.onerror=r,s.onload=()=>{var e=i.createCanvas(s.naturalWidth,s.naturalHeight).getContext("2d");e.drawImage(s,0,0);var r=e.getImageData(0,0,s.naturalWidth,s.naturalHeight);t(new n.RT(r.data,r.width,r.height))},s.src=o.from(e.buffer,e.byteOffset,e.byteLength)}));throw new Error("couldn't find built-in canvas, module 'electron/common' or the module 'canvas'")}))}},187:(e,t,i)=>{"use strict";i.d(t,{HC:()=>a,Hp:()=>h,Kl:()=>p,UE:()=>u,UT:()=>s});var n=i(8857),r=i(8152);class o extends Error{constructor(){super(),this.message="This method can not be ran outside of Alt1"}}class s extends Error{}var a="undefined"!=typeof alt1,l=(a&&alt1.skinName,4e6);function c(){if(!a)throw new o}function h(){return function(e,t,i,r){e=Math.round(e),t=Math.round(t),i=Math.round(i),r=Math.round(r),c();var o=alt1.bindRegion(e,t,i,r);if(o<=0)throw new s("capturehold failed");return new n.nM(o,e,t,i,r)}(0,0,alt1.rsWidth,alt1.rsHeight)}function u(e,t,i,n,o){if(t=Math.round(t),i=Math.round(i),n=Math.round(n),o=Math.round(o),c(),alt1.bindGetRegionBuffer)return new r.R(alt1.bindGetRegionBuffer(e,t,i,n,o),n,o);for(var a=new r.R(n,o),h=t;;){var u=Math.min(t+n,Math.floor(h+l/4/o)),p=alt1.bindGetRegion(e,h,i,u-h,o);if(!p)throw new s;if(d(p,a,h-t,0,u-h,o),(h=u)==t+n)break}return a}function d(e,t,i,n,r,o){var s=atob(e),a=t.data;r|=0,o|=0;for(var l=4*i+4*n*t.width,c=0|t.width,h=0;h<r;h++)for(var u=0;u<o;u++){var d=l+(4*h|0)+(u*c*4|0)|0,p=(4*h|0)+(4*u*r|0)|0;a[d+0|0]=s.charCodeAt(p+2|0),a[d+1|0]=s.charCodeAt(p+1|0),a[d+2|0]=s.charCodeAt(p+0|0),a[d+3|0]=s.charCodeAt(p+3|0)}return t}function p(e,t=0,i=0,n=e.width,r=e.height){for(var o="",s=i;s<i+r;s++)for(var a=t;a<t+n;a++){var l=4*a+4*e.width*s|0;o+=String.fromCharCode(e.data[l+2|0]),o+=String.fromCharCode(e.data[l+1|0]),o+=String.fromCharCode(e.data[l+0|0]),o+=String.fromCharCode(e.data[l+3|0])}return btoa(o)}},6442:function(e){var t,i;"undefined"!=typeof self&&self,e.exports=(t=[e=>{e.exports={chars:[{width:7,bonus:140,chr:"a",pixels:[0,7,187,255,1,3,221,255,1,6,169,255,1,7,164,132,1,8,255,255,2,3,255,255,2,4,221,0,2,5,196,243,2,7,170,0,2,8,255,255,2,9,255,0,3,3,255,255,3,4,255,0,3,5,255,255,3,6,187,0,3,8,221,255,3,9,255,0,4,4,254,239,4,5,255,255,4,6,254,204,4,7,255,255,4,8,240,253,4,9,221,0,5,5,240,36,5,6,255,34,5,7,211,41,5,8,255,34,5,9,238,0],secondary:!1},{width:7,bonus:175,chr:"b",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,248,209,1,4,243,178,1,5,230,75,1,6,230,75,1,7,243,178,1,8,246,194,1,9,204,0,2,3,255,255,2,4,204,0,2,5,170,0,2,8,255,255,2,9,187,0,3,3,255,255,3,4,255,0,3,8,255,255,3,9,255,0,4,3,169,255,4,4,254,171,4,7,169,255,4,9,255,0,5,4,204,128,5,5,232,205,5,6,205,233,5,8,170,0,6,6,187,0,6,7,187,0],secondary:!1},{width:7,bonus:95,chr:"c",pixels:[0,5,169,255,0,6,187,255,1,4,187,255,1,6,193,90,1,7,237,201,1,8,164,185,2,3,255,255,2,5,187,0,2,8,255,255,3,3,255,255,3,4,255,0,3,8,255,255,3,9,255,0,4,3,221,255,4,4,255,34,4,8,221,255,4,9,255,0,5,4,226,39,5,9,221,0],secondary:!1},{width:7,bonus:180,chr:"d",pixels:[0,5,187,255,0,6,187,255,1,4,169,255,1,6,205,85,1,7,232,187,1,8,203,213,2,3,255,255,2,5,170,0,2,8,255,255,2,9,170,0,3,3,255,255,3,4,255,0,3,8,255,255,3,9,255,0,4,3,203,255,4,4,254,171,4,7,169,255,4,8,187,255,4,9,255,0,5,1,203,255,5,2,225,251,5,3,225,251,5,4,248,227,5,5,244,231,5,6,230,245,5,7,230,245,5,8,237,219,5,9,187,0,6,2,204,0,6,3,221,0,6,4,221,0,6,5,221,0,6,6,221,0,6,7,221,0,6,8,221,0,6,9,204,0],secondary:!1},{width:7,bonus:135,chr:"e",pixels:[0,5,187,255,0,6,169,255,1,4,187,255,1,5,255,255,1,6,209,104,1,7,237,219,2,3,255,255,2,5,255,255,2,6,255,0,2,8,255,255,3,3,255,255,3,4,255,0,3,5,255,255,3,6,255,0,3,8,255,255,3,9,255,0,4,3,187,255,4,4,255,119,4,5,255,255,4,6,255,0,4,8,221,255,4,9,255,0,5,4,224,155,5,5,227,229,5,6,255,0,5,9,221,0,6,6,204,0],secondary:!1},{width:4,bonus:90,chr:"f",pixels:[0,3,203,255,1,2,221,255,1,3,255,255,1,4,248,227,1,5,225,251,1,6,225,251,1,7,225,251,1,8,210,247,2,1,255,255,2,3,255,255,2,4,255,0,2,5,221,0,2,6,221,0,2,7,221,0,2,8,221,0,2,9,204,0,3,2,255,0,3,4,255,0],secondary:!1},{width:7,bonus:200,chr:"g",pixels:[0,5,187,255,0,6,187,255,1,3,169,255,1,4,153,255,1,5,155,112,1,6,205,85,1,7,232,187,1,8,184,189,1,11,153,255,2,3,255,255,2,4,170,0,2,5,153,0,2,8,255,255,2,11,245,247,3,3,255,255,3,4,255,0,3,8,255,255,3,9,255,0,3,11,221,255,4,3,221,255,4,4,255,136,4,7,153,255,4,8,221,255,4,9,255,85,4,10,203,255,5,3,203,255,5,4,250,226,5,5,239,236,5,6,230,245,5,7,230,245,5,8,241,234,5,9,243,178,5,11,204,0,6,4,204,0,6,5,221,0,6,6,221,0,6,7,221,0,6,8,221,0,6,9,221,0,6,10,170,0],secondary:!1},{width:7,bonus:165,chr:"h",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,243,178,1,4,248,209,1,5,230,75,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,3,255,255,2,4,170,0,2,5,204,0,3,3,255,255,3,4,255,0,4,3,169,255,4,4,255,221,4,5,221,255,4,6,221,255,4,7,221,255,4,8,203,255,5,4,175,25,5,5,226,39,5,6,226,39,5,7,226,39,5,8,226,39,5,9,204,0],secondary:!1},{width:3,bonus:70,chr:"i",pixels:[0,1,237,255,0,3,203,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,238,0,1,4,211,41,1,5,226,39,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0],secondary:!1},{width:4,bonus:90,chr:"j",pixels:[0,11,153,255,1,11,169,255,2,1,203,255,2,3,203,255,2,4,225,251,2,5,225,251,2,6,225,251,2,7,225,251,2,8,225,251,2,9,225,251,3,2,204,0,3,4,204,0,3,5,221,0,3,6,221,0,3,7,221,0,3,8,221,0,3,9,221,0,3,10,221,0],secondary:!1},{width:6,bonus:130,chr:"k",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,4,166,235,2,5,255,255,2,6,255,221,3,3,203,255,3,5,153,0,3,6,255,51,3,7,250,226,3,8,160,217,4,4,204,0,4,8,239,145],secondary:!1},{width:3,bonus:75,chr:"l",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,255,255,2,9,255,0],secondary:!1},{width:10,bonus:210,chr:"m",pixels:[0,3,203,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,4,248,227,1,5,230,75,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,3,237,255,2,5,221,0,3,3,255,255,3,4,238,0,4,3,153,255,4,4,255,255,4,5,221,255,4,6,221,255,4,7,221,255,4,8,203,255,5,4,228,209,5,5,255,68,5,6,226,39,5,7,226,39,5,8,226,39,5,9,204,0,6,3,255,255,6,5,187,0,7,3,237,255,7,4,255,85,8,4,249,174,8,5,232,243,8,6,225,251,8,7,225,251,8,8,210,247,9,5,170,0,9,6,221,0,9,7,221,0,9,8,221,0,9,9,204,0],secondary:!1},{width:7,bonus:140,chr:"n",pixels:[0,3,203,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,4,248,227,1,5,232,93,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,3,237,255,2,5,221,0,3,3,255,255,3,4,238,0,4,3,237,255,4,4,255,85,5,4,249,174,5,5,232,243,5,6,225,251,5,7,225,251,5,8,210,247,6,5,170,0,6,6,221,0,6,7,221,0,6,8,221,0,6,9,204,0],secondary:!1},{width:8,bonus:120,chr:"o",pixels:[0,5,187,255,0,6,169,255,1,4,203,255,1,6,209,104,1,7,244,231,2,3,237,255,2,5,204,0,2,8,252,241,3,3,255,255,3,4,238,0,3,8,255,255,3,9,238,0,4,3,237,255,4,4,255,0,4,8,255,255,4,9,255,0,5,4,251,207,5,7,221,255,5,9,255,0,6,5,237,183,6,6,192,225,6,8,221,0,7,6,170,0,7,7,170,0],secondary:!1},{width:6,bonus:170,chr:"p",pixels:[0,3,237,255,0,4,255,255,0,5,187,255,0,6,203,255,0,7,255,255,0,8,221,255,0,9,221,255,0,10,221,255,1,3,255,255,1,4,240,36,1,5,255,0,1,6,187,0,1,7,211,41,1,8,254,239,1,9,221,0,1,10,221,0,1,11,221,0,2,3,255,255,2,4,255,0,2,8,255,255,2,9,238,0,3,3,237,255,3,4,255,34,3,8,237,255,3,9,255,0,4,4,253,240,4,5,255,255,4,6,255,255,4,7,237,255,4,9,238,0,5,5,239,18,5,6,255,17,5,7,255,0,5,8,238,0],secondary:!1},{width:7,bonus:165,chr:"q",pixels:[0,5,187,255,0,6,187,255,1,3,169,255,1,4,153,255,1,5,155,112,1,6,205,85,1,7,228,171,1,8,209,207,2,3,255,255,2,4,170,0,2,5,153,0,2,8,255,255,2,9,170,0,3,3,237,255,3,4,255,17,3,8,237,255,3,9,255,0,4,3,255,255,4,4,255,255,4,5,191,250,4,6,187,255,4,7,255,255,4,8,239,254,4,9,253,223,4,10,221,255,5,4,255,34,5,5,255,34,5,6,196,45,5,7,196,45,5,8,255,34,5,9,240,36,5,10,226,39,5,11,221,0],secondary:!1},{width:4,bonus:85,chr:"r",pixels:[0,3,203,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,3,187,255,1,4,244,213,1,5,232,93,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,3,255,255,2,4,187,0,2,5,204,0,3,4,255,0],secondary:!1},{width:6,bonus:100,chr:"s",pixels:[0,4,187,255,1,3,255,255,1,5,250,243,1,8,255,255,2,3,255,255,2,4,255,0,2,5,155,196,2,6,246,123,2,8,255,255,2,9,255,0,3,3,255,255,3,4,255,0,3,6,245,247,3,7,164,132,3,8,255,255,3,9,255,0,4,4,255,17,4,7,250,191,4,9,255,0,5,8,187,0],secondary:!1},{width:5,bonus:80,chr:"t",pixels:[1,2,221,255,1,3,255,255,1,4,235,240,1,5,221,255,1,6,221,255,1,7,169,255,2,3,255,255,2,4,255,34,2,5,226,39,2,6,226,39,2,7,232,93,2,8,249,243,3,4,255,0,3,8,187,209,3,9,238,0,4,9,153,0],secondary:!1},{width:6,bonus:135,chr:"u",pixels:[0,3,203,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,169,255,1,4,211,41,1,5,226,39,1,6,226,39,1,7,232,93,1,8,249,243,2,8,255,255,2,9,238,0,3,8,203,255,3,9,255,0,4,3,203,255,4,4,221,255,4,5,221,255,4,6,203,255,4,7,255,255,4,8,228,247,4,9,204,0,5,4,211,41,5,5,226,39,5,6,226,39,5,7,211,41,5,8,255,34,5,9,221,0],secondary:!1},{width:6,bonus:95,chr:"v",pixels:[0,3,237,255,1,4,247,141,1,5,245,247,1,6,203,255,2,6,241,54,2,7,255,255,2,8,255,255,3,5,153,255,3,6,255,255,3,7,173,226,3,8,255,51,3,9,255,0,4,3,237,255,4,4,203,255,4,6,153,0,4,7,255,0,4,8,153,0,5,4,238,0,5,5,204,0],secondary:!1},{width:10,bonus:170,chr:"w",pixels:[1,3,153,255,1,4,243,249,1,5,187,255,2,4,153,0,2,5,243,71,2,6,228,171,2,7,243,249,2,8,187,255,3,6,217,239,3,7,248,244,3,8,248,157,3,9,187,0,4,3,169,255,4,4,255,255,4,7,204,0,4,8,238,0,4,9,153,0,5,4,244,231,5,5,255,221,5,6,191,159,6,5,223,19,6,6,237,128,6,7,255,255,6,8,223,253,7,6,239,254,7,7,227,229,7,8,255,119,7,9,221,0,8,3,237,255,8,4,203,255,8,7,238,0,8,8,204,0,9,4,238,0,9,5,204,0],secondary:!1},{width:6,bonus:95,chr:"x",pixels:[0,8,169,255,1,3,169,255,1,4,224,232,1,7,221,255,1,9,170,0,2,4,193,90,2,5,255,255,2,6,240,253,2,8,221,0,3,4,255,255,3,5,155,196,3,6,255,187,3,7,250,191,4,3,221,255,4,5,255,0,4,7,209,104,4,8,255,255,5,4,221,0,5,9,255,0],secondary:!1},{width:6,bonus:110,chr:"y",pixels:[0,3,255,255,0,4,153,255,0,11,221,255,1,4,255,85,1,5,234,222,1,6,228,247,1,11,196,243,2,6,207,21,2,7,246,194,2,8,255,255,2,9,237,255,3,6,237,255,3,7,191,250,3,8,205,85,3,9,255,0,3,10,238,0,4,3,203,255,4,4,221,255,4,7,238,0,4,8,187,0,5,4,204,0,5,5,221,0],secondary:!1},{width:6,bonus:130,chr:"z",pixels:[0,3,153,255,0,8,203,255,1,3,255,255,1,4,153,0,1,7,221,255,1,8,255,255,1,9,204,0,2,3,255,255,2,4,255,0,2,6,255,255,2,8,255,255,2,9,255,0,3,3,255,255,3,4,254,171,3,5,169,255,3,7,255,0,3,8,255,255,3,9,255,0,4,3,255,255,4,4,255,119,4,5,170,0,4,6,170,0,4,8,255,255,4,9,255,0,5,4,255,0,5,9,255,0],secondary:!1},{width:8,bonus:155,chr:"A",pixels:[0,8,153,255,1,6,221,255,1,7,237,255,1,9,153,0,2,3,169,255,2,4,255,255,2,5,187,255,2,6,255,255,2,7,221,0,2,8,238,0,3,1,255,255,3,2,255,255,3,4,170,0,3,5,255,0,3,6,255,255,3,7,255,0,4,2,255,255,4,3,254,239,4,4,184,189,4,6,255,255,4,7,255,0,5,3,255,34,5,4,247,141,5,5,255,255,5,6,255,255,5,7,255,102,6,6,255,85,6,7,255,187,6,8,255,255,7,8,187,0,7,9,255,0],secondary:!1},{width:7,bonus:225,chr:"B",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,255,255,1,5,226,39,1,6,226,39,1,7,226,39,1,8,255,255,1,9,204,0,2,1,255,255,2,2,255,0,2,4,255,255,2,5,255,0,2,8,255,255,2,9,255,0,3,1,255,255,3,2,255,0,3,4,255,255,3,5,255,0,3,8,255,255,3,9,255,0,4,1,221,255,4,2,255,85,4,4,255,255,4,5,254,171,4,8,203,255,4,9,255,0,5,2,243,178,5,3,198,219,5,5,255,102,5,6,232,205,5,7,180,217,5,9,204,0,6,3,170,0,6,4,170,0,6,7,187,0,6,8,153,0],secondary:!1},{width:9,bonus:155,chr:"C",pixels:[0,4,187,255,0,5,187,255,1,2,221,255,1,3,153,255,1,4,155,112,1,5,205,85,1,6,228,171,1,7,224,232,2,1,169,255,2,3,221,0,2,4,153,0,2,7,194,135,2,8,237,183,3,1,255,255,3,2,170,0,3,8,255,255,3,9,170,0,4,1,255,255,4,2,255,0,4,8,255,255,4,9,255,0,5,1,255,255,5,2,255,0,5,8,255,255,5,9,255,0,6,1,169,255,6,2,255,102,6,8,169,255,6,9,255,0,7,2,181,48,7,9,170,0],secondary:!1},{width:8,bonus:200,chr:"D",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,255,255,1,9,204,0,2,1,255,255,2,2,255,0,2,8,255,255,2,9,255,0,3,1,255,255,3,2,255,0,3,8,255,255,3,9,255,0,4,1,203,255,4,2,255,68,4,8,203,255,4,9,255,0,5,2,248,227,5,3,168,207,5,7,221,255,5,9,204,0,6,3,237,128,6,4,223,214,6,5,205,233,6,6,155,196,6,8,221,0,7,5,187,0,7,6,187,0],secondary:!1},{width:6,bonus:180,chr:"E",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,255,255,1,9,204,0,2,1,255,255,2,2,255,0,2,5,255,255,2,6,255,0,2,8,255,255,2,9,255,0,3,1,255,255,3,2,255,0,3,5,255,255,3,6,255,0,3,8,255,255,3,9,255,0,4,1,153,255,4,2,255,0,4,6,255,0,4,8,221,255,4,9,255,0,5,2,153,0,5,9,221,0],secondary:!1},{width:6,bonus:135,chr:"F",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,1,255,255,2,2,255,0,2,5,255,255,2,6,255,0,3,1,255,255,3,2,255,0,3,5,255,255,3,6,255,0,4,2,255,0,4,6,255,0],secondary:!1},{width:9,bonus:200,chr:"G",pixels:[0,4,169,255,0,5,187,255,1,2,203,255,1,3,153,255,1,5,193,90,1,6,224,155,1,7,237,238,2,1,169,255,2,3,204,0,2,4,153,0,2,7,175,124,2,8,246,194,3,1,255,255,3,2,170,0,3,8,255,255,3,9,187,0,4,1,255,255,4,2,255,0,4,8,255,255,4,9,255,0,5,1,255,255,5,2,255,0,5,8,237,255,5,9,255,0,6,1,169,255,6,2,255,85,6,5,255,255,6,7,153,255,6,8,169,255,6,9,238,0,7,2,175,25,7,5,153,255,7,6,255,221,7,7,225,251,7,8,234,222,7,9,170,0,8,6,153,0,8,7,221,0,8,8,221,0,8,9,204,0],secondary:!1},{width:8,bonus:200,chr:"H",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,5,255,255,2,6,255,0,3,5,255,255,3,6,255,0,4,5,255,255,4,6,255,0,5,5,255,255,5,6,255,34,6,1,203,255,6,2,225,251,6,3,225,251,6,4,225,251,6,5,225,251,6,6,255,221,6,7,225,251,6,8,210,247,7,2,204,0,7,3,221,0,7,4,221,0,7,5,221,0,7,6,221,0,7,7,221,0,7,8,221,0,7,9,204,0],secondary:!1},{width:4,bonus:110,chr:"I",pixels:[0,1,191,255,0,8,191,255,1,1,255,255,1,2,255,255,1,3,255,255,1,4,255,255,1,5,255,255,1,6,255,255,1,7,255,255,1,8,255,255,1,9,191,0,2,1,191,255,2,2,255,0,2,3,255,0,2,4,255,0,2,5,255,0,2,6,255,0,2,7,255,0,2,8,255,191,2,9,255,0,3,2,192,0,3,9,191,0],secondary:!1},{width:6,bonus:130,chr:"J",pixels:[0,6,153,255,0,7,153,255,1,7,194,135,1,8,234,222,2,1,221,255,2,8,255,255,2,9,204,0,3,1,255,255,3,2,226,39,3,8,203,255,3,9,255,0,4,1,203,255,4,2,255,221,4,3,225,251,4,4,225,251,4,5,225,251,4,6,225,251,4,7,166,235,4,9,204,0,5,2,204,0,5,3,221,0,5,4,221,0,5,5,221,0,5,6,221,0,5,7,221,0,5,8,153,0],secondary:!1},{width:7,bonus:155,chr:"K",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,226,39,1,4,255,255,1,5,226,39,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,4,255,255,2,5,255,102,3,3,221,255,3,5,254,171,3,6,224,232,4,1,203,255,4,2,153,255,4,4,221,0,4,6,193,90,4,7,251,242,4,8,173,226,5,2,204,0,5,3,153,0,5,8,247,141,5,9,153,0],secondary:!1},{width:6,bonus:115,chr:"L",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,255,255,1,9,204,0,2,8,255,255,2,9,255,0,3,8,255,255,3,9,255,0,4,8,255,255,4,9,255,0,5,9,255,0],secondary:!1},{width:9,bonus:240,chr:"M",pixels:[0,1,245,255,0,2,255,255,0,3,255,255,0,4,255,255,0,5,255,255,0,6,255,255,0,7,255,255,0,8,255,255,1,2,251,173,1,3,255,225,1,4,255,85,1,5,255,0,1,6,255,0,1,7,255,0,1,8,255,0,1,9,255,0,2,3,191,83,2,4,249,212,2,5,212,229,3,5,226,119,3,6,249,237,3,7,165,227,4,6,241,245,4,7,245,155,4,8,155,32,5,4,207,255,5,5,191,254,5,7,232,0,6,2,169,255,6,3,223,255,6,5,207,0,6,6,190,0,7,1,245,255,7,2,255,255,7,3,255,255,7,4,255,255,7,5,255,255,7,6,255,255,7,7,255,255,7,8,255,255,8,2,245,0,8,3,255,0,8,4,255,0,8,5,255,0,8,6,255,0,8,7,255,0,8,8,255,0,8,9,255,0],secondary:!1},{width:8,bonus:200,chr:"N",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,255,255,1,3,235,111,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,3,255,221,2,4,163,160,3,4,246,194,3,5,214,223,4,5,214,122,4,6,246,229,5,6,163,160,5,7,255,255,6,1,203,255,6,2,225,251,6,3,225,251,6,4,225,251,6,5,225,251,6,6,225,251,6,7,235,240,6,8,254,204,7,2,204,0,7,3,221,0,7,4,221,0,7,5,221,0,7,6,221,0,7,7,221,0,7,8,221,0,7,9,204,0],secondary:!1},{width:10,bonus:200,chr:"O",pixels:[0,4,187,255,0,5,169,255,1,2,203,255,1,3,153,255,1,5,205,85,1,6,226,192,1,7,224,232,2,1,153,255,2,3,204,0,2,4,153,0,2,7,209,145,2,8,234,167,3,1,255,255,3,2,153,0,3,8,255,255,3,9,153,0,4,1,255,255,4,2,255,0,4,8,255,255,4,9,255,0,5,1,255,255,5,2,255,0,5,8,255,255,5,9,255,0,6,1,153,255,6,2,255,102,6,8,153,255,6,9,255,0,7,2,234,222,7,3,194,201,7,6,169,255,7,7,203,255,7,9,153,0,8,3,225,116,8,4,228,209,8,5,192,225,8,7,170,0,8,8,204,0,9,5,187,0,9,6,170,0],secondary:!1},{width:7,bonus:165,chr:"P",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,1,255,255,2,2,255,0,2,5,255,255,2,6,255,0,3,1,255,255,3,2,255,0,3,5,255,255,3,6,255,0,4,1,187,255,4,2,255,136,4,5,187,255,4,6,255,0,5,2,224,155,5,3,239,236,5,6,187,0,6,4,221,0],secondary:!1},{width:9,bonus:185,chr:"Q",pixels:[0,4,187,255,0,5,187,255,1,2,221,255,1,4,155,112,1,5,205,85,1,6,228,171,1,7,235,240,2,1,187,255,2,3,221,0,2,7,187,116,2,8,243,178,3,1,255,255,3,2,187,0,3,8,255,255,3,9,170,0,4,1,255,255,4,2,255,0,4,8,255,255,4,9,255,0,5,1,237,255,5,2,255,0,5,8,237,255,5,9,255,0,6,2,251,207,6,7,255,255,6,9,238,0,7,3,255,255,7,4,203,255,7,5,221,255,7,6,255,255,7,7,155,196,7,8,254,204,8,4,255,17,8,5,207,21,8,6,221,0,8,7,255,0,8,9,204,0],secondary:!1},{width:7,bonus:180,chr:"R",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,1,255,255,2,2,255,0,2,5,255,255,2,6,255,0,3,1,255,255,3,2,255,0,3,5,255,255,3,6,255,187,4,2,254,239,4,3,203,255,4,4,255,255,4,6,255,68,4,7,250,243,4,8,181,239,5,3,239,18,5,4,204,0,5,5,255,0,5,8,245,107,5,9,170,0],secondary:!1},{width:6,bonus:130,chr:"S",pixels:[0,2,153,255,0,3,169,255,1,1,203,255,1,3,187,116,1,4,244,231,1,8,243,249,2,1,255,255,2,2,204,0,2,4,198,219,2,5,232,93,2,8,255,255,2,9,238,0,3,1,255,255,3,2,255,0,3,5,255,255,3,8,255,255,3,9,255,0,4,1,169,255,4,2,255,68,4,5,160,217,4,6,255,221,4,7,237,255,4,9,255,0,5,2,170,0,5,7,223,19,5,8,238,0],secondary:!1},{width:8,bonus:125,chr:"T",pixels:[0,1,255,255,1,1,255,255,1,2,255,0,2,1,255,255,2,2,255,34,3,1,255,255,3,2,255,221,3,3,225,251,3,4,225,251,3,5,225,251,3,6,225,251,3,7,225,251,3,8,210,247,4,1,255,255,4,2,255,0,4,3,221,0,4,4,221,0,4,5,221,0,4,6,221,0,4,7,221,0,4,8,221,0,4,9,204,0,5,1,255,255,5,2,255,0,6,2,255,0],secondary:!1},{width:8,bonus:165,chr:"U",pixels:[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,187,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,226,39,1,6,230,75,1,7,232,187,1,8,184,189,2,8,255,255,3,8,255,255,3,9,255,0,4,8,221,255,4,9,255,0,5,1,203,255,5,2,221,255,5,3,221,255,5,4,221,255,5,5,221,255,5,6,255,255,5,7,237,255,5,9,221,0,6,2,211,41,6,3,226,39,6,4,226,39,6,5,226,39,6,6,223,19,6,7,255,0,6,8,238,0],secondary:!1},{width:7,bonus:125,chr:"V",pixels:[0,1,255,255,0,2,187,255,1,2,255,68,1,3,228,171,1,4,255,255,1,5,153,255,2,4,153,0,2,5,255,85,2,6,228,209,2,7,242,251,3,6,164,185,3,7,255,255,3,8,251,207,4,4,203,255,4,5,237,255,4,8,255,0,4,9,204,0,5,1,169,255,5,2,255,255,5,3,153,255,5,5,204,0,5,6,238,0,6,2,170,0,6,3,255,0,6,4,153,0],secondary:!1},{width:10,bonus:245,chr:"W",pixels:[0,1,255,255,0,2,221,255,1,2,255,17,1,3,237,128,1,4,223,214,1,5,255,255,1,6,203,255,2,5,191,23,2,6,255,136,2,7,255,255,2,8,255,255,3,3,153,255,3,4,237,255,3,5,221,255,3,7,168,103,3,8,255,0,3,9,255,0,4,1,255,255,4,2,255,255,4,3,187,209,4,4,153,0,4,5,238,0,4,6,221,0,5,2,255,102,5,3,254,171,5,4,248,244,5,5,203,255,6,4,170,0,6,5,241,54,6,6,231,150,6,7,255,255,6,8,255,255,7,4,153,255,7,5,237,255,7,6,241,252,7,7,207,188,7,8,255,85,7,9,255,0,8,1,237,255,8,2,237,255,8,3,153,255,8,4,153,171,8,5,153,0,8,6,238,0,8,7,238,0,8,8,153,0,9,2,238,0,9,3,238,0,9,4,153,0],secondary:!1},{width:7,bonus:130,chr:"X",pixels:[0,8,169,255,1,1,187,255,1,2,220,236,1,7,237,255,1,9,170,0,2,2,205,85,2,3,248,227,2,4,166,235,2,5,255,255,2,6,153,255,2,8,238,0,3,3,155,196,3,4,255,255,3,5,248,244,3,6,255,51,3,7,153,0,4,2,237,255,4,5,255,51,4,6,251,207,4,7,186,233,5,1,203,255,5,3,238,0,5,7,225,116,5,8,255,255,6,2,204,0,6,9,255,0],secondary:!1},{width:7,bonus:90,chr:"Y",pixels:[0,1,169,255,1,2,249,243,2,3,248,157,2,4,255,255,3,4,241,234,3,5,254,204,3,6,232,243,3,7,225,251,3,8,210,247,4,3,255,255,4,5,221,0,4,6,204,0,4,7,221,0,4,8,221,0,4,9,204,0,5,1,237,255,5,4,255,0,6,2,238,0],secondary:!1},{width:7,bonus:140,chr:"Z",pixels:[0,8,187,255,1,1,255,255,1,7,221,255,1,8,255,255,1,9,187,0,2,1,255,255,2,2,255,0,2,5,203,255,2,8,255,255,2,9,255,0,3,1,255,255,3,2,255,0,3,4,203,255,3,6,204,0,3,8,255,255,3,9,255,0,4,1,255,255,4,2,255,221,4,5,204,0,4,8,255,255,4,9,255,0,5,1,187,255,5,2,255,34,5,3,221,0,5,8,153,255,5,9,255,0,6,2,187,0,6,9,153,0],secondary:!1},{width:7,bonus:170,chr:"0",pixels:[0,2,153,255,0,3,221,255,0,4,255,255,0,5,255,255,0,6,237,255,0,7,169,255,1,1,187,255,1,3,153,0,1,4,221,0,1,5,255,0,1,6,255,0,1,7,243,71,1,8,237,219,2,1,187,255,2,2,187,0,2,8,205,233,2,9,211,41,3,1,221,255,3,2,205,85,3,8,203,255,3,9,187,0,4,2,243,178,4,3,255,255,4,4,187,255,4,5,187,255,4,6,237,255,4,7,169,255,4,9,204,0,5,3,170,0,5,4,255,0,5,5,187,0,5,6,187,0,5,7,238,0,5,8,170,0],secondary:!1},{width:7,bonus:100,chr:"1",pixels:[1,8,187,255,2,1,203,255,2,2,224,232,2,3,219,218,2,4,187,255,2,5,187,255,2,6,187,255,2,7,187,255,2,8,237,255,2,9,187,0,3,2,218,80,3,3,218,80,3,4,205,85,3,5,205,85,3,6,205,85,3,7,205,85,3,8,241,215,3,9,238,0,4,8,168,207,4,9,204,0],secondary:!1},{width:7,bonus:105,chr:"2",pixels:[1,8,255,255,2,1,187,255,2,6,153,255,2,8,223,214,2,9,255,0,3,1,203,255,3,2,187,0,3,5,153,255,3,7,153,0,3,8,219,218,3,9,187,0,4,1,187,255,4,2,234,167,4,4,203,255,4,6,153,0,4,8,187,255,4,9,187,0,5,2,214,122,5,3,200,152,5,5,204,0,5,9,187,0],secondary:!1},{width:7,bonus:105,chr:"3",pixels:[0,8,203,255,1,1,187,255,1,8,191,250,1,9,204,0,2,1,187,255,2,2,196,45,2,4,187,255,2,5,174,150,2,8,203,255,2,9,187,0,3,2,246,229,3,3,210,247,3,5,241,215,3,6,173,175,3,7,169,255,3,9,204,0,4,3,227,57,4,4,204,0,4,6,228,133,4,7,174,150,4,8,170,0],secondary:!1},{width:7,bonus:150,chr:"4",pixels:[0,6,237,255,1,4,187,255,1,6,219,218,1,7,238,0,2,3,169,255,2,5,187,0,2,6,219,218,2,7,187,0,3,1,187,255,3,2,153,255,3,3,155,112,3,4,193,90,3,6,203,255,3,7,205,85,4,1,187,255,4,2,237,201,4,3,228,209,4,4,205,233,4,5,205,233,4,6,242,251,4,7,241,198,4,8,205,233,5,2,187,0,5,3,187,0,5,4,187,0,5,5,187,0,5,6,224,155,5,7,238,0,5,8,187,0,5,9,187,0],secondary:!1},{width:7,bonus:130,chr:"5",pixels:[1,1,237,255,1,2,187,255,1,3,187,255,1,4,187,255,1,8,207,251,2,1,187,255,2,2,238,0,2,3,187,0,2,4,237,201,2,5,187,0,2,8,187,255,2,9,204,0,3,1,187,255,3,2,187,0,3,4,203,255,3,5,191,23,3,8,203,255,3,9,187,0,4,2,187,0,4,5,251,242,4,6,191,250,4,7,221,255,4,9,204,0,5,6,243,71,5,7,191,23,5,8,221,0],secondary:!1},{width:7,bonus:150,chr:"6",pixels:[0,3,169,255,0,4,255,255,0,5,255,255,0,6,237,255,0,7,153,255,1,2,187,255,1,4,209,145,1,5,255,68,1,6,255,0,1,7,246,123,1,8,228,209,2,1,203,255,2,3,187,0,2,4,200,238,2,8,219,218,2,9,187,0,3,1,187,255,3,2,204,0,3,4,203,255,3,5,205,85,3,8,187,255,3,9,187,0,4,2,187,0,4,5,248,227,4,6,255,255,4,7,187,255,4,9,187,0,5,6,221,0,5,7,255,0,5,8,187,0],secondary:!1},{width:7,bonus:105,chr:"7",pixels:[0,1,187,255,1,1,187,255,1,2,187,0,1,8,203,255,2,1,187,255,2,2,187,0,2,6,237,255,2,7,153,255,2,9,204,0,3,1,187,255,3,2,205,85,3,3,153,255,3,4,221,255,3,7,238,0,3,8,153,0,4,1,255,255,4,2,237,201,4,4,153,0,4,5,221,0,5,2,255,0,5,3,187,0],secondary:!1},{width:7,bonus:165,chr:"8",pixels:[1,2,237,255,1,3,221,255,1,6,203,255,1,7,228,247,2,1,203,255,2,3,241,54,2,4,248,209,2,5,186,233,2,7,207,21,2,8,250,226,3,1,187,255,3,2,204,0,3,4,186,233,3,5,221,98,3,6,170,0,3,8,191,250,3,9,221,0,4,1,221,255,4,2,209,104,4,4,169,255,4,5,237,219,4,8,187,255,4,9,187,0,5,2,243,178,5,3,187,209,5,5,204,128,5,6,251,242,5,7,240,253,5,9,187,0,6,3,170,0,6,4,153,0,6,7,238,0,6,8,238,0],secondary:!1},{width:7,bonus:160,chr:"9",pixels:[1,2,221,255,1,3,191,250,1,4,242,251,1,8,153,255,2,1,203,255,2,3,221,0,2,4,191,23,2,5,253,223,2,8,191,250,2,9,153,0,3,1,187,255,3,2,204,0,3,5,191,250,3,6,221,0,3,8,203,255,3,9,187,0,4,1,187,255,4,2,218,139,4,6,200,65,4,7,169,255,4,9,204,0,5,2,228,171,5,3,245,247,5,4,255,255,5,5,255,255,5,6,223,214,5,8,170,0,6,3,153,0,6,4,238,0,6,5,255,0,6,6,255,0,6,7,187,0],secondary:!1},{width:8,bonus:130,chr:"%",pixels:[0,3,255,255,0,8,255,255,1,2,255,255,1,4,255,255,1,7,255,255,1,9,255,0,2,3,255,255,2,5,255,41,2,6,255,255,2,8,255,0,3,4,255,41,3,5,255,255,3,7,255,0,4,4,255,255,4,6,255,92,4,7,255,255,5,3,255,255,5,5,255,0,5,6,255,255,5,8,255,255,6,2,255,255,6,4,255,0,6,7,255,255,6,9,255,0,7,3,255,0,7,8,255,0],secondary:!1},{width:4,bonus:80,chr:"/",pixels:[0,7,153,255,0,8,237,255,0,9,221,255,1,4,187,255,1,5,237,255,1,6,169,255,1,8,153,0,1,9,238,0,1,10,221,0,2,1,221,255,2,2,221,255,2,5,187,0,2,6,238,0,2,7,170,0,3,2,221,0,3,3,221,0],secondary:!1},{width:7,bonus:110,chr:"+",pixels:[0,5,221,255,1,5,255,255,1,6,221,0,2,5,255,255,2,6,255,34,3,2,153,255,3,3,223,253,3,4,225,251,3,5,255,255,3,6,255,221,3,7,225,251,3,8,210,247,4,3,153,0,4,4,221,0,4,5,255,255,4,6,255,0,4,7,221,0,4,8,221,0,4,9,204,0,5,5,255,255,5,6,255,0,6,6,255,0],secondary:!1},{width:5,bonus:75,chr:"?",pixels:[0,1,169,255,1,1,255,255,1,2,170,0,1,6,221,255,1,8,255,255,2,1,255,255,2,2,255,0,2,5,169,255,2,7,221,0,2,9,255,0,3,2,255,255,3,3,221,255,3,6,170,0,4,3,255,17,4,4,221,0],secondary:!1},{width:2,bonus:70,chr:"!",pixels:[0,1,169,255,0,2,187,255,0,3,187,255,0,4,187,255,0,5,187,255,0,6,169,255,0,8,255,255,1,2,181,48,1,3,196,45,1,4,196,45,1,5,196,45,1,6,196,45,1,7,170,0,1,9,255,0],secondary:!1},{width:8,bonus:230,chr:"@",pixels:[0,4,255,255,0,5,255,255,0,6,221,255,0,7,255,255,0,8,187,255,1,3,221,255,1,5,255,0,1,6,255,34,1,7,221,0,1,8,255,68,1,9,250,243,2,2,221,255,2,4,232,93,2,5,255,255,2,6,237,255,2,7,255,255,2,10,248,157,3,2,255,255,3,3,221,0,3,4,255,255,3,6,255,0,3,7,241,54,3,8,254,204,3,10,214,223,3,11,153,0,4,2,237,255,4,3,255,0,4,4,255,255,4,5,255,0,4,8,255,255,4,9,204,0,4,11,187,0,5,3,253,240,5,4,255,255,5,5,255,221,5,6,221,255,5,7,221,255,5,8,237,255,5,9,255,0,6,4,240,36,6,5,255,34,6,6,226,39,6,7,226,39,6,8,250,226,6,9,238,0,7,9,221,0],secondary:!1},{width:8,bonus:200,chr:"#",pixels:[0,6,255,255,1,3,255,255,1,6,255,255,1,7,254,171,1,8,237,255,2,1,169,255,2,2,237,255,2,3,255,255,2,4,255,221,2,5,175,247,2,6,255,255,2,7,255,85,2,8,170,0,2,9,238,0,3,2,170,0,3,3,255,255,3,4,255,0,3,5,221,0,3,6,255,255,3,7,255,0,4,3,255,255,4,4,255,153,4,5,203,255,4,6,255,255,4,7,254,239,4,8,187,255,5,1,255,255,5,2,187,255,5,3,255,255,5,4,255,85,5,5,159,27,5,6,255,255,5,7,255,0,5,8,238,0,5,9,187,0,6,2,255,0,6,3,255,255,6,4,255,0,6,7,255,0,7,4,255,0],secondary:!1},{width:6,bonus:130,chr:"$",pixels:[0,2,153,255,0,3,169,255,1,1,203,255,1,3,187,116,1,4,244,231,1,8,243,249,2,0,203,255,2,1,237,255,2,2,204,0,2,4,176,197,2,5,237,128,2,8,240,253,2,9,251,207,3,1,251,242,3,2,239,18,3,5,247,245,3,6,164,132,3,8,255,255,3,9,240,36,3,10,204,0,4,2,240,36,4,6,249,174,4,7,198,219,4,9,255,0,5,7,170,0,5,8,170,0],secondary:!1},{width:6,bonus:75,chr:"^",pixels:[0,4,153,255,0,5,237,255,1,2,203,255,1,3,221,255,1,5,153,0,1,6,238,0,2,1,221,255,2,2,230,245,2,3,218,80,2,4,221,0,3,2,227,57,3,3,246,194,3,4,230,245,4,4,187,0,4,5,239,145],secondary:!1},{width:6,bonus:35,chr:"~",pixels:[1,5,255,255,2,5,221,255,2,6,255,51,3,6,250,226,4,5,203,255,4,7,221,0,5,6,204,0],secondary:!1},{width:7,bonus:175,chr:"&",pixels:[0,6,187,255,1,2,237,255,1,3,255,255,1,4,191,250,1,5,187,255,1,7,224,155,1,8,223,214,2,1,255,255,2,3,238,0,2,4,255,255,2,5,191,23,2,6,187,0,2,8,255,255,2,9,187,0,3,1,255,255,3,2,255,0,3,4,255,255,3,5,255,0,3,8,255,255,3,9,255,0,4,2,255,0,4,4,255,255,4,5,255,34,4,8,187,255,4,9,255,0,5,3,203,255,5,4,255,255,5,5,255,221,5,6,196,243,5,7,155,196,5,9,187,0,6,4,234,167,6,5,255,0,6,6,221,0,6,7,187,0],secondary:!1},{width:6,bonus:70,chr:"*",pixels:[0,2,169,255,1,2,169,255,1,3,237,219,1,4,255,255,2,1,203,255,2,2,240,253,2,3,255,255,2,4,228,133,2,5,255,0,3,2,237,183,3,3,245,107,3,4,255,153,4,3,170,0,4,5,153,0],secondary:!1},{width:4,bonus:100,chr:"(",pixels:[0,3,173,255,0,4,239,255,0,5,253,255,0,6,229,255,0,7,171,255,1,1,193,255,1,2,203,255,1,4,188,64,1,5,241,25,1,6,252,46,1,7,240,112,1,8,238,218,1,9,210,232,2,0,209,255,2,2,194,2,2,3,204,0,2,9,223,111,2,10,245,224,3,1,210,0,3,11,216,0],secondary:!1},{width:4,bonus:75,chr:")",pixels:[1,0,211,255,1,10,215,255,2,1,244,203,2,2,222,234,2,8,203,255,2,9,191,255,2,11,216,0,3,2,213,94,3,3,238,186,3,4,246,248,3,5,253,255,3,6,231,253,3,7,186,234,3,9,203,1,3,10,191,0],secondary:!1},{width:7,bonus:60,chr:"_",pixels:[0,9,153,255,1,9,255,255,1,10,153,0,2,9,255,255,2,10,255,0,3,9,255,255,3,10,255,0,4,9,255,255,4,10,255,0,5,9,255,255,5,10,255,0,6,10,255,0],secondary:!1},{width:4,bonus:30,chr:"-",pixels:[0,5,255,255,1,5,255,255,1,6,255,0,2,5,255,255,2,6,255,0,3,6,255,0],secondary:!0},{width:8,bonus:100,chr:"=",pixels:[0,4,255,255,0,6,255,255,1,4,255,255,1,5,255,0,1,6,255,255,1,7,255,0,2,4,255,255,2,5,255,0,2,6,255,255,2,7,255,0,3,4,255,255,3,5,255,0,3,6,255,255,3,7,255,0,4,4,255,255,4,5,255,0,4,6,255,255,4,7,255,0,5,5,255,0,5,7,255,0],secondary:!1},{width:3,bonus:105,chr:"[",pixels:[0,0,203,255,0,1,221,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,0,237,255,1,1,211,41,1,2,226,39,1,3,226,39,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,252,241,1,9,204,0,2,1,238,0,2,9,238,0],secondary:!1},{width:3,bonus:105,chr:"]",pixels:[0,0,237,255,0,8,237,255,1,0,203,255,1,1,253,223,1,2,225,251,1,3,225,251,1,4,225,251,1,5,225,251,1,6,225,251,1,7,225,251,1,8,210,247,1,9,238,0,2,1,204,0,2,2,221,0,2,3,221,0,2,4,221,0,2,5,221,0,2,6,221,0,2,7,221,0,2,8,221,0,2,9,204,0],secondary:!1},{width:5,bonus:90,chr:"{",pixels:[0,5,153,255,1,2,169,255,1,3,221,255,1,4,221,255,1,5,203,255,1,6,255,255,1,7,221,255,1,8,169,255,2,1,237,255,2,3,181,48,2,4,223,19,2,5,221,0,2,6,207,21,2,7,255,34,2,8,232,93,2,9,249,243,3,2,238,0,3,10,238,0],secondary:!1},{width:5,bonus:90,chr:"}",pixels:[1,1,237,255,1,9,237,255,2,2,249,174,2,3,232,243,2,4,225,251,2,5,207,251,2,6,255,255,2,7,223,253,2,8,181,239,2,10,238,0,3,3,170,0,3,4,221,0,3,5,241,162,3,6,204,0,3,7,255,0,3,8,221,0,3,9,170,0,4,6,153,0],secondary:!1},{width:3,bonus:20,chr:":",pixels:[1,3,255,255,1,7,255,255,2,4,255,0,2,8,255,0],secondary:!0},{width:3,bonus:40,chr:";",pixels:[0,9,201,255,1,3,255,255,1,7,241,255,1,8,255,255,1,10,201,0,2,4,255,0,2,8,241,0,2,9,255,0],secondary:!0},{width:3,bonus:30,chr:'"',pixels:[0,1,255,255,0,2,255,255,1,2,255,0,1,3,255,0,2,1,255,255,2,2,255,255],secondary:!0},{width:2,bonus:20,chr:"'",pixels:[0,1,255,255,0,2,177,255,1,2,255,30,1,3,177,0],secondary:!0},{width:7,bonus:70,chr:"<",pixels:[0,5,203,255,1,5,255,255,1,6,228,133,2,4,237,255,2,6,254,239,3,4,169,255,3,5,238,0,3,6,175,247,3,7,243,89,4,3,221,255,4,5,170,0,4,7,244,231,5,4,221,0,5,8,221,0],secondary:!1},{width:7,bonus:80,chr:">",pixels:[0,3,203,255,0,7,203,255,1,4,228,133,1,7,187,255,1,8,204,0,2,4,247,245,2,6,255,255,2,8,187,0,3,4,175,247,3,5,248,157,3,6,203,255,3,7,255,0,4,5,255,255,4,6,173,75,4,7,204,0,5,6,255,0],secondary:!1},{width:5,bonus:70,chr:"\\",pixels:[1,1,153,255,1,2,255,255,1,3,203,255,2,2,153,0,2,3,255,51,2,4,231,150,2,5,255,255,2,6,203,255,3,6,255,34,3,7,231,150,3,8,255,255,3,9,207,251,4,9,255,0,4,10,204,0],secondary:!1},{width:2,bonus:10,chr:".",pixels:[0,8,255,255,1,9,255,0],secondary:!0},{width:3,bonus:30,chr:",",pixels:[0,9,205,255,1,7,205,255,1,8,255,255,1,10,205,0,2,8,205,0,2,9,255,0],secondary:!0},{width:3,bonus:100,chr:"|",pixels:[0,1,221,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,221,255,0,9,221,255,0,10,203,255,1,2,226,39,1,3,226,39,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,226,39,1,9,226,39,1,10,226,39,1,11,204,0],secondary:!1}],width:10,spacewidth:3,shadow:!0,height:12,basey:8}}],i={},function e(n){var r=i[n];if(void 0!==r)return r.exports;var o=i[n]={exports:{}};return t[n](o,o.exports,e),o.exports}(0))},1427:function(e){var t,i;"undefined"!=typeof self&&self,e.exports=(t=[e=>{e.exports={chars:[{width:3,bonus:55,chr:"!",pixels:[0,4,221,0,5,170,0,6,153,0,12,153,1,3,221,1,4,255,1,5,221,1,6,204,1,7,170,1,8,153,1,12,204],secondary:!1},{width:6,bonus:30,chr:'"',pixels:[1,2,221,1,3,255,1,4,170,3,2,221,3,3,255,3,4,170],secondary:!0},{width:9,bonus:160,chr:"#",pixels:[1,5,221,1,8,255,2,5,255,2,7,153,2,8,255,2,9,204,2,10,238,2,11,238,3,2,187,3,3,238,3,4,255,3,5,255,3,6,170,3,7,170,3,8,255,4,5,255,4,8,255,5,4,153,5,5,255,5,6,170,5,7,204,5,8,255,5,9,238,5,10,204,5,11,170,6,2,238,6,3,204,6,4,204,6,5,255,6,8,255,7,5,255,7,8,153],secondary:!1},{width:7,bonus:145,chr:"$",pixels:[1,3,204,1,4,255,1,5,187,1,10,153,1,11,204,2,2,187,2,5,221,2,6,255,2,10,170,2,11,255,2,12,221,3,1,153,3,2,238,3,3,221,3,4,238,3,5,204,3,6,238,3,7,255,3,8,153,3,11,221,4,2,221,4,7,255,4,8,221,4,10,187,5,2,170,5,3,187,5,8,221,5,9,255,5,10,153],secondary:!1},{width:12,bonus:175,chr:"%",pixels:[1,4,255,1,5,255,1,6,255,2,3,153,2,7,204,3,3,170,3,7,204,3,12,187,4,3,187,4,4,255,4,5,255,4,6,255,4,10,238,4,11,204,5,7,170,5,8,238,5,9,153,6,5,204,6,6,221,6,9,187,6,10,255,6,11,204,7,3,238,7,4,170,7,8,187,7,11,153,7,12,204,8,8,187,8,12,187,9,8,204,9,9,153,9,12,187,10,9,187,10,10,255,10,11,187],secondary:!1},{width:12,bonus:175,chr:"&",pixels:[0,9,221,0,10,255,0,11,153,1,5,153,1,8,238,1,9,187,1,10,238,1,11,255,2,4,255,2,5,255,2,6,255,2,7,255,2,11,170,2,12,221,3,3,204,3,7,255,3,8,221,3,12,255,4,3,221,4,8,238,4,9,221,4,12,238,5,3,238,5,9,238,5,10,187,5,12,170,6,4,153,6,10,255,6,11,238,7,10,221,7,11,255,8,8,238,8,9,170,8,12,238,9,12,221],secondary:!1},{width:3,bonus:15,chr:"'",pixels:[0,2,153,1,2,187,1,3,204],secondary:!0},{width:5,bonus:60,chr:"(",pixels:[0,6,204,0,7,255,0,8,238,0,9,187,1,4,238,1,5,204,1,6,153,1,9,170,1,10,238,1,11,204,2,3,153,2,12,187],secondary:!1},{width:5,bonus:50,chr:")",pixels:[1,3,204,1,4,153,1,11,221,2,4,153,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,204],secondary:!1},{width:5,bonus:40,chr:"*",pixels:[0,3,170,0,5,153,1,2,187,1,3,187,1,4,221,2,4,170,2,5,221,3,3,153],secondary:!0},{width:8,bonus:65,chr:"+",pixels:[0,8,153,1,8,255,2,8,255,3,5,153,3,6,255,3,7,255,3,8,255,3,9,255,3,10,255,3,11,153,4,8,255,5,8,255,6,8,187],secondary:!1},{width:3,bonus:10,chr:",",pixels:[1,10,187,1,11,221],secondary:!0},{width:6,bonus:20,chr:"-",pixels:[0,9,204,1,9,255,2,9,255,3,9,204],secondary:!0},{width:3,bonus:10,chr:".",pixels:[1,11,170,1,12,204],secondary:!0},{width:8,bonus:50,chr:"/",pixels:[0,11,187,1,10,238,2,8,221,2,9,153,3,6,170,3,7,204,4,5,238,5,3,221,5,4,170,6,2,153],secondary:!1},{width:8,bonus:145,chr:"0",pixels:[0,7,153,0,8,187,0,9,170,1,5,221,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,238,2,4,187,2,11,170,2,12,204,3,4,187,3,12,204,4,4,221,4,12,187,5,5,255,5,6,255,5,7,204,5,8,187,5,9,187,5,10,238,5,11,238,6,6,187,6,7,238,6,8,255,6,9,221,6,10,170],secondary:!1},{width:7,bonus:95,chr:"1",pixels:[1,5,153,2,5,255,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,187,2,12,238,3,4,204,3,5,255,3,6,255,3,7,255,3,8,255,3,9,255,3,10,255,3,11,255,3,12,255,4,12,153],secondary:!1},{width:9,bonus:115,chr:"2",pixels:[1,4,170,1,5,204,1,12,255,2,4,204,2,11,221,2,12,255,3,4,204,3,10,204,3,12,255,4,4,221,4,9,238,4,12,255,5,4,153,5,5,255,5,6,255,5,7,255,5,8,255,5,12,255,6,5,153,6,6,221,6,7,170,6,11,187,6,12,204],secondary:!1},{width:7,bonus:105,chr:"3",pixels:[0,11,187,0,12,187,1,4,204,1,12,238,2,4,221,2,12,221,3,4,238,3,7,187,3,8,221,3,12,204,4,4,170,4,5,255,4,6,255,4,7,153,4,8,238,4,9,255,4,10,221,4,11,255,5,5,170,5,9,221,5,10,238],secondary:!1},{width:9,bonus:120,chr:"4",pixels:[1,9,204,1,10,255,2,8,204,2,10,255,3,7,187,3,10,255,4,5,170,4,6,238,4,7,153,4,8,153,4,9,170,4,10,255,4,11,153,4,12,221,5,4,204,5,5,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,5,11,255,5,12,255,6,10,255],secondary:!1},{width:7,bonus:110,chr:"5",pixels:[0,11,170,0,12,221,1,4,255,1,5,204,1,6,221,1,7,187,1,12,238,2,4,255,2,7,255,2,12,204,3,4,255,3,7,255,3,8,204,3,12,170,4,4,255,4,8,255,4,9,255,4,10,255,4,11,238,5,4,153,5,9,187,5,10,153],secondary:!1},{width:7,bonus:105,chr:"6",pixels:[0,8,187,0,9,255,0,10,238,1,6,170,1,7,255,1,8,221,1,9,187,1,10,204,1,11,255,2,5,187,2,6,153,2,12,221,3,8,221,3,12,204,4,8,204,4,9,238,4,10,187,4,11,221,5,9,221,5,10,255,5,11,153],secondary:!1},{width:7,bonus:90,chr:"7",pixels:[0,4,204,0,5,187,1,4,255,1,12,170,2,4,255,2,10,221,2,11,255,2,12,187,3,4,255,3,8,221,3,9,238,3,10,153,4,4,255,4,5,153,4,6,204,4,7,187,5,4,255,5,5,187],secondary:!1},{width:8,bonus:170,chr:"8",pixels:[0,10,153,1,5,204,1,6,238,1,9,238,1,10,255,1,11,255,2,4,170,2,5,153,2,6,170,2,7,255,2,8,204,2,12,221,3,4,187,3,7,204,3,8,187,3,12,204,4,4,204,4,7,153,4,8,255,4,12,204,5,4,204,5,5,187,5,6,187,5,7,187,5,8,187,5,9,255,5,10,170,5,11,204,5,12,153,6,5,238,6,6,204,6,9,187,6,10,255,6,11,170],secondary:!1},{width:7,bonus:105,chr:"9",pixels:[0,6,238,0,7,238,0,8,153,1,5,204,1,6,153,1,7,187,1,8,255,2,4,204,2,9,187,3,4,221,3,11,187,4,5,255,4,6,238,4,7,187,4,8,187,4,9,238,4,10,255,5,6,221,5,7,255,5,8,238,5,9,170],secondary:!1},{width:3,bonus:20,chr:":",pixels:[0,5,170,0,6,204,0,10,204,0,11,170],secondary:!0},{width:3,bonus:25,chr:";",pixels:[0,4,170,0,5,204,0,9,221,0,11,153,1,9,170],secondary:!0},{width:8,bonus:55,chr:"<",pixels:[1,8,255,1,9,187,2,8,170,2,9,238,3,7,238,4,7,187,4,10,238,5,6,204,5,10,187,6,6,221,6,11,204],secondary:!1},{width:8,bonus:60,chr:"=",pixels:[1,7,255,1,9,255,2,7,255,2,9,255,3,7,255,3,9,255,4,7,255,4,9,255,5,7,255,5,9,255,6,7,255,6,9,255],secondary:!1},{width:8,bonus:55,chr:">",pixels:[1,6,238,1,11,170,2,6,170,2,10,221,3,7,238,3,10,204,4,7,204,4,9,187,5,8,221,5,9,238,6,8,221],secondary:!1},{width:7,bonus:80,chr:"?",pixels:[1,3,170,1,4,153,2,3,221,2,9,238,2,12,153,3,3,238,3,7,170,3,8,221,3,12,204,4,3,204,4,4,238,4,5,221,4,6,255,4,7,187,5,4,221,5,5,238],secondary:!1},{width:11,bonus:185,chr:"@",pixels:[0,7,187,0,8,238,0,9,255,0,10,187,1,5,153,1,6,170,1,11,238,2,12,170,3,7,221,3,8,255,3,9,255,3,10,238,3,12,204,4,3,153,4,6,170,4,12,187,5,3,153,5,5,170,5,8,170,5,9,204,5,12,170,6,3,170,6,5,187,6,6,238,6,7,255,6,8,255,6,9,255,6,10,238,6,12,153,7,3,170,7,10,204,8,4,187,8,9,170,9,5,204,9,6,221,9,7,221,9,8,170],secondary:!1},{width:10,bonus:125,chr:"A",pixels:[1,12,238,2,9,187,2,10,238,2,11,170,2,12,187,3,7,221,3,8,204,3,9,238,4,5,238,4,6,238,4,9,221,5,5,187,5,6,255,5,7,255,5,8,187,5,9,238,6,7,153,6,8,255,6,9,255,6,10,238,6,11,153,7,10,221,7,11,255,7,12,255,8,12,221],secondary:!1},{width:8,bonus:160,chr:"B",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,238,2,9,187,2,10,187,2,11,187,2,12,255,3,4,204,3,8,204,3,12,204,4,4,221,4,5,187,4,7,187,4,8,255,4,12,204,5,5,238,5,6,238,5,9,255,5,10,255,5,11,255,6,10,187],secondary:!1},{width:9,bonus:120,chr:"C",pixels:[0,7,221,0,8,255,0,9,221,1,5,221,1,6,255,1,7,238,1,8,221,1,9,255,1,10,255,1,11,204,2,5,187,2,11,255,3,4,204,3,12,204,4,4,221,4,12,238,5,4,221,5,12,221,6,4,221,6,12,238,7,4,187,7,5,204,7,11,187,7,12,170],secondary:!1},{width:11,bonus:200,chr:"D",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,204,2,12,255,3,4,221,3,12,238,4,4,238,4,12,221,5,4,238,5,12,221,6,4,204,6,5,153,6,12,187,7,5,255,7,6,153,7,11,238,8,5,204,8,6,255,8,7,255,8,8,255,8,9,255,8,10,255,8,11,170,9,7,204,9,8,221,9,9,187],secondary:!1},{width:7,bonus:135,chr:"E",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,204,2,12,255,3,4,221,3,8,221,3,12,238,4,4,238,4,8,221,4,12,221,5,4,187,5,8,153,5,12,238],secondary:!1},{width:7,bonus:115,chr:"F",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,187,2,12,238,3,4,221,3,8,221,4,4,238,4,8,221,5,4,221],secondary:!1},{width:10,bonus:150,chr:"G",pixels:[0,7,204,0,8,255,0,9,255,0,10,187,1,5,187,1,6,255,1,7,238,1,8,221,1,9,238,1,10,255,1,11,221,2,5,204,2,11,238,3,4,204,3,12,204,4,4,221,4,12,238,5,4,238,5,12,221,6,4,221,6,9,238,6,10,187,6,11,187,6,12,221,7,4,170,7,5,221,7,9,255,7,10,255,7,11,255,7,12,153],secondary:!1},{width:11,bonus:200,chr:"H",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,187,2,12,238,3,8,221,4,8,221,5,8,221,6,8,221,7,4,255,7,5,255,7,6,255,7,7,255,7,8,255,7,9,255,7,10,255,7,11,255,7,12,255,8,4,238,8,5,187,8,6,187,8,7,187,8,8,187,8,9,187,8,10,187,8,11,187,8,12,238],secondary:!1},{width:5,bonus:90,chr:"I",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,187,2,12,238],secondary:!1},{width:6,bonus:100,chr:"J",pixels:[2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,2,12,255,2,13,255,2,14,187,3,4,238,3,5,187,3,6,187,3,7,187,3,8,187,3,9,187,3,10,187,3,11,187,3,12,187],secondary:!1},{width:10,bonus:170,chr:"K",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,255,2,9,204,2,10,187,2,11,187,2,12,238,3,7,170,3,8,255,3,9,221,4,6,204,4,9,238,4,10,238,5,4,153,5,5,238,5,10,238,5,11,238,6,4,255,6,11,238,6,12,187,7,4,153,7,12,255,8,12,153],secondary:!1},{width:8,bonus:105,chr:"L",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,204,2,12,255,3,12,238,4,12,221,5,12,255],secondary:!1},{width:13,bonus:190,chr:"M",pixels:[1,9,170,1,10,204,1,11,238,1,12,255,2,4,187,2,5,255,2,6,255,2,7,238,2,8,153,2,12,153,3,6,238,3,7,255,3,8,238,4,8,238,4,9,255,4,10,238,5,10,238,5,11,255,5,12,187,6,9,153,6,10,238,7,7,153,7,8,238,8,5,170,8,6,255,8,7,238,9,4,153,9,5,204,9,6,255,9,7,255,9,8,255,9,9,255,9,10,255,9,11,255,9,12,238,10,10,153,10,11,187,10,12,255],secondary:!1},{width:11,bonus:170,chr:"N",pixels:[0,12,170,1,4,187,1,5,255,1,6,255,1,7,238,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,5,204,2,6,255,2,12,153,3,6,221,3,7,255,4,7,238,4,8,255,5,8,238,5,9,255,6,9,238,6,10,238,7,4,153,7,10,255,7,11,238,8,4,255,8,5,255,8,6,255,8,7,255,8,8,255,8,9,255,8,10,255,8,11,255,8,12,204,9,4,153],secondary:!1},{width:10,bonus:160,chr:"O",pixels:[0,7,221,0,8,255,0,9,221,1,5,204,1,6,255,1,7,221,1,8,221,1,9,255,1,10,255,1,11,221,2,5,170,2,11,238,3,4,221,3,12,221,4,4,221,4,12,221,5,4,238,5,12,204,6,4,153,6,5,238,6,11,170,7,5,238,7,6,255,7,7,255,7,8,221,7,9,238,7,10,255,7,11,187,8,6,153,8,7,238,8,8,255,8,9,204],secondary:!1},{width:8,bonus:130,chr:"P",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,187,2,12,238,3,4,204,4,4,238,5,4,170,5,5,255,5,6,255,5,7,255,5,8,204,6,6,187],secondary:!1},{width:10,bonus:200,chr:"Q",pixels:[0,7,221,0,8,255,0,9,221,1,5,187,1,6,255,1,7,238,1,8,221,1,9,255,1,10,255,1,11,221,2,5,170,2,11,238,2,12,153,3,4,221,3,12,221,4,4,221,4,12,238,5,4,238,5,12,204,6,4,153,6,5,238,6,11,153,6,12,238,7,5,221,7,6,255,7,7,255,7,8,221,7,9,238,7,10,255,7,11,170,7,12,204,7,13,221,8,6,153,8,7,238,8,8,255,8,9,221,8,13,255,8,14,170,9,13,170,9,14,255],secondary:!1},{width:10,bonus:175,chr:"R",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,187,2,9,255,2,10,187,2,11,187,2,12,238,3,4,221,3,9,221,4,4,238,4,9,255,4,10,170,5,4,153,5,5,255,5,6,255,5,7,255,5,8,187,5,10,255,5,11,187,6,6,187,6,11,238,6,12,170,7,12,255,8,12,153],secondary:!1},{width:7,bonus:95,chr:"S",pixels:[0,11,221,0,12,187,1,5,255,1,6,255,1,7,255,1,12,238,2,4,187,2,7,255,2,8,238,2,12,221,3,4,187,3,8,255,3,9,187,3,12,221,4,4,221,4,8,187,4,9,255,4,10,255,4,11,255],secondary:!1},{width:10,bonus:125,chr:"T",pixels:[0,4,187,1,4,221,2,4,221,3,4,255,3,5,187,3,6,187,3,7,187,3,8,187,3,9,187,3,10,187,3,11,187,3,12,238,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,4,11,255,4,12,255,5,4,221,5,12,153,6,4,221,7,4,255],secondary:!1},{width:11,bonus:145,chr:"U",pixels:[1,4,238,1,5,187,1,6,187,1,7,187,1,8,187,1,9,187,1,10,153,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,3,11,170,3,12,204,4,12,238,5,12,221,6,12,204,7,4,187,7,11,221,8,4,255,8,5,255,8,6,255,8,7,255,8,8,255,8,9,238,8,10,204],secondary:!1},{width:11,bonus:120,chr:"V",pixels:[1,4,204,2,4,255,2,5,255,2,6,204,3,4,187,3,5,170,3,6,255,3,7,255,3,8,238,3,9,153,4,8,204,4,9,255,4,10,255,4,11,187,5,10,238,5,11,255,6,8,204,6,9,221,7,4,170,7,5,153,7,6,238,7,7,187,8,4,255,8,5,170],secondary:!1},{width:14,bonus:200,chr:"W",pixels:[1,4,255,1,5,221,2,4,238,2,5,255,2,6,255,2,7,255,2,8,221,3,7,153,3,8,221,3,9,255,3,10,255,3,11,221,4,9,153,4,10,255,4,11,204,5,7,170,5,8,238,5,9,153,6,5,238,6,6,255,6,7,153,7,5,187,7,6,255,7,7,255,7,8,204,8,8,238,8,9,255,8,10,238,8,11,153,9,9,153,9,10,255,9,11,255,9,12,170,10,7,170,10,8,238,10,9,187,11,4,238,11,5,255,11,6,187,12,4,170],secondary:!1},{width:10,bonus:135,chr:"X",pixels:[1,4,221,1,12,238,2,4,255,2,5,255,2,10,170,2,11,221,2,12,187,3,4,153,3,5,187,3,6,255,3,7,238,3,9,221,4,7,255,4,8,255,4,9,204,5,6,204,5,7,153,5,9,255,5,10,255,5,11,153,6,4,221,6,5,238,6,10,204,6,11,255,6,12,255,7,4,204,7,12,238],secondary:!1},{width:9,bonus:115,chr:"Y",pixels:[0,5,187,1,5,255,1,6,221,2,5,170,2,6,238,2,7,255,2,8,170,3,8,255,3,9,255,3,10,187,3,11,187,3,12,187,3,13,238,4,9,255,4,10,255,4,11,255,4,12,255,4,13,255,5,7,187,5,8,204,6,5,238,6,6,238,7,5,204],secondary:!1},{width:9,bonus:145,chr:"Z",pixels:[1,5,187,1,6,153,1,13,255,2,5,238,2,11,221,2,12,255,2,13,255,3,5,221,3,9,153,3,10,255,3,11,238,3,13,255,4,5,221,4,8,238,4,9,255,4,10,187,4,13,255,5,5,238,5,6,187,5,7,255,5,8,238,5,13,255,6,5,255,6,6,255,6,7,153,6,13,255,7,5,204,7,12,187,7,13,187],secondary:!1},{width:5,bonus:70,chr:"[",pixels:[1,3,187,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,1,13,255,1,14,187,2,3,153,2,14,153],secondary:!1},{width:8,bonus:50,chr:"\\",pixels:[0,4,170,1,5,204,1,6,170,2,7,238,3,8,170,3,9,204,4,10,221,4,11,153,5,12,238,6,13,187],secondary:!1},{width:4,bonus:70,chr:"]",pixels:[1,3,170,1,14,170,2,3,187,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,2,12,255,2,13,255,2,14,187],secondary:!1},{width:7,bonus:55,chr:"^",pixels:[0,9,238,1,6,170,1,7,238,1,8,153,2,4,204,2,5,221,3,4,187,3,5,238,4,7,238,4,8,187,5,9,204],secondary:!1},{width:8,bonus:35,chr:"_",pixels:[0,12,221,1,12,221,2,12,221,3,12,221,4,12,221,5,12,221,6,12,153],secondary:!1},{width:10,bonus:125,chr:"a",pixels:[1,12,238,2,9,187,2,10,238,2,11,170,2,12,187,3,7,221,3,8,204,3,9,238,4,5,238,4,6,238,4,9,221,5,5,187,5,6,255,5,7,255,5,8,187,5,9,238,6,7,153,6,8,255,6,9,255,6,10,238,6,11,153,7,10,221,7,11,255,7,12,255,8,12,221],secondary:!1},{width:8,bonus:160,chr:"b",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,238,2,9,187,2,10,187,2,11,187,2,12,255,3,4,204,3,8,204,3,12,204,4,4,221,4,5,187,4,7,187,4,8,255,4,12,204,5,5,238,5,6,238,5,9,255,5,10,255,5,11,255,6,10,187],secondary:!1},{width:9,bonus:120,chr:"c",pixels:[0,7,221,0,8,255,0,9,221,1,5,221,1,6,255,1,7,238,1,8,221,1,9,255,1,10,255,1,11,204,2,5,187,2,11,255,3,4,204,3,12,204,4,4,221,4,12,238,5,4,221,5,12,221,6,4,221,6,12,238,7,4,187,7,5,204,7,11,187,7,12,170],secondary:!1},{width:11,bonus:200,chr:"d",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,204,2,12,255,3,4,221,3,12,238,4,4,238,4,12,221,5,4,238,5,12,221,6,4,204,6,5,153,6,12,187,7,5,255,7,6,153,7,11,238,8,5,204,8,6,255,8,7,255,8,8,255,8,9,255,8,10,255,8,11,170,9,7,204,9,8,221,9,9,187],secondary:!1},{width:7,bonus:135,chr:"e",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,204,2,12,255,3,4,221,3,8,221,3,12,238,4,4,238,4,8,221,4,12,221,5,4,187,5,8,153,5,12,238],secondary:!1},{width:7,bonus:115,chr:"f",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,187,2,12,238,3,4,221,3,8,221,4,4,238,4,8,221,5,4,221],secondary:!1},{width:10,bonus:150,chr:"g",pixels:[0,7,204,0,8,255,0,9,255,0,10,187,1,5,187,1,6,255,1,7,238,1,8,221,1,9,238,1,10,255,1,11,221,2,5,204,2,11,238,3,4,204,3,12,204,4,4,221,4,12,238,5,4,238,5,12,221,6,4,221,6,9,238,6,10,187,6,11,187,6,12,221,7,4,170,7,5,221,7,9,255,7,10,255,7,11,255,7,12,153],secondary:!1},{width:11,bonus:200,chr:"h",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,187,2,12,238,3,8,221,4,8,221,5,8,221,6,8,221,7,4,255,7,5,255,7,6,255,7,7,255,7,8,255,7,9,255,7,10,255,7,11,255,7,12,255,8,4,238,8,5,187,8,6,187,8,7,187,8,8,187,8,9,187,8,10,187,8,11,187,8,12,238],secondary:!1},{width:5,bonus:90,chr:"i",pixels:[1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,1,13,255,2,5,238,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,187,2,12,187,2,13,238],secondary:!1},{width:6,bonus:100,chr:"j",pixels:[2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,2,12,255,2,13,255,2,14,187,3,4,238,3,5,187,3,6,187,3,7,187,3,8,187,3,9,187,3,10,187,3,11,187,3,12,187],secondary:!1},{width:10,bonus:170,chr:"k",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,255,2,9,204,2,10,187,2,11,187,2,12,238,3,7,170,3,8,255,3,9,221,4,6,204,4,9,238,4,10,238,5,4,153,5,5,238,5,10,238,5,11,238,6,4,255,6,11,238,6,12,187,7,4,153,7,12,255,8,12,153],secondary:!1},{width:8,bonus:105,chr:"l",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,204,2,12,255,3,12,238,4,12,221,5,12,255],secondary:!1},{width:13,bonus:190,chr:"m",pixels:[1,9,170,1,10,204,1,11,238,1,12,255,2,4,187,2,5,255,2,6,255,2,7,238,2,8,153,2,12,153,3,6,238,3,7,255,3,8,238,4,8,238,4,9,255,4,10,238,5,10,238,5,11,255,5,12,187,6,9,153,6,10,238,7,7,153,7,8,238,8,5,170,8,6,255,8,7,238,9,4,153,9,5,204,9,6,255,9,7,255,9,8,255,9,9,255,9,10,255,9,11,255,9,12,238,10,10,153,10,11,187,10,12,255],secondary:!1},{width:11,bonus:170,chr:"n",pixels:[0,12,170,1,4,187,1,5,255,1,6,255,1,7,238,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,5,204,2,6,255,2,12,153,3,6,221,3,7,255,4,7,238,4,8,255,5,8,238,5,9,255,6,9,238,6,10,238,7,4,153,7,10,255,7,11,238,8,4,255,8,5,255,8,6,255,8,7,255,8,8,255,8,9,255,8,10,255,8,11,255,8,12,204,9,4,153],secondary:!1},{width:10,bonus:160,chr:"o",pixels:[0,7,221,0,8,255,0,9,221,1,5,204,1,6,255,1,7,221,1,8,221,1,9,255,1,10,255,1,11,221,2,5,170,2,11,238,3,4,221,3,12,221,4,4,221,4,12,221,5,4,238,5,12,204,6,4,153,6,5,238,6,11,170,7,5,238,7,6,255,7,7,255,7,8,221,7,9,238,7,10,255,7,11,187,8,6,153,8,7,238,8,8,255,8,9,204],secondary:!1},{width:8,bonus:130,chr:"p",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,187,2,12,238,3,4,204,4,4,238,5,4,170,5,5,255,5,6,255,5,7,255,5,8,204,6,6,187],secondary:!1},{width:10,bonus:200,chr:"q",pixels:[0,7,221,0,8,255,0,9,221,1,5,187,1,6,255,1,7,238,1,8,221,1,9,255,1,10,255,1,11,221,2,5,170,2,11,238,2,12,153,3,4,221,3,12,221,4,4,221,4,12,238,5,4,238,5,12,204,6,4,153,6,5,238,6,11,153,6,12,238,7,5,221,7,6,255,7,7,255,7,8,221,7,9,238,7,10,255,7,11,170,7,12,204,7,13,221,8,6,153,8,7,238,8,8,255,8,9,221,8,13,255,8,14,170,9,13,170,9,14,255],secondary:!1},{width:10,bonus:175,chr:"r",pixels:[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,187,2,9,255,2,10,187,2,11,187,2,12,238,3,4,221,3,9,221,4,4,238,4,9,255,4,10,170,5,4,153,5,5,255,5,6,255,5,7,255,5,8,187,5,10,255,5,11,187,6,6,187,6,11,238,6,12,170,7,12,255,8,12,153],secondary:!1},{width:7,bonus:95,chr:"s",pixels:[0,11,221,0,12,187,1,5,255,1,6,255,1,7,255,1,12,238,2,4,187,2,7,255,2,8,238,2,12,221,3,4,187,3,8,255,3,9,187,3,12,221,4,4,221,4,8,187,4,9,255,4,10,255,4,11,255],secondary:!1},{width:10,bonus:125,chr:"t",pixels:[0,4,187,1,4,221,2,4,221,3,4,255,3,5,187,3,6,187,3,7,187,3,8,187,3,9,187,3,10,187,3,11,187,3,12,238,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,4,11,255,4,12,255,5,4,221,5,12,153,6,4,221,7,4,255],secondary:!1},{width:11,bonus:145,chr:"u",pixels:[1,4,238,1,5,187,1,6,187,1,7,187,1,8,187,1,9,187,1,10,153,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,3,11,170,3,12,204,4,12,238,5,12,221,6,12,204,7,4,187,7,11,221,8,4,255,8,5,255,8,6,255,8,7,255,8,8,255,8,9,238,8,10,204],secondary:!1},{width:11,bonus:120,chr:"v",pixels:[1,4,204,2,4,255,2,5,255,2,6,204,3,4,187,3,5,170,3,6,255,3,7,255,3,8,238,3,9,153,4,8,204,4,9,255,4,10,255,4,11,187,5,10,238,5,11,255,6,8,204,6,9,221,7,4,170,7,5,153,7,6,238,7,7,187,8,4,255,8,5,170],secondary:!1},{width:14,bonus:200,chr:"w",pixels:[1,4,255,1,5,221,2,4,238,2,5,255,2,6,255,2,7,255,2,8,221,3,7,153,3,8,221,3,9,255,3,10,255,3,11,221,4,9,153,4,10,255,4,11,204,5,7,170,5,8,238,5,9,153,6,5,238,6,6,255,6,7,153,7,5,187,7,6,255,7,7,255,7,8,204,8,8,238,8,9,255,8,10,238,8,11,153,9,9,153,9,10,255,9,11,255,9,12,170,10,7,170,10,8,238,10,9,187,11,4,238,11,5,255,11,6,187,12,4,170],secondary:!1},{width:10,bonus:135,chr:"x",pixels:[1,4,221,1,12,238,2,4,255,2,5,255,2,10,170,2,11,221,2,12,187,3,4,153,3,5,187,3,6,255,3,7,238,3,9,221,4,7,255,4,8,255,4,9,204,5,6,204,5,7,153,5,9,255,5,10,255,5,11,153,6,4,221,6,5,238,6,10,204,6,11,255,6,12,255,7,4,204,7,12,238],secondary:!1},{width:9,bonus:115,chr:"y",pixels:[0,4,187,1,4,255,1,5,221,2,4,170,2,5,238,2,6,255,2,7,170,3,7,255,3,8,255,3,9,187,3,10,187,3,11,187,3,12,238,4,8,255,4,9,255,4,10,255,4,11,255,4,12,255,5,6,187,5,7,204,6,4,238,6,5,238,7,4,204],secondary:!1},{width:9,bonus:145,chr:"z",pixels:[1,4,187,1,5,153,1,12,255,2,4,238,2,10,221,2,11,255,2,12,255,3,4,221,3,8,153,3,9,255,3,10,238,3,12,255,4,4,221,4,7,238,4,8,255,4,9,187,4,12,255,5,4,238,5,5,187,5,6,255,5,7,238,5,12,255,6,4,255,6,5,255,6,6,153,6,12,255,7,4,204,7,11,187,7,12,187],secondary:!1},{width:5,bonus:55,chr:"{",pixels:[1,8,204,2,4,255,2,5,255,2,6,255,2,7,187,2,9,238,2,10,255,2,11,255,2,12,255,2,13,187,3,3,170],secondary:!1},{width:3,bonus:65,chr:"|",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255],secondary:!0},{width:6,bonus:55,chr:"}",pixels:[1,3,170,2,4,255,2,5,255,2,6,255,2,7,187,2,9,238,2,10,255,2,11,255,2,12,255,2,13,187,3,8,204],secondary:!1},{width:7,bonus:35,chr:"~",pixels:[0,9,255,1,8,255,2,8,187,3,9,238,4,10,255,5,8,255,5,9,221],secondary:!1}],width:14,spacewidth:5,shadow:!1,height:15,basey:12}}],i={},function e(n){var r=i[n];if(void 0!==r)return r.exports;var o=i[n]={exports:{}};return t[n](o,o.exports,e),o.exports}(0))},2829:(e,t,i)=>{"use strict";i.d(t,{fi:()=>b,kZ:()=>x});var n=i(1778),r=i(7370),o=i(2475),s=i(3817),a=i(3465),l=i(1061),c=i(5565),h=i(2714),u=i(3295);function d(e,t,i){void 0===i&&(i=!1);var d,p,g=(0,s.Re)(t),m=(0,s.Re)(t)&&function(e){var t=e.getBoundingClientRect(),i=(0,u.NM)(t.width)/e.offsetWidth||1,n=(0,u.NM)(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),f=(0,c.Z)(t),y=(0,n.Z)(e,m,i),v={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(g||!g&&!i)&&(("body"!==(0,a.Z)(t)||(0,h.Z)(f))&&(v=(d=t)!==(0,o.Z)(d)&&(0,s.Re)(d)?{scrollLeft:(p=d).scrollLeft,scrollTop:p.scrollTop}:(0,r.Z)(d)),(0,s.Re)(t)?((_=(0,n.Z)(t,!0)).x+=t.clientLeft,_.y+=t.clientTop):f&&(_.x=(0,l.Z)(f))),{x:y.left+v.scrollLeft-_.x,y:y.top+v.scrollTop-_.y,width:y.width,height:y.height}}var p=i(982),g=i(3044),m=i(688),f=i(1899);function y(e){var t=new Map,i=new Set,n=[];function r(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&r(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||r(e)})),n}var v={placement:"bottom",modifiers:[],strategy:"absolute"};function _(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function x(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,r=t.defaultOptions,o=void 0===r?v:r;return function(e,t,i){void 0===i&&(i=o);var r,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},v,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],h=!1,u={state:l,setOptions:function(i){var r="function"==typeof i?i(l.options):i;x(),l.options=Object.assign({},o,l.options,r),l.scrollParents={reference:(0,s.kK)(e)?(0,g.Z)(e):e.contextElement?(0,g.Z)(e.contextElement):[],popper:(0,g.Z)(t)};var a,h,d=function(e){var t=y(e);return f.xs.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}((a=[].concat(n,l.options.modifiers),h=a.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{}),Object.keys(h).map((function(e){return h[e]}))));return l.orderedModifiers=d.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,r=e.effect;if("function"==typeof r){var o=r({state:l,name:t,instance:u,options:n});c.push(o||function(){})}})),u.update()},forceUpdate:function(){if(!h){var e=l.elements,t=e.reference,i=e.popper;if(_(t,i)){l.rects={reference:d(t,(0,m.Z)(i),"fixed"===l.options.strategy),popper:(0,p.Z)(i)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<l.orderedModifiers.length;n++)if(!0!==l.reset){var r=l.orderedModifiers[n],o=r.fn,s=r.options,a=void 0===s?{}:s,c=r.name;"function"==typeof o&&(l=o({state:l,options:a,name:c,instance:u})||l)}else l.reset=!1,n=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(r())}))}))),a}),destroy:function(){x(),h=!0}};if(!_(e,t))return u;function x(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(i).then((function(e){!h&&i.onFirstUpdate&&i.onFirstUpdate(e)})),u}}var b=x()},5681:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(3817);function r(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&(0,n.Zq)(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}},1778:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(3817),r=i(3295),o=i(2475),s=i(8269);function a(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var a=e.getBoundingClientRect(),l=1,c=1;t&&(0,n.Re)(e)&&(l=e.offsetWidth>0&&(0,r.NM)(a.width)/e.offsetWidth||1,c=e.offsetHeight>0&&(0,r.NM)(a.height)/e.offsetHeight||1);var h=((0,n.kK)(e)?(0,o.Z)(e):window).visualViewport,u=!(0,s.Z)()&&i,d=(a.left+(u&&h?h.offsetLeft:0))/l,p=(a.top+(u&&h?h.offsetTop:0))/c,g=a.width/l,m=a.height/c;return{width:g,height:m,top:p,right:d+g,bottom:p+m,left:d,x:d,y:p}}},6594:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(2475);function r(e){return(0,n.Z)(e).getComputedStyle(e)}},5565:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(3817);function r(e){return(((0,n.kK)(e)?e.ownerDocument:e.document)||window.document).documentElement}},982:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(1778);function r(e){var t=(0,n.Z)(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}},3465:(e,t,i)=>{"use strict";function n(e){return e?(e.nodeName||"").toLowerCase():null}i.d(t,{Z:()=>n})},688:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n=i(2475),r=i(3465),o=i(6594),s=i(3817);function a(e){return["table","td","th"].indexOf((0,r.Z)(e))>=0}var l=i(3087),c=i(1434);function h(e){return(0,s.Re)(e)&&"fixed"!==(0,o.Z)(e).position?e.offsetParent:null}function u(e){for(var t=(0,n.Z)(e),i=h(e);i&&a(i)&&"static"===(0,o.Z)(i).position;)i=h(i);return i&&("html"===(0,r.Z)(i)||"body"===(0,r.Z)(i)&&"static"===(0,o.Z)(i).position)?t:i||function(e){var t=/firefox/i.test((0,c.Z)());if(/Trident/i.test((0,c.Z)())&&(0,s.Re)(e)&&"fixed"===(0,o.Z)(e).position)return null;var i=(0,l.Z)(e);for((0,s.Zq)(i)&&(i=i.host);(0,s.Re)(i)&&["html","body"].indexOf((0,r.Z)(i))<0;){var n=(0,o.Z)(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}},3087:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(3465),r=i(5565),o=i(3817);function s(e){return"html"===(0,n.Z)(e)?e:e.assignedSlot||e.parentNode||((0,o.Zq)(e)?e.host:null)||(0,r.Z)(e)}},2475:(e,t,i)=>{"use strict";function n(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}i.d(t,{Z:()=>n})},7370:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(2475);function r(e){var t=(0,n.Z)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},1061:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(1778),r=i(5565),o=i(7370);function s(e){return(0,n.Z)((0,r.Z)(e)).left+(0,o.Z)(e).scrollLeft}},3817:(e,t,i)=>{"use strict";i.d(t,{Re:()=>o,Zq:()=>s,kK:()=>r});var n=i(2475);function r(e){return e instanceof(0,n.Z)(e).Element||e instanceof Element}function o(e){return e instanceof(0,n.Z)(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof(0,n.Z)(e).ShadowRoot||e instanceof ShadowRoot)}},8269:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(1434);function r(){return!/^((?!chrome|android).)*safari/i.test((0,n.Z)())}},2714:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(6594);function r(e){var t=(0,n.Z)(e),i=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+r)}},3044:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(3087),r=i(2714),o=i(3465),s=i(3817);function a(e){return["html","body","#document"].indexOf((0,o.Z)(e))>=0?e.ownerDocument.body:(0,s.Re)(e)&&(0,r.Z)(e)?e:a((0,n.Z)(e))}var l=i(2475);function c(e,t){var i;void 0===t&&(t=[]);var o=a(e),s=o===(null==(i=e.ownerDocument)?void 0:i.body),h=(0,l.Z)(o),u=s?[h].concat(h.visualViewport||[],(0,r.Z)(o)?o:[]):o,d=t.concat(u);return s?d:d.concat(c((0,n.Z)(u)))}},1899:(e,t,i)=>{"use strict";i.d(t,{BL:()=>c,Ct:()=>f,DH:()=>b,F2:()=>o,I:()=>r,MS:()=>T,N7:()=>y,Pj:()=>d,XM:()=>x,YP:()=>g,bw:()=>m,cW:()=>A,d7:()=>a,ij:()=>v,iv:()=>k,k5:()=>p,mv:()=>l,r5:()=>_,t$:()=>s,ut:()=>h,wX:()=>w,we:()=>n,xs:()=>C,zV:()=>u});var n="top",r="bottom",o="right",s="left",a="auto",l=[n,r,o,s],c="start",h="end",u="clippingParents",d="viewport",p="popper",g="reference",m=l.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+h])}),[]),f=[].concat(l,[a]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+h])}),[]),y="beforeRead",v="read",_="afterRead",x="beforeMain",b="main",w="afterMain",k="beforeWrite",A="write",T="afterWrite",C=[y,v,_,x,b,w,k,A,T]},6087:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(3465),r=i(3817);const o={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},o=t.attributes[e]||{},s=t.elements[e];(0,r.Re)(s)&&(0,n.Z)(s)&&(Object.assign(s.style,i),Object.keys(o).forEach((function(e){var t=o[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],s=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});(0,r.Re)(o)&&(0,n.Z)(o)&&(Object.assign(o.style,a),Object.keys(s).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]}},2089:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(6066),r=i(982),o=i(5681),s=i(688),a=i(6159),l=i(944),c=i(2631),h=i(8104),u=i(1899);const d={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,o=e.name,d=e.options,p=i.elements.arrow,g=i.modifiersData.popperOffsets,m=(0,n.Z)(i.placement),f=(0,a.Z)(m),y=[u.t$,u.F2].indexOf(m)>=0?"height":"width";if(p&&g){var v=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,(0,c.Z)("number"!=typeof e?e:(0,h.Z)(e,u.mv))}(d.padding,i),_=(0,r.Z)(p),x="y"===f?u.we:u.t$,b="y"===f?u.I:u.F2,w=i.rects.reference[y]+i.rects.reference[f]-g[f]-i.rects.popper[y],k=g[f]-i.rects.reference[f],A=(0,s.Z)(p),T=A?"y"===f?A.clientHeight||0:A.clientWidth||0:0,C=w/2-k/2,S=v[x],E=T-_[y]-v[b],z=T/2-_[y]/2+C,P=(0,l.u)(S,z,E),M=f;i.modifiersData[o]=((t={})[M]=P,t.centerOffset=P-z,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&(0,o.Z)(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},6938:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(1899),r=i(688),o=i(2475),s=i(5565),a=i(6594),l=i(6066),c=i(5262),h=i(3295),u={top:"auto",right:"auto",bottom:"auto",left:"auto"};function d(e){var t,i=e.popper,l=e.popperRect,c=e.placement,d=e.variation,p=e.offsets,g=e.position,m=e.gpuAcceleration,f=e.adaptive,y=e.roundOffsets,v=e.isFixed,_=p.x,x=void 0===_?0:_,b=p.y,w=void 0===b?0:b,k="function"==typeof y?y({x,y:w}):{x,y:w};x=k.x,w=k.y;var A=p.hasOwnProperty("x"),T=p.hasOwnProperty("y"),C=n.t$,S=n.we,E=window;if(f){var z=(0,r.Z)(i),P="clientHeight",M="clientWidth";z===(0,o.Z)(i)&&(z=(0,s.Z)(i),"static"!==(0,a.Z)(z).position&&"absolute"===g&&(P="scrollHeight",M="scrollWidth")),(c===n.we||(c===n.t$||c===n.F2)&&d===n.ut)&&(S=n.I,w-=(v&&z===E&&E.visualViewport?E.visualViewport.height:z[P])-l.height,w*=m?1:-1),c!==n.t$&&(c!==n.we&&c!==n.I||d!==n.ut)||(C=n.F2,x-=(v&&z===E&&E.visualViewport?E.visualViewport.width:z[M])-l.width,x*=m?1:-1)}var L,I=Object.assign({position:g},f&&u),O=!0===y?function(e,t){var i=e.x,n=e.y,r=t.devicePixelRatio||1;return{x:(0,h.NM)(i*r)/r||0,y:(0,h.NM)(n*r)/r||0}}({x,y:w},(0,o.Z)(i)):{x,y:w};return x=O.x,w=O.y,m?Object.assign({},I,((L={})[S]=T?"0":"",L[C]=A?"0":"",L.transform=(E.devicePixelRatio||1)<=1?"translate("+x+"px, "+w+"px)":"translate3d("+x+"px, "+w+"px, 0)",L)):Object.assign({},I,((t={})[S]=T?w+"px":"",t[C]=A?x+"px":"",t.transform="",t))}const p={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,r=void 0===n||n,o=i.adaptive,s=void 0===o||o,a=i.roundOffsets,h=void 0===a||a,u={placement:(0,l.Z)(t.placement),variation:(0,c.Z)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,d(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:h})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,d(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}}},5377:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(2475),r={passive:!0};const o={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,o=e.options,s=o.scroll,a=void 0===s||s,l=o.resize,c=void 0===l||l,h=(0,n.Z)(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",i.update,r)})),c&&h.addEventListener("resize",i.update,r),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",i.update,r)})),c&&h.removeEventListener("resize",i.update,r)}},data:{}}},5173:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n={left:"right",right:"left",bottom:"top",top:"bottom"};function r(e){return e.replace(/left|right|bottom|top/g,(function(e){return n[e]}))}var o=i(6066),s={start:"end",end:"start"};function a(e){return e.replace(/start|end/g,(function(e){return s[e]}))}var l=i(241),c=i(5262),h=i(1899);const u={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=i.mainAxis,u=void 0===s||s,d=i.altAxis,p=void 0===d||d,g=i.fallbackPlacements,m=i.padding,f=i.boundary,y=i.rootBoundary,v=i.altBoundary,_=i.flipVariations,x=void 0===_||_,b=i.allowedAutoPlacements,w=t.options.placement,k=(0,o.Z)(w),A=g||(k!==w&&x?function(e){if((0,o.Z)(e)===h.d7)return[];var t=r(e);return[a(e),t,a(t)]}(w):[r(w)]),T=[w].concat(A).reduce((function(e,i){return e.concat((0,o.Z)(i)===h.d7?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,r=i.boundary,s=i.rootBoundary,a=i.padding,u=i.flipVariations,d=i.allowedAutoPlacements,p=void 0===d?h.Ct:d,g=(0,c.Z)(n),m=g?u?h.bw:h.bw.filter((function(e){return(0,c.Z)(e)===g})):h.mv,f=m.filter((function(e){return p.indexOf(e)>=0}));0===f.length&&(f=m);var y=f.reduce((function(t,i){return t[i]=(0,l.Z)(e,{placement:i,boundary:r,rootBoundary:s,padding:a})[(0,o.Z)(i)],t}),{});return Object.keys(y).sort((function(e,t){return y[e]-y[t]}))}(t,{placement:i,boundary:f,rootBoundary:y,padding:m,flipVariations:x,allowedAutoPlacements:b}):i)}),[]),C=t.rects.reference,S=t.rects.popper,E=new Map,z=!0,P=T[0],M=0;M<T.length;M++){var L=T[M],I=(0,o.Z)(L),O=(0,c.Z)(L)===h.BL,D=[h.we,h.I].indexOf(I)>=0,R=D?"width":"height",B=(0,l.Z)(t,{placement:L,boundary:f,rootBoundary:y,altBoundary:v,padding:m}),j=D?O?h.F2:h.t$:O?h.I:h.we;C[R]>S[R]&&(j=r(j));var N=r(j),F=[];if(u&&F.push(B[I]<=0),p&&F.push(B[j]<=0,B[N]<=0),F.every((function(e){return e}))){P=L,z=!1;break}E.set(L,F)}if(z)for(var Z=function(e){var t=T.find((function(t){var i=E.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return P=t,"break"},q=x?3:1;q>0&&"break"!==Z(q);q--);t.placement!==P&&(t.modifiersData[n]._skip=!0,t.placement=P,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},7801:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(1899),r=i(241);function o(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function s(e){return[n.we,n.F2,n.I,n.t$].some((function(t){return e[t]>=0}))}const a={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,a=t.rects.popper,l=t.modifiersData.preventOverflow,c=(0,r.Z)(t,{elementContext:"reference"}),h=(0,r.Z)(t,{altBoundary:!0}),u=o(c,n),d=o(h,a,l),p=s(u),g=s(d);t.modifiersData[i]={referenceClippingOffsets:u,popperEscapeOffsets:d,isReferenceHidden:p,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":g})}}},6415:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(6066),r=i(1899);const o={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,o=e.name,s=i.offset,a=void 0===s?[0,0]:s,l=r.Ct.reduce((function(e,i){return e[i]=function(e,t,i){var o=(0,n.Z)(e),s=[r.t$,r.we].indexOf(o)>=0?-1:1,a="function"==typeof i?i(Object.assign({},t,{placement:e})):i,l=a[0],c=a[1];return l=l||0,c=(c||0)*s,[r.t$,r.F2].indexOf(o)>=0?{x:c,y:l}:{x:l,y:c}}(i,t.rects,a),e}),{}),c=l[t.placement],h=c.x,u=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=h,t.modifiersData.popperOffsets.y+=u),t.modifiersData[o]=l}}},6915:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(2012);const r={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=(0,n.Z)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}}},1037:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(1899),r=i(6066),o=i(6159),s=i(944),a=i(982),l=i(688),c=i(241),h=i(5262),u=i(9371),d=i(3295);const p={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,p=e.name,g=i.mainAxis,m=void 0===g||g,f=i.altAxis,y=void 0!==f&&f,v=i.boundary,_=i.rootBoundary,x=i.altBoundary,b=i.padding,w=i.tether,k=void 0===w||w,A=i.tetherOffset,T=void 0===A?0:A,C=(0,c.Z)(t,{boundary:v,rootBoundary:_,padding:b,altBoundary:x}),S=(0,r.Z)(t.placement),E=(0,h.Z)(t.placement),z=!E,P=(0,o.Z)(S),M="x"===P?"y":"x",L=t.modifiersData.popperOffsets,I=t.rects.reference,O=t.rects.popper,D="function"==typeof T?T(Object.assign({},t.rects,{placement:t.placement})):T,R="number"==typeof D?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(L){if(m){var N,F="y"===P?n.we:n.t$,Z="y"===P?n.I:n.F2,q="y"===P?"height":"width",U=L[P],V=U+C[F],H=U-C[Z],W=k?-O[q]/2:0,K=E===n.BL?I[q]:O[q],G=E===n.BL?-O[q]:-I[q],Q=t.elements.arrow,Y=k&&Q?(0,a.Z)(Q):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,u.Z)(),X=J[F],$=J[Z],ee=(0,s.u)(0,I[q],Y[q]),te=z?I[q]/2-W-ee-X-R.mainAxis:K-ee-X-R.mainAxis,ie=z?-I[q]/2+W+ee+$+R.mainAxis:G+ee+$+R.mainAxis,ne=t.elements.arrow&&(0,l.Z)(t.elements.arrow),re=ne?"y"===P?ne.clientTop||0:ne.clientLeft||0:0,oe=null!=(N=null==B?void 0:B[P])?N:0,se=U+te-oe-re,ae=U+ie-oe,le=(0,s.u)(k?(0,d.VV)(V,se):V,U,k?(0,d.Fp)(H,ae):H);L[P]=le,j[P]=le-U}if(y){var ce,he="x"===P?n.we:n.t$,ue="x"===P?n.I:n.F2,de=L[M],pe="y"===M?"height":"width",ge=de+C[he],me=de-C[ue],fe=-1!==[n.we,n.t$].indexOf(S),ye=null!=(ce=null==B?void 0:B[M])?ce:0,ve=fe?ge:de-I[pe]-O[pe]-ye+R.altAxis,_e=fe?de+I[pe]+O[pe]-ye-R.altAxis:me,xe=k&&fe?(0,s.q)(ve,de,_e):(0,s.u)(k?ve:ge,de,k?_e:me);L[M]=xe,j[M]=xe-de}t.modifiersData[p]=j}},requiresIfExists:["offset"]}},3781:(e,t,i)=>{"use strict";i.d(t,{fi:()=>g});var n=i(2829),r=i(5377),o=i(6915),s=i(6938),a=i(6087),l=i(6415),c=i(5173),h=i(1037),u=i(2089),d=i(7801),p=[r.Z,o.Z,s.Z,a.Z,l.Z,c.Z,h.Z,u.Z,d.Z],g=(0,n.kZ)({defaultModifiers:p})},2012:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(6066),r=i(5262),o=i(6159),s=i(1899);function a(e){var t,i=e.reference,a=e.element,l=e.placement,c=l?(0,n.Z)(l):null,h=l?(0,r.Z)(l):null,u=i.x+i.width/2-a.width/2,d=i.y+i.height/2-a.height/2;switch(c){case s.we:t={x:u,y:i.y-a.height};break;case s.I:t={x:u,y:i.y+i.height};break;case s.F2:t={x:i.x+i.width,y:d};break;case s.t$:t={x:i.x-a.width,y:d};break;default:t={x:i.x,y:i.y}}var p=c?(0,o.Z)(c):null;if(null!=p){var g="y"===p?"height":"width";switch(h){case s.BL:t[p]=t[p]-(i[g]/2-a[g]/2);break;case s.ut:t[p]=t[p]+(i[g]/2-a[g]/2)}}return t}},241:(e,t,i)=>{"use strict";i.d(t,{Z:()=>k});var n=i(1899),r=i(2475),o=i(5565),s=i(1061),a=i(8269),l=i(6594),c=i(7370),h=i(3295),u=i(3044),d=i(688),p=i(3817),g=i(1778),m=i(3087),f=i(5681),y=i(3465);function v(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _(e,t,i){return t===n.Pj?v(function(e,t){var i=(0,r.Z)(e),n=(0,o.Z)(e),l=i.visualViewport,c=n.clientWidth,h=n.clientHeight,u=0,d=0;if(l){c=l.width,h=l.height;var p=(0,a.Z)();(p||!p&&"fixed"===t)&&(u=l.offsetLeft,d=l.offsetTop)}return{width:c,height:h,x:u+(0,s.Z)(e),y:d}}(e,i)):(0,p.kK)(t)?function(e,t){var i=(0,g.Z)(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):v(function(e){var t,i=(0,o.Z)(e),n=(0,c.Z)(e),r=null==(t=e.ownerDocument)?void 0:t.body,a=(0,h.Fp)(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=(0,h.Fp)(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),d=-n.scrollLeft+(0,s.Z)(e),p=-n.scrollTop;return"rtl"===(0,l.Z)(r||i).direction&&(d+=(0,h.Fp)(i.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:d,y:p}}((0,o.Z)(e)))}var x=i(2012),b=i(2631),w=i(8104);function k(e,t){void 0===t&&(t={});var i=t,r=i.placement,s=void 0===r?e.placement:r,a=i.strategy,c=void 0===a?e.strategy:a,k=i.boundary,A=void 0===k?n.zV:k,T=i.rootBoundary,C=void 0===T?n.Pj:T,S=i.elementContext,E=void 0===S?n.k5:S,z=i.altBoundary,P=void 0!==z&&z,M=i.padding,L=void 0===M?0:M,I=(0,b.Z)("number"!=typeof L?L:(0,w.Z)(L,n.mv)),O=E===n.k5?n.YP:n.k5,D=e.rects.popper,R=e.elements[P?O:E],B=function(e,t,i,n){var r="clippingParents"===t?function(e){var t=(0,u.Z)((0,m.Z)(e)),i=["absolute","fixed"].indexOf((0,l.Z)(e).position)>=0&&(0,p.Re)(e)?(0,d.Z)(e):e;return(0,p.kK)(i)?t.filter((function(e){return(0,p.kK)(e)&&(0,f.Z)(e,i)&&"body"!==(0,y.Z)(e)})):[]}(e):[].concat(t),o=[].concat(r,[i]),s=o[0],a=o.reduce((function(t,i){var r=_(e,i,n);return t.top=(0,h.Fp)(r.top,t.top),t.right=(0,h.VV)(r.right,t.right),t.bottom=(0,h.VV)(r.bottom,t.bottom),t.left=(0,h.Fp)(r.left,t.left),t}),_(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}((0,p.kK)(R)?R:R.contextElement||(0,o.Z)(e.elements.popper),A,C,c),j=(0,g.Z)(e.elements.reference),N=(0,x.Z)({reference:j,element:D,strategy:"absolute",placement:s}),F=v(Object.assign({},D,N)),Z=E===n.k5?F:j,q={top:B.top-Z.top+I.top,bottom:Z.bottom-B.bottom+I.bottom,left:B.left-Z.left+I.left,right:Z.right-B.right+I.right},U=e.modifiersData.offset;if(E===n.k5&&U){var V=U[s];Object.keys(q).forEach((function(e){var t=[n.F2,n.I].indexOf(e)>=0?1:-1,i=[n.we,n.I].indexOf(e)>=0?"y":"x";q[e]+=V[i]*t}))}return q}},8104:(e,t,i)=>{"use strict";function n(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}i.d(t,{Z:()=>n})},6066:(e,t,i)=>{"use strict";function n(e){return e.split("-")[0]}i.d(t,{Z:()=>n})},9371:(e,t,i)=>{"use strict";function n(){return{top:0,right:0,bottom:0,left:0}}i.d(t,{Z:()=>n})},6159:(e,t,i)=>{"use strict";function n(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}i.d(t,{Z:()=>n})},5262:(e,t,i)=>{"use strict";function n(e){return e.split("-")[1]}i.d(t,{Z:()=>n})},3295:(e,t,i)=>{"use strict";i.d(t,{Fp:()=>n,NM:()=>o,VV:()=>r});var n=Math.max,r=Math.min,o=Math.round},2631:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(9371);function r(e){return Object.assign({},(0,n.Z)(),e)}},1434:(e,t,i)=>{"use strict";function n(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}i.d(t,{Z:()=>n})},944:(e,t,i)=>{"use strict";i.d(t,{q:()=>o,u:()=>r});var n=i(3295);function r(e,t,i){return(0,n.Fp)(e,(0,n.VV)(t,i))}function o(e,t,i){var n=r(e,t,i);return n>i?i:n}},9619:(e,t,i)=>{"use strict";var n=i(7061);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==r(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===r(o)?o:String(o)),n)}var o}function s(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var a,l,c=i(1404).codes,h=c.ERR_AMBIGUOUS_ARGUMENT,u=c.ERR_INVALID_ARG_TYPE,d=c.ERR_INVALID_ARG_VALUE,p=c.ERR_INVALID_RETURN_VALUE,g=c.ERR_MISSING_ARGS,m=i(7366),f=i(1323).inspect,y=i(1323).types,v=y.isPromise,_=y.isRegExp,x=i(1028)(),b=i(1800)(),w=i(2737)("RegExp.prototype.test");function k(){var e=i(118);a=e.isDeepEqual,l=e.isDeepStrictEqual}new Map;var A=!1,T=e.exports=z,C={};function S(e){if(e.message instanceof Error)throw e.message;throw new m(e)}function E(e,t,i,n){if(!i){var r=!1;if(0===t)r=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new m({actual:i,expected:!0,message:n,operator:"==",stackStartFn:e});throw o.generatedMessage=r,o}}function z(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];E.apply(void 0,[z,t.length].concat(t))}T.fail=function e(t,i,r,o,s){var a,l=arguments.length;if(0===l?a="Failed":1===l?(r=t,t=void 0):(!1===A&&(A=!0,(n.emitWarning?n.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===l&&(o="!=")),r instanceof Error)throw r;var c={actual:t,expected:i,operator:void 0===o?"fail":o,stackStartFn:s||e};void 0!==r&&(c.message=r);var h=new m(c);throw a&&(h.message=a,h.generatedMessage=!0),h},T.AssertionError=m,T.ok=z,T.equal=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");t!=i&&S({actual:t,expected:i,message:n,operator:"==",stackStartFn:e})},T.notEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");t==i&&S({actual:t,expected:i,message:n,operator:"!=",stackStartFn:e})},T.deepEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");void 0===a&&k(),a(t,i)||S({actual:t,expected:i,message:n,operator:"deepEqual",stackStartFn:e})},T.notDeepEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");void 0===a&&k(),a(t,i)&&S({actual:t,expected:i,message:n,operator:"notDeepEqual",stackStartFn:e})},T.deepStrictEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");void 0===a&&k(),l(t,i)||S({actual:t,expected:i,message:n,operator:"deepStrictEqual",stackStartFn:e})},T.notDeepStrictEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");void 0===a&&k(),l(t,i)&&S({actual:t,expected:i,message:n,operator:"notDeepStrictEqual",stackStartFn:e})},T.strictEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");b(t,i)||S({actual:t,expected:i,message:n,operator:"strictEqual",stackStartFn:e})},T.notStrictEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");b(t,i)&&S({actual:t,expected:i,message:n,operator:"notStrictEqual",stackStartFn:e})};var P=s((function e(t,i,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.forEach((function(e){e in t&&(void 0!==n&&"string"==typeof n[e]&&_(t[e])&&w(t[e],n[e])?r[e]=n[e]:r[e]=t[e])}))}));function M(e,t,i,n){if("function"!=typeof t){if(_(t))return w(t,e);if(2===arguments.length)throw new u("expected",["Function","RegExp"],t);if("object"!==r(e)||null===e){var o=new m({actual:e,expected:t,message:i,operator:"deepStrictEqual",stackStartFn:n});throw o.operator=n.name,o}var s=Object.keys(t);if(t instanceof Error)s.push("name","message");else if(0===s.length)throw new d("error",t,"may not be an empty object");return void 0===a&&k(),s.forEach((function(r){"string"==typeof e[r]&&_(t[r])&&w(t[r],e[r])||function(e,t,i,n,r,o){if(!(i in e)||!l(e[i],t[i])){if(!n){var s=new P(e,r),a=new P(t,r,e),c=new m({actual:s,expected:a,operator:"deepStrictEqual",stackStartFn:o});throw c.actual=e,c.expected=t,c.operator=o.name,c}S({actual:e,expected:t,message:n,operator:o.name,stackStartFn:o})}}(e,t,r,i,s,n)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function L(e){if("function"!=typeof e)throw new u("fn","Function",e);try{e()}catch(e){return e}return C}function I(e){return v(e)||null!==e&&"object"===r(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function O(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!I(t=e()))throw new p("instance of Promise","promiseFn",t)}else{if(!I(e))throw new u("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return C})).catch((function(e){return e}))}))}function D(e,t,i,n){if("string"==typeof i){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],i);if("object"===r(t)&&null!==t){if(t.message===i)throw new h("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===i)throw new h("error/message",'The error "'.concat(t,'" is identical to the message.'));n=i,i=void 0}else if(null!=i&&"object"!==r(i)&&"function"!=typeof i)throw new u("error",["Object","Error","Function","RegExp"],i);if(t===C){var o="";i&&i.name&&(o+=" (".concat(i.name,")")),o+=n?": ".concat(n):".";var s="rejects"===e.name?"rejection":"exception";S({actual:void 0,expected:i,operator:e.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:e})}if(i&&!M(t,i,n,e))throw t}function R(e,t,i,n){if(t!==C){if("string"==typeof i&&(n=i,i=void 0),!i||M(t,i)){var r=n?": ".concat(n):".",o="doesNotReject"===e.name?"rejection":"exception";S({actual:t,expected:i,operator:e.name,message:"Got unwanted ".concat(o).concat(r,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function B(e,t,i,n,o){if(!_(t))throw new u("regexp","RegExp",t);var s="match"===o;if("string"!=typeof e||w(t,e)!==s){if(i instanceof Error)throw i;var a=!i;i=i||("string"!=typeof e?'The "string" argument must be of type string. Received type '+"".concat(r(e)," (").concat(f(e),")"):(s?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(f(t),". Input:\n\n").concat(f(e),"\n"));var l=new m({actual:e,expected:t,message:i,operator:o,stackStartFn:n});throw l.generatedMessage=a,l}}function j(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];E.apply(void 0,[j,t.length].concat(t))}T.throws=function e(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];D.apply(void 0,[e,L(t)].concat(n))},T.rejects=function e(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return O(t).then((function(t){return D.apply(void 0,[e,t].concat(n))}))},T.doesNotThrow=function e(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];R.apply(void 0,[e,L(t)].concat(n))},T.doesNotReject=function e(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return O(t).then((function(t){return R.apply(void 0,[e,t].concat(n))}))},T.ifError=function e(t){if(null!=t){var i="ifError got unwanted exception: ";"object"===r(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?i+=t.constructor.name:i+=t.message:i+=f(t);var n=new m({actual:t,expected:null,operator:"ifError",message:i,stackStartFn:e}),o=t.stack;if("string"==typeof o){var s=o.split("\n");s.shift();for(var a=n.stack.split("\n"),l=0;l<s.length;l++){var c=a.indexOf(s[l]);if(-1!==c){a=a.slice(0,c);break}}n.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw n}},T.match=function e(t,i,n){B(t,i,n,e,"match")},T.doesNotMatch=function e(t,i,n){B(t,i,n,e,"doesNotMatch")},T.strict=x(j,T,{equal:T.strictEqual,deepEqual:T.deepStrictEqual,notEqual:T.notStrictEqual,notDeepEqual:T.notDeepStrictEqual}),T.strict.strict=T.strict},7366:(e,t,i)=>{"use strict";var n=i(7061);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){var n,r,o;n=e,r=t,o=i[t],(r=a(r))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===m(t)?t:String(t)}function l(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},h(e)}function u(e,t,i){return u=d()?Reflect.construct.bind():function(e,t,i){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return i&&p(r,i.prototype),r},u.apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var f=i(1323).inspect,y=i(1404).codes.ERR_INVALID_ARG_TYPE;function v(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}var _="",x="",b="",w="",k={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function A(e){var t=Object.keys(e),i=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){i[t]=e[t]})),Object.defineProperty(i,"message",{value:e.message}),i}function T(e){return f(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var C=function(e,t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(C,e);var i,r,a,h,u=(i=C,r=d(),function(){var e,t=g(i);if(r){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function C(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),"object"!==m(e)||null===e)throw new y("options","Object",e);var i=e.message,r=e.operator,o=e.stackStartFn,s=e.actual,a=e.expected,h=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)t=u.call(this,String(i));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(_="[34m",x="[32m",w="[39m",b="[31m"):(_="",x="",w="",b="")),"object"===m(s)&&null!==s&&"object"===m(a)&&null!==a&&"stack"in s&&s instanceof Error&&"stack"in a&&a instanceof Error&&(s=A(s),a=A(a)),"deepStrictEqual"===r||"strictEqual"===r)t=u.call(this,function(e,t,i){var r="",o="",s=0,a="",l=!1,c=T(e),h=c.split("\n"),u=T(t).split("\n"),d=0,p="";if("strictEqual"===i&&"object"===m(e)&&"object"===m(t)&&null!==e&&null!==t&&(i="strictEqualObject"),1===h.length&&1===u.length&&h[0]!==u[0]){var g=h[0].length+u[0].length;if(g<=10){if(!("object"===m(e)&&null!==e||"object"===m(t)&&null!==t||0===e&&0===t))return"".concat(k[i],"\n\n")+"".concat(h[0]," !== ").concat(u[0],"\n")}else if("strictEqualObject"!==i&&g<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;h[0][d]===u[0][d];)d++;d>2&&(p="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var i=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,i-e.length)}(" ",d),"^"),d=0)}}for(var f=h[h.length-1],y=u[u.length-1];f===y&&(d++<2?a="\n  ".concat(f).concat(a):r=f,h.pop(),u.pop(),0!==h.length&&0!==u.length);)f=h[h.length-1],y=u[u.length-1];var A=Math.max(h.length,u.length);if(0===A){var C=c.split("\n");if(C.length>30)for(C[26]="".concat(_,"...").concat(w);C.length>27;)C.pop();return"".concat(k.notIdentical,"\n\n").concat(C.join("\n"),"\n")}d>3&&(a="\n".concat(_,"...").concat(w).concat(a),l=!0),""!==r&&(a="\n  ".concat(r).concat(a),r="");var S=0,E=k[i]+"\n".concat(x,"+ actual").concat(w," ").concat(b,"- expected").concat(w),z=" ".concat(_,"...").concat(w," Lines skipped");for(d=0;d<A;d++){var P=d-s;if(h.length<d+1)P>1&&d>2&&(P>4?(o+="\n".concat(_,"...").concat(w),l=!0):P>3&&(o+="\n  ".concat(u[d-2]),S++),o+="\n  ".concat(u[d-1]),S++),s=d,r+="\n".concat(b,"-").concat(w," ").concat(u[d]),S++;else if(u.length<d+1)P>1&&d>2&&(P>4?(o+="\n".concat(_,"...").concat(w),l=!0):P>3&&(o+="\n  ".concat(h[d-2]),S++),o+="\n  ".concat(h[d-1]),S++),s=d,o+="\n".concat(x,"+").concat(w," ").concat(h[d]),S++;else{var M=u[d],L=h[d],I=L!==M&&(!v(L,",")||L.slice(0,-1)!==M);I&&v(M,",")&&M.slice(0,-1)===L&&(I=!1,L+=","),I?(P>1&&d>2&&(P>4?(o+="\n".concat(_,"...").concat(w),l=!0):P>3&&(o+="\n  ".concat(h[d-2]),S++),o+="\n  ".concat(h[d-1]),S++),s=d,o+="\n".concat(x,"+").concat(w," ").concat(L),r+="\n".concat(b,"-").concat(w," ").concat(M),S+=2):(o+=r,r="",1!==P&&0!==d||(o+="\n  ".concat(L),S++))}if(S>20&&d<A-2)return"".concat(E).concat(z,"\n").concat(o,"\n").concat(_,"...").concat(w).concat(r,"\n")+"".concat(_,"...").concat(w)}return"".concat(E).concat(l?z:"","\n").concat(o).concat(r).concat(a).concat(p)}(s,a,r));else if("notDeepStrictEqual"===r||"notStrictEqual"===r){var d=k[r],p=T(s).split("\n");if("notStrictEqual"===r&&"object"===m(s)&&null!==s&&(d=k.notStrictEqualObject),p.length>30)for(p[26]="".concat(_,"...").concat(w);p.length>27;)p.pop();t=1===p.length?u.call(this,"".concat(d," ").concat(p[0])):u.call(this,"".concat(d,"\n\n").concat(p.join("\n"),"\n"))}else{var g=T(s),f="",S=k[r];"notDeepEqual"===r||"notEqual"===r?(g="".concat(k[r],"\n\n").concat(g)).length>1024&&(g="".concat(g.slice(0,1021),"...")):(f="".concat(T(a)),g.length>512&&(g="".concat(g.slice(0,509),"...")),f.length>512&&(f="".concat(f.slice(0,509),"...")),"deepEqual"===r||"equal"===r?g="".concat(S,"\n\n").concat(g,"\n\nshould equal\n\n"):f=" ".concat(r," ").concat(f)),t=u.call(this,"".concat(g).concat(f))}return Error.stackTraceLimit=h,t.generatedMessage=!i,Object.defineProperty(c(t),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),t.code="ERR_ASSERTION",t.actual=s,t.expected=a,t.operator=r,Error.captureStackTrace&&Error.captureStackTrace(c(t),o),t.stack,t.name="AssertionError",l(t)}return a=C,(h=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:t,value:function(e,t){return f(this,o(o({},t),{},{customInspect:!1,depth:0}))}}])&&s(a.prototype,h),Object.defineProperty(a,"prototype",{writable:!1}),C}(h(Error),f.custom);e.exports=C},1404:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}var s,a,l={};function c(e,t,i){i||(i=Error);var s=function(i){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(h,i);var s,a,l,c=(a=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=o(a);if(l){var i=o(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function h(i,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),o=c.call(this,function(e,i,n){return"string"==typeof t?t:t(e,i,n)}(i,n,r)),o.code=e,o}return s=h,Object.defineProperty(s,"prototype",{writable:!1}),s}(i);l[e]=s}function h(e,t){if(Array.isArray(e)){var i=e.length;return e=e.map((function(e){return String(e)})),i>2?"one of ".concat(t," ").concat(e.slice(0,i-1).join(", "),", or ")+e[i-1]:2===i?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",(function(e,t,r){var o,a,l,c,u;if(void 0===s&&(s=i(9619)),s("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(a="not ",t.substr(0,4)===a)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-9,i)===t}(e," argument"))l="The ".concat(e," ").concat(o," ").concat(h(t,"type"));else{var d=("number"!=typeof u&&(u=0),u+1>(c=e).length||-1===c.indexOf(".",u)?"argument":"property");l='The "'.concat(e,'" ').concat(d," ").concat(o," ").concat(h(t,"type"))}return l+". Received type ".concat(n(r))}),TypeError),c("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===a&&(a=i(1323));var r=a.inspect(t);return r.length>128&&(r="".concat(r.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(r)}),TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",(function(e,t,i){var r;return r=i&&i.constructor&&i.constructor.name?"instance of ".concat(i.constructor.name):"type ".concat(n(i)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(r,".")}),TypeError),c("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0===s&&(s=i(9619)),s(t.length>0,"At least one arg needs to be specified");var r="The ",o=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),o){case 1:r+="".concat(t[0]," argument");break;case 2:r+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:r+=t.slice(0,o-1).join(", "),r+=", and ".concat(t[o-1]," arguments")}return"".concat(r," must be specified")}),TypeError),e.exports.codes=l},118:(e,t,i)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var s=void 0!==/a/g.flags,a=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},l=function(e){var t=[];return e.forEach((function(e,i){return t.push([i,e])})),t},c=Object.is?Object.is:i(3822),h=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},u=Number.isNaN?Number.isNaN:i(4866);function d(e){return e.call.bind(e)}var p=d(Object.prototype.hasOwnProperty),g=d(Object.prototype.propertyIsEnumerable),m=d(Object.prototype.toString),f=i(1323).types,y=f.isAnyArrayBuffer,v=f.isArrayBufferView,_=f.isDate,x=f.isMap,b=f.isRegExp,w=f.isSet,k=f.isNativeError,A=f.isBoxedPrimitive,T=f.isNumberObject,C=f.isStringObject,S=f.isBooleanObject,E=f.isBigIntObject,z=f.isSymbolObject,P=f.isFloat32Array,M=f.isFloat64Array;function L(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var i=e.charCodeAt(t);if(i<48||i>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function I(e){return Object.keys(e).filter(L).concat(h(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function O(e,t){if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=Math.min(i,n);r<o;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0}var D=0,R=1,B=2,j=3;function N(e,t,i,n){if(e===t)return 0!==e||!i||c(e,t);if(i){if("object"!==o(e))return"number"==typeof e&&u(e)&&u(t);if("object"!==o(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==o(e))return(null===t||"object"!==o(t))&&e==t;if(null===t||"object"!==o(t))return!1}var r,a,l,h,d=m(e);if(d!==m(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var p=I(e),g=I(t);return p.length===g.length&&Z(e,t,i,n,R,p)}if("[object Object]"===d&&(!x(e)&&x(t)||!w(e)&&w(t)))return!1;if(_(e)){if(!_(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(b(e)){if(!b(t)||(l=e,h=t,!(s?l.source===h.source&&l.flags===h.flags:RegExp.prototype.toString.call(l)===RegExp.prototype.toString.call(h))))return!1}else if(k(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(v(e)){if(i||!P(e)&&!M(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===O(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var i=0;i<e.byteLength;i++)if(e[i]!==t[i])return!1;return!0}(e,t))return!1;var f=I(e),L=I(t);return f.length===L.length&&Z(e,t,i,n,D,f)}if(w(e))return!(!w(t)||e.size!==t.size)&&Z(e,t,i,n,B);if(x(e))return!(!x(t)||e.size!==t.size)&&Z(e,t,i,n,j);if(y(e)){if(a=t,(r=e).byteLength!==a.byteLength||0!==O(new Uint8Array(r),new Uint8Array(a)))return!1}else if(A(e)&&!function(e,t){return T(e)?T(t)&&c(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):C(e)?C(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):S(e)?S(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):E(e)?E(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):z(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return Z(e,t,i,n,D)}function F(e,t){return t.filter((function(t){return g(e,t)}))}function Z(e,t,i,r,s,c){if(5===arguments.length){c=Object.keys(e);var u=Object.keys(t);if(c.length!==u.length)return!1}for(var d=0;d<c.length;d++)if(!p(t,c[d]))return!1;if(i&&5===arguments.length){var m=h(e);if(0!==m.length){var f=0;for(d=0;d<m.length;d++){var y=m[d];if(g(e,y)){if(!g(t,y))return!1;c.push(y),f++}else if(g(t,y))return!1}var v=h(t);if(m.length!==v.length&&F(t,v).length!==f)return!1}else{var _=h(t);if(0!==_.length&&0!==F(t,_).length)return!1}}if(0===c.length&&(s===D||s===R&&0===e.length||0===e.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var x=r.val1.get(e);if(void 0!==x){var b=r.val2.get(t);if(void 0!==b)return x===b}r.position++}r.val1.set(e,r.position),r.val2.set(t,r.position);var w=function(e,t,i,r,s,c){var h=0;if(c===B){if(!function(e,t,i,n){for(var r=null,s=a(e),l=0;l<s.length;l++){var c=s[l];if("object"===o(c)&&null!==c)null===r&&(r=new Set),r.add(c);else if(!t.has(c)){if(i)return!1;if(!V(e,t,c))return!1;null===r&&(r=new Set),r.add(c)}}if(null!==r){for(var h=a(t),u=0;u<h.length;u++){var d=h[u];if("object"===o(d)&&null!==d){if(!q(r,d,i,n))return!1}else if(!i&&!e.has(d)&&!q(r,d,i,n))return!1}return 0===r.size}return!0}(e,t,i,s))return!1}else if(c===j){if(!function(e,t,i,r){for(var s=null,a=l(e),c=0;c<a.length;c++){var h=n(a[c],2),u=h[0],d=h[1];if("object"===o(u)&&null!==u)null===s&&(s=new Set),s.add(u);else{var p=t.get(u);if(void 0===p&&!t.has(u)||!N(d,p,i,r)){if(i)return!1;if(!H(e,t,u,d,r))return!1;null===s&&(s=new Set),s.add(u)}}}if(null!==s){for(var g=l(t),m=0;m<g.length;m++){var f=n(g[m],2),y=f[0],v=f[1];if("object"===o(y)&&null!==y){if(!W(s,e,y,v,i,r))return!1}else if(!(i||e.has(y)&&N(e.get(y),v,!1,r)||W(s,e,y,v,!1,r)))return!1}return 0===s.size}return!0}(e,t,i,s))return!1}else if(c===R)for(;h<e.length;h++){if(!p(e,h)){if(p(t,h))return!1;for(var u=Object.keys(e);h<u.length;h++){var d=u[h];if(!p(t,d)||!N(e[d],t[d],i,s))return!1}return u.length===Object.keys(t).length}if(!p(t,h)||!N(e[h],t[h],i,s))return!1}for(h=0;h<r.length;h++){var g=r[h];if(!N(e[g],t[g],i,s))return!1}return!0}(e,t,i,c,r,s);return r.val1.delete(e),r.val2.delete(t),w}function q(e,t,i,n){for(var r=a(e),o=0;o<r.length;o++){var s=r[o];if(N(t,s,i,n))return e.delete(s),!0}return!1}function U(e){switch(o(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(u(e))return!1}return!0}function V(e,t,i){var n=U(i);return null!=n?n:t.has(n)&&!e.has(n)}function H(e,t,i,n,r){var o=U(i);if(null!=o)return o;var s=t.get(o);return!(void 0===s&&!t.has(o)||!N(n,s,!1,r))&&!e.has(o)&&N(n,s,!1,r)}function W(e,t,i,n,r,o){for(var s=a(e),l=0;l<s.length;l++){var c=s[l];if(N(i,c,r,o)&&N(n,t.get(c),r,o))return e.delete(c),!0}return!1}e.exports={isDeepEqual:function(e,t){return N(e,t,!1)},isDeepStrictEqual:function(e,t){return N(e,t,!0)}}},4782:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,o=a(e),s=o[0],l=o[1],c=new r(function(e,t,i){return 3*(t+i)/4-i}(0,s,l)),h=0,u=l>0?s-4:s;for(i=0;i<u;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],c[h++]=t>>16&255,c[h++]=t>>8&255,c[h++]=255&t;return 2===l&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,c[h++]=255&t),1===l&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,c[h++]=t>>8&255,c[h++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],s=16383,a=0,c=n-r;a<c;a+=s)o.push(l(e,a,a+s>c?c:a+s));return 1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),o.join("")};for(var i=[],n=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)i[s]=o[s],n[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function l(e,t,n){for(var r,o,s=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7816:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Alert:()=>de,Button:()=>ge,Carousel:()=>We,Collapse:()=>st,Dropdown:()=>Mt,Modal:()=>di,Offcanvas:()=>Pi,Popover:()=>Xi,ScrollSpy:()=>hn,Tab:()=>In,Toast:()=>Gn,Tooltip:()=>Qi});var n={};i.r(n),i.d(n,{afterMain:()=>r.wX,afterRead:()=>r.r5,afterWrite:()=>r.MS,applyStyles:()=>o.Z,arrow:()=>s.Z,auto:()=>r.d7,basePlacements:()=>r.mv,beforeMain:()=>r.XM,beforeRead:()=>r.N7,beforeWrite:()=>r.iv,bottom:()=>r.I,clippingParents:()=>r.zV,computeStyles:()=>a.Z,createPopper:()=>f.fi,createPopperBase:()=>g.fi,createPopperLite:()=>v,detectOverflow:()=>m.Z,end:()=>r.ut,eventListeners:()=>l.Z,flip:()=>c.Z,hide:()=>h.Z,left:()=>r.t$,main:()=>r.DH,modifierPhases:()=>r.xs,offset:()=>u.Z,placements:()=>r.Ct,popper:()=>r.k5,popperGenerator:()=>g.kZ,popperOffsets:()=>d.Z,preventOverflow:()=>p.Z,read:()=>r.ij,reference:()=>r.YP,right:()=>r.F2,start:()=>r.BL,top:()=>r.we,variationPlacements:()=>r.bw,viewport:()=>r.Pj,write:()=>r.cW});var r=i(1899),o=i(6087),s=i(2089),a=i(6938),l=i(5377),c=i(5173),h=i(7801),u=i(6415),d=i(6915),p=i(1037),g=i(2829),m=i(241),f=i(3781),y=[l.Z,d.Z,a.Z,o.Z],v=(0,g.kZ)({defaultModifiers:y});const _=new Map,x={set(e,t,i){_.has(e)||_.set(e,new Map);const n=_.get(e);n.has(t)||0===n.size?n.set(t,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(e,t)=>_.has(e)&&_.get(e).get(t)||null,remove(e,t){if(!_.has(e))return;const i=_.get(e);i.delete(t),0===i.size&&_.delete(e)}},b="transitionend",w=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),k=e=>{e.dispatchEvent(new Event(b))},A=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),T=e=>A(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(w(e)):null,C=e=>{if(!A(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(!i)return t;if(i!==e){const t=e.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return t},S=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),E=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?E(e.parentNode):null},z=()=>{},P=e=>{e.offsetHeight},M=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,L=[],I=()=>"rtl"===document.documentElement.dir,O=e=>{var t;t=()=>{const t=M();if(t){const i=e.NAME,n=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=n,e.jQueryInterface)}},"loading"===document.readyState?(L.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of L)e()})),L.push(t)):t()},D=(e,t=[],i=e)=>"function"==typeof e?e(...t):i,R=(e,t,i=!0)=>{if(!i)return void D(e);const n=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const n=Number.parseFloat(t),r=Number.parseFloat(i);return n||r?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5;let r=!1;const o=({target:i})=>{i===t&&(r=!0,t.removeEventListener(b,o),D(e))};t.addEventListener(b,o),setTimeout((()=>{r||k(t)}),n)},B=(e,t,i,n)=>{const r=e.length;let o=e.indexOf(t);return-1===o?!i&&n?e[r-1]:e[0]:(o+=i?1:-1,n&&(o=(o+r)%r),e[Math.max(0,Math.min(o,r-1))])},j=/[^.]*(?=\..*)\.|.*/,N=/\..*/,F=/::\d+$/,Z={};let q=1;const U={mouseenter:"mouseover",mouseleave:"mouseout"},V=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function H(e,t){return t&&`${t}::${q++}`||e.uidEvent||q++}function W(e){const t=H(e);return e.uidEvent=t,Z[t]=Z[t]||{},Z[t]}function K(e,t,i=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===i))}function G(e,t,i){const n="string"==typeof t,r=n?i:t||i;let o=X(e);return V.has(o)||(o=e),[n,r,o]}function Q(e,t,i,n,r){if("string"!=typeof t||!e)return;let[o,s,a]=G(t,i,n);if(t in U){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s=e(s)}const l=W(e),c=l[a]||(l[a]={}),h=K(c,s,o?i:null);if(h)return void(h.oneOff=h.oneOff&&r);const u=H(s,t.replace(j,"")),d=o?function(e,t,i){return function n(r){const o=e.querySelectorAll(t);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(const a of o)if(a===s)return ee(r,{delegateTarget:s}),n.oneOff&&$.off(e,r.type,t,i),i.apply(s,[r])}}(e,i,s):function(e,t){return function i(n){return ee(n,{delegateTarget:e}),i.oneOff&&$.off(e,n.type,t),t.apply(e,[n])}}(e,s);d.delegationSelector=o?i:null,d.callable=s,d.oneOff=r,d.uidEvent=u,c[u]=d,e.addEventListener(a,d,o)}function Y(e,t,i,n,r){const o=K(t[i],n,r);o&&(e.removeEventListener(i,o,Boolean(r)),delete t[i][o.uidEvent])}function J(e,t,i,n){const r=t[i]||{};for(const[o,s]of Object.entries(r))o.includes(n)&&Y(e,t,i,s.callable,s.delegationSelector)}function X(e){return e=e.replace(N,""),U[e]||e}const $={on(e,t,i,n){Q(e,t,i,n,!1)},one(e,t,i,n){Q(e,t,i,n,!0)},off(e,t,i,n){if("string"!=typeof t||!e)return;const[r,o,s]=G(t,i,n),a=s!==t,l=W(e),c=l[s]||{},h=t.startsWith(".");if(void 0===o){if(h)for(const i of Object.keys(l))J(e,l,i,t.slice(1));for(const[i,n]of Object.entries(c)){const r=i.replace(F,"");a&&!t.includes(r)||Y(e,l,s,n.callable,n.delegationSelector)}}else{if(!Object.keys(c).length)return;Y(e,l,s,o,r?i:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;const n=M();let r=null,o=!0,s=!0,a=!1;t!==X(t)&&n&&(r=n.Event(t,i),n(e).trigger(r),o=!r.isPropagationStopped(),s=!r.isImmediatePropagationStopped(),a=r.isDefaultPrevented());const l=ee(new Event(t,{bubbles:o,cancelable:!0}),i);return a&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&r&&r.preventDefault(),l}};function ee(e,t={}){for(const[i,n]of Object.entries(t))try{e[i]=n}catch(t){Object.defineProperty(e,i,{configurable:!0,get:()=>n})}return e}function te(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function ie(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const ne={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${ie(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${ie(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=te(e.dataset[n])}return t},getDataAttribute:(e,t)=>te(e.getAttribute(`data-bs-${ie(t)}`))};class re{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=A(t)?ne.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...A(t)?ne.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,r]of Object.entries(t)){const t=e[n],o=A(t)?"element":null==(i=t)?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${r}".`)}var i}}class oe extends re{constructor(e,t){super(),(e=T(e))&&(this._element=e,this._config=this._getConfig(t),x.set(this._element,this.constructor.DATA_KEY,this))}dispose(){x.remove(this._element,this.constructor.DATA_KEY),$.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){R(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return x.get(T(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const se=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&"#"!==i?w(i.trim()):null}return t},ae={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const i=[];let n=e.parentNode.closest(t);for(;n;)i.push(n),n=n.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!S(e)&&C(e)))},getSelectorFromElement(e){const t=se(e);return t&&ae.findOne(t)?t:null},getElementFromSelector(e){const t=se(e);return t?ae.findOne(t):null},getMultipleElementsFromSelector(e){const t=se(e);return t?ae.find(t):[]}},le=(e,t="hide")=>{const i=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;$.on(document,i,`[data-bs-dismiss="${n}"]`,(function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),S(this))return;const r=ae.getElementFromSelector(this)||this.closest(`.${n}`);e.getOrCreateInstance(r)[t]()}))},ce=".bs.alert",he=`close${ce}`,ue=`closed${ce}`;class de extends oe{static get NAME(){return"alert"}close(){if($.trigger(this._element,he).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),$.trigger(this._element,ue),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=de.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}le(de,"close"),O(de);const pe='[data-bs-toggle="button"]';class ge extends oe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=ge.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}$.on(document,"click.bs.button.data-api",pe,(e=>{e.preventDefault();const t=e.target.closest(pe);ge.getOrCreateInstance(t).toggle()})),O(ge);const me=".bs.swipe",fe=`touchstart${me}`,ye=`touchmove${me}`,ve=`touchend${me}`,_e=`pointerdown${me}`,xe=`pointerup${me}`,be={endCallback:null,leftCallback:null,rightCallback:null},we={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ke extends re{constructor(e,t){super(),this._element=e,e&&ke.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return be}static get DefaultType(){return we}static get NAME(){return"swipe"}dispose(){$.off(this._element,me)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),D(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&D(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?($.on(this._element,_e,(e=>this._start(e))),$.on(this._element,xe,(e=>this._end(e))),this._element.classList.add("pointer-event")):($.on(this._element,fe,(e=>this._start(e))),$.on(this._element,ye,(e=>this._move(e))),$.on(this._element,ve,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ae=".bs.carousel",Te=".data-api",Ce="next",Se="prev",Ee="left",ze="right",Pe=`slide${Ae}`,Me=`slid${Ae}`,Le=`keydown${Ae}`,Ie=`mouseenter${Ae}`,Oe=`mouseleave${Ae}`,De=`dragstart${Ae}`,Re=`load${Ae}${Te}`,Be=`click${Ae}${Te}`,je="carousel",Ne="active",Fe=".active",Ze=".carousel-item",qe=Fe+Ze,Ue={ArrowLeft:ze,ArrowRight:Ee},Ve={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},He={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class We extends oe{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ae.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===je&&this.cycle()}static get Default(){return Ve}static get DefaultType(){return He}static get NAME(){return"carousel"}next(){this._slide(Ce)}nextWhenVisible(){!document.hidden&&C(this._element)&&this.next()}prev(){this._slide(Se)}pause(){this._isSliding&&k(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?$.one(this._element,Me,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void $.one(this._element,Me,(()=>this.to(e)));const i=this._getItemIndex(this._getActive());if(i===e)return;const n=e>i?Ce:Se;this._slide(n,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&$.on(this._element,Le,(e=>this._keydown(e))),"hover"===this._config.pause&&($.on(this._element,Ie,(()=>this.pause())),$.on(this._element,Oe,(()=>this._maybeEnableCycle()))),this._config.touch&&ke.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of ae.find(".carousel-item img",this._element))$.on(e,De,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(Ee)),rightCallback:()=>this._slide(this._directionToOrder(ze)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new ke(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Ue[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=ae.findOne(Fe,this._indicatorsElement);t.classList.remove(Ne),t.removeAttribute("aria-current");const i=ae.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Ne),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),n=e===Ce,r=t||B(this._getItems(),i,n,this._config.wrap);if(r===i)return;const o=this._getItemIndex(r),s=t=>$.trigger(this._element,t,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:o});if(s(Pe).defaultPrevented)return;if(!i||!r)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const l=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";r.classList.add(c),P(r),i.classList.add(l),r.classList.add(l),this._queueCallback((()=>{r.classList.remove(l,c),r.classList.add(Ne),i.classList.remove(Ne,c,l),this._isSliding=!1,s(Me)}),i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ae.findOne(qe,this._element)}_getItems(){return ae.find(Ze,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return I()?e===Ee?Se:Ce:e===Ee?Ce:Se}_orderToDirection(e){return I()?e===Se?Ee:ze:e===Se?ze:Ee}static jQueryInterface(e){return this.each((function(){const t=We.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}$.on(document,Be,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=ae.getElementFromSelector(this);if(!t||!t.classList.contains(je))return;e.preventDefault();const i=We.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===ne.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())})),$.on(window,Re,(()=>{const e=ae.find('[data-bs-ride="carousel"]');for(const t of e)We.getOrCreateInstance(t)})),O(We);const Ke=".bs.collapse",Ge=`show${Ke}`,Qe=`shown${Ke}`,Ye=`hide${Ke}`,Je=`hidden${Ke}`,Xe=`click${Ke}.data-api`,$e="show",et="collapse",tt="collapsing",it=`:scope .${et} .${et}`,nt='[data-bs-toggle="collapse"]',rt={parent:null,toggle:!0},ot={parent:"(null|element)",toggle:"boolean"};class st extends oe{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=ae.find(nt);for(const e of i){const t=ae.getSelectorFromElement(e),i=ae.find(t).filter((e=>e===this._element));null!==t&&i.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return rt}static get DefaultType(){return ot}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>st.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if($.trigger(this._element,Ge).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(et),this._element.classList.add(tt),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(tt),this._element.classList.add(et,$e),this._element.style[t]="",$.trigger(this._element,Qe)}),this._element,!0),this._element.style[t]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if($.trigger(this._element,Ye).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,P(this._element),this._element.classList.add(tt),this._element.classList.remove(et,$e);for(const e of this._triggerArray){const t=ae.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(tt),this._element.classList.add(et),$.trigger(this._element,Je)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains($e)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=T(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(nt);for(const t of e){const e=ae.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=ae.find(it,this._config.parent);return ae.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const i=st.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}}))}}$.on(document,Xe,nt,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of ae.getMultipleElementsFromSelector(this))st.getOrCreateInstance(e,{toggle:!1}).toggle()})),O(st);const at="dropdown",lt=".bs.dropdown",ct=".data-api",ht="ArrowUp",ut="ArrowDown",dt=`hide${lt}`,pt=`hidden${lt}`,gt=`show${lt}`,mt=`shown${lt}`,ft=`click${lt}${ct}`,yt=`keydown${lt}${ct}`,vt=`keyup${lt}${ct}`,_t="show",xt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',bt=`${xt}.${_t}`,wt=".dropdown-menu",kt=I()?"top-end":"top-start",At=I()?"top-start":"top-end",Tt=I()?"bottom-end":"bottom-start",Ct=I()?"bottom-start":"bottom-end",St=I()?"left-start":"right-start",Et=I()?"right-start":"left-start",zt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Pt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Mt extends oe{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=ae.next(this._element,wt)[0]||ae.prev(this._element,wt)[0]||ae.findOne(wt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return zt}static get DefaultType(){return Pt}static get NAME(){return at}toggle(){return this._isShown()?this.hide():this.show()}show(){if(S(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!$.trigger(this._element,gt,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))$.on(e,"mouseover",z);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(_t),this._element.classList.add(_t),$.trigger(this._element,mt,e)}}hide(){if(S(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!$.trigger(this._element,dt,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))$.off(e,"mouseover",z);this._popper&&this._popper.destroy(),this._menu.classList.remove(_t),this._element.classList.remove(_t),this._element.setAttribute("aria-expanded","false"),ne.removeDataAttribute(this._menu,"popper"),$.trigger(this._element,pt,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!A(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${at.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:A(this._config.reference)?e=T(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=f.fi(e,this._menu,t)}_isShown(){return this._menu.classList.contains(_t)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return St;if(e.classList.contains("dropstart"))return Et;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?At:kt:t?Ct:Tt}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ne.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...D(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const i=ae.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>C(e)));i.length&&B(i,t,e===ut,!i.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Mt.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=ae.find(bt);for(const i of t){const t=Mt.getInstance(i);if(!t||!1===t._config.autoClose)continue;const n=e.composedPath(),r=n.includes(t._menu);if(n.includes(t._element)||"inside"===t._config.autoClose&&!r||"outside"===t._config.autoClose&&r)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,n=[ht,ut].includes(e.key);if(!n&&!i)return;if(t&&!i)return;e.preventDefault();const r=this.matches(xt)?this:ae.prev(this,xt)[0]||ae.next(this,xt)[0]||ae.findOne(xt,e.delegateTarget.parentNode),o=Mt.getOrCreateInstance(r);if(n)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}$.on(document,yt,xt,Mt.dataApiKeydownHandler),$.on(document,yt,wt,Mt.dataApiKeydownHandler),$.on(document,ft,Mt.clearMenus),$.on(document,vt,Mt.clearMenus),$.on(document,ft,xt,(function(e){e.preventDefault(),Mt.getOrCreateInstance(this).toggle()})),O(Mt);const Lt="backdrop",It="show",Ot=`mousedown.bs.${Lt}`,Dt={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Rt={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Bt extends re{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Dt}static get DefaultType(){return Rt}static get NAME(){return Lt}show(e){if(!this._config.isVisible)return void D(e);this._append();const t=this._getElement();this._config.isAnimated&&P(t),t.classList.add(It),this._emulateAnimation((()=>{D(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(It),this._emulateAnimation((()=>{this.dispose(),D(e)}))):D(e)}dispose(){this._isAppended&&($.off(this._element,Ot),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=T(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),$.on(e,Ot,(()=>{D(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){R(e,this._getElement(),this._config.isAnimated)}}const jt=".bs.focustrap",Nt=`focusin${jt}`,Ft=`keydown.tab${jt}`,Zt="backward",qt={autofocus:!0,trapElement:null},Ut={autofocus:"boolean",trapElement:"element"};class Vt extends re{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return qt}static get DefaultType(){return Ut}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),$.off(document,jt),$.on(document,Nt,(e=>this._handleFocusin(e))),$.on(document,Ft,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,$.off(document,jt))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=ae.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===Zt?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Zt:"forward")}}const Ht=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Wt=".sticky-top",Kt="padding-right",Gt="margin-right";class Qt{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Kt,(t=>t+e)),this._setElementAttributes(Ht,Kt,(t=>t+e)),this._setElementAttributes(Wt,Gt,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Kt),this._resetElementAttributes(Ht,Kt),this._resetElementAttributes(Wt,Gt)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const n=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+n)return;this._saveInitialAttribute(e,t);const r=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${i(Number.parseFloat(r))}px`)}))}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&ne.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const i=ne.getDataAttribute(e,t);null!==i?(ne.removeDataAttribute(e,t),e.style.setProperty(t,i)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(A(e))t(e);else for(const i of ae.find(e,this._element))t(i)}}const Yt=".bs.modal",Jt=`hide${Yt}`,Xt=`hidePrevented${Yt}`,$t=`hidden${Yt}`,ei=`show${Yt}`,ti=`shown${Yt}`,ii=`resize${Yt}`,ni=`click.dismiss${Yt}`,ri=`mousedown.dismiss${Yt}`,oi=`keydown.dismiss${Yt}`,si=`click${Yt}.data-api`,ai="modal-open",li="show",ci="modal-static",hi={backdrop:!0,focus:!0,keyboard:!0},ui={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class di extends oe{constructor(e,t){super(e,t),this._dialog=ae.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Qt,this._addEventListeners()}static get Default(){return hi}static get DefaultType(){return ui}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||$.trigger(this._element,ei,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ai),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&($.trigger(this._element,Jt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(li),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){$.off(window,Yt),$.off(this._dialog,Yt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Bt({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Vt({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=ae.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),P(this._element),this._element.classList.add(li),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,$.trigger(this._element,ti,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){$.on(this._element,oi,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),$.on(window,ii,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),$.on(this._element,ri,(e=>{$.one(this._element,ni,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(ai),this._resetAdjustments(),this._scrollBar.reset(),$.trigger(this._element,$t)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if($.trigger(this._element,Xt).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(ci)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(ci),this._queueCallback((()=>{this._element.classList.remove(ci),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const e=I()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!i&&e){const e=I()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const i=di.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}}))}}$.on(document,si,'[data-bs-toggle="modal"]',(function(e){const t=ae.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),$.one(t,ei,(e=>{e.defaultPrevented||$.one(t,$t,(()=>{C(this)&&this.focus()}))}));const i=ae.findOne(".modal.show");i&&di.getInstance(i).hide(),di.getOrCreateInstance(t).toggle(this)})),le(di),O(di);const pi=".bs.offcanvas",gi=".data-api",mi=`load${pi}${gi}`,fi="show",yi="showing",vi="hiding",_i=".offcanvas.show",xi=`show${pi}`,bi=`shown${pi}`,wi=`hide${pi}`,ki=`hidePrevented${pi}`,Ai=`hidden${pi}`,Ti=`resize${pi}`,Ci=`click${pi}${gi}`,Si=`keydown.dismiss${pi}`,Ei={backdrop:!0,keyboard:!0,scroll:!1},zi={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Pi extends oe{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ei}static get DefaultType(){return zi}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||$.trigger(this._element,xi,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Qt).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(yi),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(fi),this._element.classList.remove(yi),$.trigger(this._element,bi,{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&($.trigger(this._element,wi).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(vi),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(fi,vi),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Qt).reset(),$.trigger(this._element,Ai)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Bt({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():$.trigger(this._element,ki)}:null})}_initializeFocusTrap(){return new Vt({trapElement:this._element})}_addEventListeners(){$.on(this._element,Si,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():$.trigger(this._element,ki))}))}static jQueryInterface(e){return this.each((function(){const t=Pi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}$.on(document,Ci,'[data-bs-toggle="offcanvas"]',(function(e){const t=ae.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),S(this))return;$.one(t,Ai,(()=>{C(this)&&this.focus()}));const i=ae.findOne(_i);i&&i!==t&&Pi.getInstance(i).hide(),Pi.getOrCreateInstance(t).toggle(this)})),$.on(window,mi,(()=>{for(const e of ae.find(_i))Pi.getOrCreateInstance(e).show()})),$.on(window,Ti,(()=>{for(const e of ae.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Pi.getOrCreateInstance(e).hide()})),le(Pi),O(Pi);const Mi={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Li=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ii=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Oi=(e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?!Li.has(i)||Boolean(Ii.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(i)))},Di={allowList:Mi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ri={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Bi={entry:"(string|element|function|null)",selector:"(string|element)"};class ji extends re{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Di}static get DefaultType(){return Ri}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,i]of Object.entries(this._config.content))this._setContent(e,i,t);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Bi)}_setContent(e,t,i){const n=ae.findOne(i,e);n&&((t=this._resolvePossibleFunction(t))?A(t)?this._putElementInTemplate(T(t),n):this._config.html?n.innerHTML=this._maybeSanitize(t):n.textContent=t:n.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);const n=(new window.DOMParser).parseFromString(e,"text/html"),r=[].concat(...n.body.querySelectorAll("*"));for(const e of r){const i=e.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){e.remove();continue}const n=[].concat(...e.attributes),r=[].concat(t["*"]||[],t[i]||[]);for(const t of n)Oi(t,r)||e.removeAttribute(t.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return D(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Ni=new Set(["sanitize","allowList","sanitizeFn"]),Fi="fade",Zi="show",qi=".modal",Ui="hide.bs.modal",Vi="hover",Hi="focus",Wi={AUTO:"auto",TOP:"top",RIGHT:I()?"left":"right",BOTTOM:"bottom",LEFT:I()?"right":"left"},Ki={allowList:Mi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Gi={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Qi extends oe{constructor(e,t){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ki}static get DefaultType(){return Gi}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),$.off(this._element.closest(qi),Ui,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=$.trigger(this._element,this.constructor.eventName("show")),t=(E(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),$.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(Zi),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))$.on(e,"mouseover",z);this._queueCallback((()=>{$.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!$.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Zi),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))$.off(e,"mouseover",z);this._activeTrigger.click=!1,this._activeTrigger[Hi]=!1,this._activeTrigger[Vi]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),$.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Fi,Zi),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(Fi),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new ji({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Fi)}_isShown(){return this.tip&&this.tip.classList.contains(Zi)}_createPopper(e){const t=D(this._config.placement,[this,e,this._element]),i=Wi[t.toUpperCase()];return f.fi(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return D(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...D(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)$.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===Vi?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===Vi?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");$.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Hi:Vi]=!0,t._enter()})),$.on(this._element,i,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Hi:Vi]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},$.on(this._element.closest(qi),Ui,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ne.getDataAttributes(this._element);for(const e of Object.keys(t))Ni.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:T(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=Qi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}O(Qi);const Yi={...Qi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ji={...Qi.DefaultType,content:"(null|string|element|function)"};class Xi extends Qi{static get Default(){return Yi}static get DefaultType(){return Ji}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=Xi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}O(Xi);const $i=".bs.scrollspy",en=`activate${$i}`,tn=`click${$i}`,nn=`load${$i}.data-api`,rn="active",on="[href]",sn=".nav-link",an=`${sn}, .nav-item > ${sn}, .list-group-item`,ln={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},cn={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class hn extends oe{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ln}static get DefaultType(){return cn}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=T(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&($.off(this._config.target,tn),$.on(this._config.target,tn,on,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},n=(this._rootElement||document.documentElement).scrollTop,r=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&e){if(i(o),!n)return}else r||e||i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=ae.find(on,this._config.target);for(const t of e){if(!t.hash||S(t))continue;const e=ae.findOne(decodeURI(t.hash),this._element);C(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(rn),this._activateParents(e),$.trigger(this._element,en,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))ae.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(rn);else for(const t of ae.parents(e,".nav, .list-group"))for(const e of ae.prev(t,an))e.classList.add(rn)}_clearActiveClass(e){e.classList.remove(rn);const t=ae.find(`${on}.${rn}`,e);for(const e of t)e.classList.remove(rn)}static jQueryInterface(e){return this.each((function(){const t=hn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}$.on(window,nn,(()=>{for(const e of ae.find('[data-bs-spy="scroll"]'))hn.getOrCreateInstance(e)})),O(hn);const un=".bs.tab",dn=`hide${un}`,pn=`hidden${un}`,gn=`show${un}`,mn=`shown${un}`,fn=`click${un}`,yn=`keydown${un}`,vn=`load${un}`,_n="ArrowLeft",xn="ArrowRight",bn="ArrowUp",wn="ArrowDown",kn="Home",An="End",Tn="active",Cn="fade",Sn="show",En=".dropdown-toggle",zn=`:not(${En})`,Pn='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Mn=`.nav-link${zn}, .list-group-item${zn}, [role="tab"]${zn}, ${Pn}`,Ln=`.${Tn}[data-bs-toggle="tab"], .${Tn}[data-bs-toggle="pill"], .${Tn}[data-bs-toggle="list"]`;class In extends oe{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),$.on(this._element,yn,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?$.trigger(t,dn,{relatedTarget:e}):null;$.trigger(e,gn,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(Tn),this._activate(ae.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),$.trigger(e,mn,{relatedTarget:t})):e.classList.add(Sn)}),e,e.classList.contains(Cn)))}_deactivate(e,t){e&&(e.classList.remove(Tn),e.blur(),this._deactivate(ae.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),$.trigger(e,pn,{relatedTarget:t})):e.classList.remove(Sn)}),e,e.classList.contains(Cn)))}_keydown(e){if(![_n,xn,bn,wn,kn,An].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!S(e)));let i;if([kn,An].includes(e.key))i=t[e.key===kn?0:t.length-1];else{const n=[xn,wn].includes(e.key);i=B(t,e.target,n,!0)}i&&(i.focus({preventScroll:!0}),In.getOrCreateInstance(i).show())}_getChildren(){return ae.find(Mn,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=ae.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const n=(e,n)=>{const r=ae.findOne(e,i);r&&r.classList.toggle(n,t)};n(En,Tn),n(".dropdown-menu",Sn),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(Tn)}_getInnerElement(e){return e.matches(Mn)?e:ae.findOne(Mn,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=In.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}$.on(document,fn,Pn,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),S(this)||In.getOrCreateInstance(this).show()})),$.on(window,vn,(()=>{for(const e of ae.find(Ln))In.getOrCreateInstance(e)})),O(In);const On=".bs.toast",Dn=`mouseover${On}`,Rn=`mouseout${On}`,Bn=`focusin${On}`,jn=`focusout${On}`,Nn=`hide${On}`,Fn=`hidden${On}`,Zn=`show${On}`,qn=`shown${On}`,Un="hide",Vn="show",Hn="showing",Wn={animation:"boolean",autohide:"boolean",delay:"number"},Kn={animation:!0,autohide:!0,delay:5e3};class Gn extends oe{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Kn}static get DefaultType(){return Wn}static get NAME(){return"toast"}show(){$.trigger(this._element,Zn).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Un),P(this._element),this._element.classList.add(Vn,Hn),this._queueCallback((()=>{this._element.classList.remove(Hn),$.trigger(this._element,qn),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&($.trigger(this._element,Nn).defaultPrevented||(this._element.classList.add(Hn),this._queueCallback((()=>{this._element.classList.add(Un),this._element.classList.remove(Hn,Vn),$.trigger(this._element,Fn)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Vn),super.dispose()}isShown(){return this._element.classList.contains(Vn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){$.on(this._element,Dn,(e=>this._onInteraction(e,!0))),$.on(this._element,Rn,(e=>this._onInteraction(e,!1))),$.on(this._element,Bn,(e=>this._onInteraction(e,!0))),$.on(this._element,jn,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Gn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}le(Gn),O(Gn)},816:(e,t,i)=>{"use strict";var n=i(4782),r=i(8898),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=l,t.h2=50;var s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,i){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,i)}function c(e,t,i){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|m(e,t),n=a(i),r=n.write(e,t);return r!==i&&(n=n.slice(0,r)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return p(e,t,i);if("undefined"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return p(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,i);var r=function(e){if(l.isBuffer(e)){var t=0|g(e.length),i=a(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||q(e.length)?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return h(e),a(e<0?0:0|g(e))}function d(e){for(var t=e.length<0?0:0|g(e.length),i=a(t),n=0;n<t;n+=1)i[n]=255&e[n];return i}function p(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(n,l.prototype),n}function g(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return N(e).length;default:if(r)return n?-1:j(e).length;t=(""+t).toLowerCase(),r=!0}}function f(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,i);case"utf8":case"utf-8":return C(this,t,i);case"ascii":return E(this,t,i);case"latin1":case"binary":return z(this,t,i);case"base64":return T(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function v(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),q(i=+i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:_(e,t,i,n,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):_(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function _(e,t,i,n,r){var o,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,i/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var h=-1;for(o=i;o<a;o++)if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(i+l>a&&(i=a-l),o=i;o>=0;o--){for(var u=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){u=!1;break}if(u)return o}return-1}function x(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(q(a))return s;e[i+s]=a}return s}function b(e,t,i,n){return F(j(t,e.length-i),e,i,n)}function w(e,t,i,n){return F(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function k(e,t,i,n){return F(N(t),e,i,n)}function A(e,t,i,n){return F(function(e,t){for(var i,n,r,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,r=i%256,o.push(r),o.push(n);return o}(t,e.length-i),e,i,n)}function T(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function C(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var o,s,a,l,c=e[r],h=null,u=c>239?4:c>223?3:c>191?2:1;if(r+u<=i)switch(u){case 1:c<128&&(h=c);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(h=l);break;case 3:o=e[r+1],s=e[r+2],128==(192&o)&&128==(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(h=l)}null===h?(h=65533,u=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),r+=u}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=S));return i}(n)}l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,i){return c(e,t,i)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,i){return function(e,t,i){return h(e),e<=0?a(e):void 0!==t?"string"==typeof i?a(e).fill(t,i):a(e).fill(t):a(e)}(e,t,i)},l.allocUnsafe=function(e){return u(e)},l.allocUnsafeSlow=function(e){return u(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(Z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=Math.min(i,n);r<o;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=l.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(Z(o,Uint8Array))r+o.length>n.length?l.from(o).copy(n,r):Uint8Array.prototype.set.call(n,o,r);else{if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r)}r+=o.length}return n},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):f.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.h2;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,i,n,r){if(Z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(n>>>=0),s=(i>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,r),h=e.slice(t,i),u=0;u<a;++u)if(c[u]!==h[u]){o=c[u],s=h[u];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return v(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return v(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return x(this,e,t,i);case"utf8":case"utf-8":return b(this,e,t,i);case"ascii":case"latin1":case"binary":return w(this,e,t,i);case"base64":return k(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function E(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function z(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function P(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=t;o<i;++o)r+=U[e[o]];return r}function M(e,t,i){for(var n=e.slice(t,i),r="",o=0;o<n.length-1;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function L(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,i,n,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function O(e,t,i,n,r,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function D(e,t,i,n,o){return t=+t,i>>>=0,o||O(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function R(e,t,i,n,o){return t=+t,i>>>=0,o||O(e,0,i,8),r.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){var i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||L(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||L(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||L(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||L(e,t,this.length);for(var n=t,r=1,o=this[e+--n];n>0&&(r*=256);)o+=this[e+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||I(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[t]=255&e;++o<i&&(r*=256);)this[t+o]=e/r&255;return t+i},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||I(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+i},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);I(this,e,t,i,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<i&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);I(this,e,t,i,r-1,-r)}var o=i-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,i){return D(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return D(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return R(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return R(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r=n-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),r},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var r=e.charCodeAt(0);("utf8"===n&&r<128||"latin1"===n)&&(e=r)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var s=l.isBuffer(e)?e:l.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=s[o%a]}return this};var B=/[^+/0-9A-Za-z-_]/g;function j(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],s=0;s<n;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function N(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!=e}var U=function(){for(var e="0123456789abcdef",t=new Array(256),i=0;i<16;++i)for(var n=16*i,r=0;r<16;++r)t[n+r]=e[i]+e[r];return t}()},2909:(e,t)=>{"use strict";t.J2=function(e){var t,n="",r=e.length;for(t=2;t<r;t+=3)n+=i[e[t-2]>>2],n+=i[(3&e[t-2])<<4|e[t-1]>>4],n+=i[(15&e[t-1])<<2|e[t]>>6],n+=i[63&e[t]];return t===r+1&&(n+=i[e[t-2]>>2],n+=i[(3&e[t-2])<<4],n+="=="),t===r&&(n+=i[e[t-2]>>2],n+=i[(3&e[t-2])<<4|e[t-1]>>4],n+=i[(15&e[t-1])<<2],n+="="),n},t.K9=function(e){if(e.length%4!=0)throw new Error("Unable to parse base64 string.");var t=e.indexOf("=");if(-1!==t&&t<e.length-2)throw new Error("Unable to parse base64 string.");for(var i,n=e.endsWith("==")?2:e.endsWith("=")?1:0,o=e.length,s=new Uint8Array(o/4*3),a=0,l=0;a<o;a+=4,l+=3)i=r(e.charCodeAt(a))<<18|r(e.charCodeAt(a+1))<<12|r(e.charCodeAt(a+2))<<6|r(e.charCodeAt(a+3)),s[l]=i>>16,s[l+1]=i>>8&255,s[l+2]=255&i;return s.subarray(0,s.length-n)};var i=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],n=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function r(e){if(e>=n.length)throw new Error("Unable to parse base64 string.");var t=n[e];if(255===t)throw new Error("Unable to parse base64 string.");return t}},2737:(e,t,i)=>{"use strict";var n=i(8750),r=i(4573),o=r(n("String.prototype.indexOf"));e.exports=function(e,t){var i=n(e,!!t);return"function"==typeof i&&o(e,".prototype.")>-1?r(i):i}},4573:(e,t,i)=>{"use strict";var n=i(132),r=i(8750),o=i(504),s=r("%TypeError%"),a=r("%Function.prototype.apply%"),l=r("%Function.prototype.call%"),c=r("%Reflect.apply%",!0)||n.call(l,a),h=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(h)try{h({},"a",{value:1})}catch(e){h=null}e.exports=function(e){if("function"!=typeof e)throw new s("a function is required");var t=c(n,l,arguments);return o(t,1+u(0,e.length-(arguments.length-1)),!0)};var d=function(){return c(n,a,arguments)};h?h(e.exports,"apply",{value:d}):e.exports.apply=d},6300:(e,t,i)=>{"use strict";var n=i(1365)(),r=i(8750),o=n&&r("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch(e){o=!1}var s=r("%SyntaxError%"),a=r("%TypeError%"),l=i(7502);e.exports=function(e,t,i){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,h=arguments.length>6&&arguments[6],u=!!l&&l(e,t);if(o)o(e,t,{configurable:null===c&&u?u.configurable:!c,enumerable:null===n&&u?u.enumerable:!n,value:i,writable:null===r&&u?u.writable:!r});else{if(!h&&(n||r||c))throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=i}}},7392:(e,t,i)=>{"use strict";var n=i(4733),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=i(6300),l=i(1365)(),c=function(e,t,i,n){if(t in e)if(!0===n){if(e[t]===i)return}else if("function"!=typeof(r=n)||"[object Function]"!==o.call(r)||!n())return;var r;l?a(e,t,i,!0):a(e,t,i)},h=function(e,t){var i=arguments.length>2?arguments[2]:{},o=n(t);r&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)c(e,o[a],t[o[a]],i[o[a]])};h.supportsDescriptors=!!l,e.exports=h},5278:(e,t,i)=>{"use strict";var n=i(2922),r=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,i){if(!n(t))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=i),"[object Array]"===r.call(e)?function(e,t,i){for(var n=0,r=e.length;n<r;n++)o.call(e,n)&&(null==i?t(e[n],n,e):t.call(i,e[n],n,e))}(e,t,s):"string"==typeof e?function(e,t,i){for(var n=0,r=e.length;n<r;n++)null==i?t(e.charAt(n),n,e):t.call(i,e.charAt(n),n,e)}(e,t,s):function(e,t,i){for(var n in e)o.call(e,n)&&(null==i?t(e[n],n,e):t.call(i,e[n],n,e))}(e,t,s)}},8458:e=>{"use strict";var t=Object.prototype.toString,i=Math.max,n=function(e,t){for(var i=[],n=0;n<e.length;n+=1)i[n]=e[n];for(var r=0;r<t.length;r+=1)i[r+e.length]=t[r];return i};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,s=function(e,t){for(var i=[],n=1,r=0;n<e.length;n+=1,r+=1)i[r]=e[n];return i}(arguments),a=i(0,r.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var i="",n=0;n<e.length;n+=1)i+=e[n],n+1<e.length&&(i+=",");return i}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=r.apply(this,n(s,arguments));return Object(t)===t?t:this}return r.apply(e,n(s,arguments))})),r.prototype){var h=function(){};h.prototype=r.prototype,o.prototype=new h,h.prototype=null}return o}},132:(e,t,i)=>{"use strict";var n=i(8458);e.exports=Function.prototype.bind||n},7376:function(e,t){var i,n;void 0===(n="function"==typeof(i=e=>{"use strict";var t=(e,t)=>{if(e===T)return T;var i=e.target,n=i.length,r=e._indexes;r=r.slice(0,r.len).sort(((e,t)=>e-t));for(var o="",s=0,a=0,l=!1,c=(e=[],0);c<n;++c){var h=i[c];if(r[a]===c){if(++a,l||(l=!0,e.push(o),o=""),a===r.length){o+=h,e.push(t(o,s++)),o="",e.push(i.substr(c+1));break}}else l&&(l=!1,e.push(t(o,s++)),o="");o+=h}return e},i=e=>{"string"!=typeof e&&(e="");var t=c(e);return{target:e,_targetLower:t._lower,_targetLowerCodes:t.lowerCodes,_nextBeginningIndexes:T,_bitflags:t.bitflags,score:T,_indexes:[0],obj:T}},n=e=>{"string"!=typeof e&&(e=""),e=e.trim();var t=c(e),i=[];if(t.containsSpace){var n=e.split(/\s+/);n=[...new Set(n)];for(var r=0;r<n.length;r++)if(""!==n[r]){var o=c(n[r]);i.push({lowerCodes:o.lowerCodes,_lower:n[r].toLowerCase(),containsSpace:!1})}}return{lowerCodes:t.lowerCodes,bitflags:t.bitflags,containsSpace:t.containsSpace,_lower:t._lower,spaceSearches:i}},r=e=>{if(e.length>999)return i(e);var t=u.get(e);return void 0!==t||(t=i(e),u.set(e,t)),t},o=e=>{if(e.length>999)return n(e);var t=d.get(e);return void 0!==t||(t=n(e),d.set(e,t)),t},s=(e,t,i)=>{var n=[];n.total=t.length;var o=i&&i.limit||v;if(i&&i.key)for(var s=0;s<t.length;s++){var a=t[s];if(u=f(a,i.key)){y(u)||(u=r(u)),u.score=_,u._indexes.len=0;var l=u;if(l={target:l.target,_targetLower:"",_targetLowerCodes:T,_nextBeginningIndexes:T,_bitflags:0,score:u.score,_indexes:T,obj:a},n.push(l),n.length>=o)return n}}else if(i&&i.keys)for(s=0;s<t.length;s++){a=t[s];for(var c=new Array(i.keys.length),h=i.keys.length-1;h>=0;--h)(u=f(a,i.keys[h]))?(y(u)||(u=r(u)),u.score=_,u._indexes.len=0,c[h]=u):c[h]=T;if(c.obj=a,c.score=_,n.push(c),n.length>=o)return n}else for(s=0;s<t.length;s++){var u;if((u=t[s])&&(y(u)||(u=r(u)),u.score=_,u._indexes.len=0,n.push(u),n.length>=o))return n}return n},a=(e,t,i=!1)=>{if(!1===i&&e.containsSpace)return l(e,t);for(var n=e._lower,r=e.lowerCodes,o=r[0],s=t._targetLowerCodes,a=r.length,c=s.length,u=0,d=0,m=0;;){if(o===s[d]){if(p[m++]=d,++u===a)break;o=r[u]}if(++d>=c)return T}u=0;var f=!1,y=0,v=t._nextBeginningIndexes;v===T&&(v=t._nextBeginningIndexes=h(t.target));var _=0;if((d=0===p[0]?0:v[p[0]-1])!==c)for(;;)if(d>=c){if(u<=0)break;if(++_>200)break;--u,d=v[g[--y]]}else if(r[u]===s[d]){if(g[y++]=d,++u===a){f=!0;break}++d}else d=v[d];var x=t._targetLower.indexOf(n,p[0]),b=~x;if(b&&!f)for(var w=0;w<m;++w)p[w]=x+w;var k=!1;if(b&&(k=t._nextBeginningIndexes[x-1]===x),f)var A=g,C=y;else A=p,C=m;var S=0,E=0;for(w=1;w<a;++w)A[w]-A[w-1]!=1&&(S-=A[w],++E);if(S-=(A[a-1]-A[0]-(a-1)+12)*E,0!==A[0]&&(S-=A[0]*A[0]*.2),f){var z=1;for(w=v[0];w<c;w=v[w])++z;z>24&&(S*=10*(z-24))}else S*=1e3;for(b&&(S/=1+a*a*1),k&&(S/=1+a*a*1),S-=c-a,t.score=S,w=0;w<C;++w)t._indexes[w]=A[w];return t._indexes.len=C,t},l=(e,t)=>{for(var i=new Set,n=0,r=T,o=0,s=e.spaceSearches,l=0;l<s.length;++l){var c=s[l];if((r=a(c,t))===T)return T;n+=r.score,r._indexes[0]<o&&(n-=o-r._indexes[0]),o=r._indexes[0];for(var h=0;h<r._indexes.len;++h)i.add(r._indexes[h])}var u=a(e,t,!0);if(u!==T&&u.score>n)return u;r.score=n,l=0;for(let e of i)r._indexes[l++]=e;return r._indexes.len=l,r},c=e=>{for(var t=e.length,i=e.toLowerCase(),n=[],r=0,o=!1,s=0;s<t;++s){var a=n[s]=i.charCodeAt(s);32!==a?r|=1<<(a>=97&&a<=122?a-97:a>=48&&a<=57?26:a<=127?30:31):o=!0}return{lowerCodes:n,bitflags:r,containsSpace:o,_lower:i}},h=e=>{for(var t=e.length,i=(e=>{for(var t=e.length,i=[],n=0,r=!1,o=!1,s=0;s<t;++s){var a=e.charCodeAt(s),l=a>=65&&a<=90,c=l||a>=97&&a<=122||a>=48&&a<=57,h=l&&!r||!o||!c;r=l,o=c,h&&(i[n++]=s)}return i})(e),n=[],r=i[0],o=0,s=0;s<t;++s)r>s?n[s]=r:(r=i[++o],n[s]=void 0===r?t:r);return n},u=new Map,d=new Map,p=[],g=[],m=e=>{for(var t=_,i=e.length,n=0;n<i;++n){var r=e[n];if(r!==T){var o=r.score;o>t&&(t=o)}}return t===_?T:t},f=(e,t)=>{var i=e[t];if(void 0!==i)return i;var n=t;Array.isArray(t)||(n=t.split("."));for(var r=n.length,o=-1;e&&++o<r;)e=e[n[o]];return e},y=e=>"object"==typeof e,v=1/0,_=-v,x=[];x.total=0;var b,w,k,A,T=null,C=(b=[],w=0,A=e=>{for(var t=0,i=b[t],n=1;n<w;){var r=n+1;t=n,r<w&&b[r].score<b[n].score&&(t=r),b[t-1>>1]=b[t],n=1+(t<<1)}for(var o=t-1>>1;t>0&&i.score<b[o].score;o=(t=o)-1>>1)b[t]=b[o];b[t]=i},(k={}).add=e=>{var t=w;b[w++]=e;for(var i=t-1>>1;t>0&&e.score<b[i].score;i=(t=i)-1>>1)b[t]=b[i];b[t]=e},k.poll=e=>{if(0!==w){var t=b[0];return b[0]=b[--w],A(),t}},k.peek=e=>{if(0!==w)return b[0]},k.replaceTop=e=>{b[0]=e,A()},k);return{single:(e,t)=>{if("farzher"==e)return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!e||!t)return T;var i=o(e);y(t)||(t=r(t));var n=i.bitflags;return(n&t._bitflags)!==n?T:a(i,t)},go:(e,t,i)=>{if("farzher"==e)return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:t?t[0]:T}];if(!e)return i&&i.all?s(e,t,i):x;var n=o(e),l=n.bitflags,c=(n.containsSpace,i&&i.threshold||_),h=i&&i.limit||v,u=0,d=0,p=t.length;if(i&&i.key)for(var g=i.key,b=0;b<p;++b){var w=t[b];(M=f(w,g))&&(y(M)||(M=r(M)),(l&M._bitflags)===l&&(L=a(n,M))!==T&&(L.score<c||(L={target:L.target,_targetLower:"",_targetLowerCodes:T,_nextBeginningIndexes:T,_bitflags:0,score:L.score,_indexes:L._indexes,obj:w},u<h?(C.add(L),++u):(++d,L.score>C.peek().score&&C.replaceTop(L)))))}else if(i&&i.keys){var k=i.scoreFn||m,A=i.keys,S=A.length;for(b=0;b<p;++b){w=t[b];for(var E=new Array(S),z=0;z<S;++z)g=A[z],(M=f(w,g))?(y(M)||(M=r(M)),(l&M._bitflags)!==l?E[z]=T:E[z]=a(n,M)):E[z]=T;E.obj=w;var P=k(E);P!==T&&(P<c||(E.score=P,u<h?(C.add(E),++u):(++d,P>C.peek().score&&C.replaceTop(E))))}}else for(b=0;b<p;++b){var M,L;(M=t[b])&&(y(M)||(M=r(M)),(l&M._bitflags)===l&&(L=a(n,M))!==T&&(L.score<c||(u<h?(C.add(L),++u):(++d,L.score>C.peek().score&&C.replaceTop(L)))))}if(0===u)return x;var I=new Array(u);for(b=u-1;b>=0;--b)I[b]=C.poll();return I.total=u+d,I},highlight:(e,i,n)=>{if("function"==typeof i)return t(e,i);if(e===T)return T;void 0===i&&(i="<b>"),void 0===n&&(n="</b>");var r="",o=0,s=!1,a=e.target,l=a.length,c=e._indexes;c=c.slice(0,c.len).sort(((e,t)=>e-t));for(var h=0;h<l;++h){var u=a[h];if(c[o]===h){if(s||(s=!0,r+=i),++o===c.length){r+=u+n+a.substr(h+1);break}}else s&&(s=!1,r+=n);r+=u}return r},prepare:i,indexes:e=>e._indexes.slice(0,e._indexes.len).sort(((e,t)=>e-t)),cleanup:()=>{u.clear(),d.clear(),p=[],g=[]}}})?i.apply(t,[]):i)||(e.exports=n)},8750:(e,t,i)=>{"use strict";var n,r=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},h=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,u=i(679)(),d=i(2574)(),p=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),g={},m="undefined"!=typeof Uint8Array&&p?p(Uint8Array):n,f={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":u&&p?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":g,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u&&p?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u&&p?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u&&p?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u&&p?p(""[Symbol.iterator]()):n,"%Symbol%":u?Symbol:n,"%SyntaxError%":r,"%ThrowTypeError%":h,"%TypedArray%":m,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(p)try{null.error}catch(e){var y=p(p(e));f["%Error.prototype%"]=y}var v=function e(t){var i;if("%AsyncFunction%"===t)i=a("async function () {}");else if("%GeneratorFunction%"===t)i=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)i=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(i=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&p&&(i=p(r.prototype))}return f[t]=i,i},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=i(132),b=i(1712),w=x.call(Function.call,Array.prototype.concat),k=x.call(Function.apply,Array.prototype.splice),A=x.call(Function.call,String.prototype.replace),T=x.call(Function.call,String.prototype.slice),C=x.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,z=function(e,t){var i,n=e;if(b(_,n)&&(n="%"+(i=_[n])[0]+"%"),b(f,n)){var o=f[n];if(o===g&&(o=v(n)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=function(e){var t=T(e,0,1),i=T(e,-1);if("%"===t&&"%"!==i)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var n=[];return A(e,S,(function(e,t,i,r){n[n.length]=i?A(r,E,"$1"):t||e})),n}(e),n=i.length>0?i[0]:"",o=z("%"+n+"%",t),a=o.name,c=o.value,h=!1,u=o.alias;u&&(n=u[0],k(i,w([0,1],u)));for(var d=1,p=!0;d<i.length;d+=1){var g=i[d],m=T(g,0,1),y=T(g,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new r("property names with quotes must have matching quotes");if("constructor"!==g&&p||(h=!0),b(f,a="%"+(n+="."+g)+"%"))c=f[a];else if(null!=c){if(!(g in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=i.length){var v=l(c,g);c=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[g]}else p=b(c,g),c=c[g];p&&!h&&(f[a]=c)}}return c}},7502:(e,t,i)=>{"use strict";var n=i(8750)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},1365:(e,t,i)=>{"use strict";var n=i(8750)("%Object.defineProperty%",!0),r=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=r},2574:e=>{"use strict";var t={foo:{}},i=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof i)}},679:(e,t,i)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,r=i(8186);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&r()}},8186:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),i=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},698:(e,t,i)=>{"use strict";var n=i(8186);e.exports=function(){return n()&&!!Symbol.toStringTag}},1712:(e,t,i)=>{"use strict";var n=Function.prototype.call,r=Object.prototype.hasOwnProperty,o=i(132);e.exports=o.call(n,r)},8898:(e,t)=>{t.read=function(e,t,i,n,r){var o,s,a=8*r-n-1,l=(1<<a)-1,c=l>>1,h=-7,u=i?r-1:0,d=i?-1:1,p=e[t+u];for(u+=d,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+e[t+u],u+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+e[t+u],u+=d,h-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,i,n,r,o){var s,a,l,c=8*o-r-1,h=(1<<c)-1,u=h>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,g=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=h?(a=0,s=h):s+u>=1?(a=(t*l-1)*Math.pow(2,r),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,r),s=0));r>=8;e[i+p]=255&a,p+=g,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[i+p]=255&s,p+=g,s/=256,c-=8);e[i+p-g]|=128*m}},87:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},7740:(e,t,i)=>{"use strict";var n=i(698)(),r=i(2737)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===r(e)},s=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r(e)&&"[object Function]"===r(e.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,e.exports=a?o:s},2922:e=>{"use strict";var t,i,n=Function.prototype.toString,r="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof r&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw i}}),i={},r((function(){throw 42}),null,t)}catch(e){e!==i&&(r=null)}else r=null;var o=/^\s*class\b/,s=function(e){try{var t=n.call(e);return o.test(t)}catch(e){return!1}},a=function(e){try{return!s(e)&&(n.call(e),!0)}catch(e){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,h=!(0 in[,]),u=function(){return!1};if("object"==typeof document){var d=document.all;l.call(d)===l.call(document.all)&&(u=function(e){if((h||!e)&&(void 0===e||"object"==typeof e))try{var t=l.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=r?function(e){if(u(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{r(e,null,t)}catch(e){if(e!==i)return!1}return!s(e)&&a(e)}:function(e){if(u(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(c)return a(e);if(s(e))return!1;var t=l.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}},8265:(e,t,i)=>{"use strict";var n,r=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=i(698)(),l=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(s.test(o.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===r.call(e);if(!l)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&l(t)}return l(e)===n}},4127:e=>{"use strict";e.exports=function(e){return e!=e}},4866:(e,t,i)=>{"use strict";var n=i(4573),r=i(7392),o=i(4127),s=i(850),a=i(8045),l=n(s(),Number);r(l,{getPolyfill:s,implementation:o,shim:a}),e.exports=l},850:(e,t,i)=>{"use strict";var n=i(4127);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},8045:(e,t,i)=>{"use strict";var n=i(7392),r=i(850);e.exports=function(){var e=r();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},387:(e,t,i)=>{"use strict";var n=i(2505);e.exports=function(e){return!!n(e)}},9344:function(e,t){!function(e){"use strict";function t(e){var t,i,n,r;for(i=1,n=arguments.length;i<n;i++)for(t in r=arguments[i])e[t]=r[t];return e}var i=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function n(e,t){var i=Array.prototype.slice;if(e.bind)return e.bind.apply(e,i.call(arguments,1));var n=i.call(arguments,2);return function(){return e.apply(t,n.length?n.concat(i.call(arguments)):arguments)}}var r=0;function o(e){return"_leaflet_id"in e||(e._leaflet_id=++r),e._leaflet_id}function s(e,t,i){var n,r,o,s;return s=function(){n=!1,r&&(o.apply(i,r),r=!1)},o=function(){n?r=arguments:(e.apply(i,arguments),setTimeout(s,t),n=!0)},o}function a(e,t,i){var n=t[1],r=t[0],o=n-r;return e===n&&i?e:((e-r)%o+o)%o+r}function l(){return!1}function c(e,t){if(!1===t)return e;var i=Math.pow(10,void 0===t?6:t);return Math.round(e*i)/i}function h(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function u(e){return h(e).split(/\s+/)}function d(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?i(e.options):{}),t)e.options[n]=t[n];return e.options}function p(e,t,i){var n=[];for(var r in e)n.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+n.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function m(e,t){return e.replace(g,(function(e,i){var n=t[i];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(t)),n}))}var f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var x=0;function b(e){var t=+new Date,i=Math.max(0,16-(t-x));return x=t+i,window.setTimeout(e,i)}var w=window.requestAnimationFrame||_("RequestAnimationFrame")||b,k=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function A(e,t,i){if(!i||w!==b)return w.call(window,n(e,t));e.call(t)}function T(e){e&&k.call(window,e)}var C={__proto__:null,extend:t,create:i,bind:n,get lastId(){return r},stamp:o,throttle:s,wrapNum:a,falseFn:l,formatNum:c,trim:h,splitWords:u,setOptions:d,getParamString:p,template:m,isArray:f,indexOf:y,emptyImageUrl:v,requestFn:w,cancelFn:k,requestAnimFrame:A,cancelAnimFrame:T};function S(){}S.extend=function(e){var n=function(){d(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,o=i(r);for(var s in o.constructor=n,n.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(n[s]=this[s]);return e.statics&&t(n,e.statics),e.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=f(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),t.apply(null,[o].concat(e.includes))),t(o,e),delete o.statics,delete o.includes,o.options&&(o.options=r.options?i(r.options):{},t(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},n},S.include=function(e){var i=this.prototype.options;return t(this.prototype,e),e.options&&(this.prototype.options=i,this.mergeOptions(e.options)),this},S.mergeOptions=function(e){return t(this.prototype.options,e),this},S.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),i="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var E={on:function(e,t,i){if("object"==typeof e)for(var n in e)this._on(n,e[n],t);else for(var r=0,o=(e=u(e)).length;r<o;r++)this._on(e[r],t,i);return this},off:function(e,t,i){if(arguments.length)if("object"==typeof e)for(var n in e)this._off(n,e[n],t);else{e=u(e);for(var r=1===arguments.length,o=0,s=e.length;o<s;o++)r?this._off(e[o]):this._off(e[o],t,i)}else delete this._events;return this},_on:function(e,t,i,n){if("function"==typeof t){if(!1===this._listens(e,t,i)){i===this&&(i=void 0);var r={fn:t,ctx:i};n&&(r.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(r)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,i){var n,r,o;if(this._events&&(n=this._events[e]))if(1!==arguments.length)if("function"==typeof t){var s=this._listens(e,t,i);if(!1!==s){var a=n[s];this._firingCount&&(a.fn=l,this._events[e]=n=n.slice()),n.splice(s,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(r=0,o=n.length;r<o;r++)n[r].fn=l;delete this._events[e]}},fire:function(e,i,n){if(!this.listens(e,n))return this;var r=t({},i,{type:e,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var l=o[s],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,r)}this._firingCount--}}return n&&this._propagateEvent(r),this},listens:function(e,t,i,n){"string"!=typeof e&&console.warn('"string" type argument expected');var r=t;"function"!=typeof t&&(n=!!t,r=void 0,i=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,r,i))return!0;if(n)for(var s in this._eventParents)if(this._eventParents[s].listens(e,t,i,n))return!0;return!1},_listens:function(e,t,i){if(!this._events)return!1;var n=this._events[e]||[];if(!t)return!!n.length;i===this&&(i=void 0);for(var r=0,o=n.length;r<o;r++)if(n[r].fn===t&&n[r].ctx===i)return r;return!1},once:function(e,t,i){if("object"==typeof e)for(var n in e)this._on(n,e[n],t,!0);else for(var r=0,o=(e=u(e)).length;r<o;r++)this._on(e[r],t,i,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var i in this._eventParents)this._eventParents[i].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};E.addEventListener=E.on,E.removeEventListener=E.clearAllEventListeners=E.off,E.addOneTimeEventListener=E.once,E.fireEvent=E.fire,E.hasEventListeners=E.listens;var z=S.extend(E);function P(e,t,i){this.x=i?Math.round(e):e,this.y=i?Math.round(t):t}var M=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function I(e,t,i){return e instanceof P?e:f(e)?new P(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new P(e.x,e.y):new P(e,t,i)}function O(e,t){if(e)for(var i=t?[e,t]:e,n=0,r=i.length;n<r;n++)this.extend(i[n])}function D(e,t){return!e||e instanceof O?e:new O(e,t)}function R(e,t){if(e)for(var i=t?[e,t]:e,n=0,r=i.length;n<r;n++)this.extend(i[n])}function B(e,t){return e instanceof R?e:new R(e,t)}function j(e,t,i){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==i&&(this.alt=+i)}function N(e,t,i){return e instanceof j?e:f(e)&&"object"!=typeof e[0]?3===e.length?new j(e[0],e[1],e[2]):2===e.length?new j(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new j(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new j(e,t,i)}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(e){return this.clone()._add(I(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(I(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new P(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new P(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=M(this.x),this.y=M(this.y),this},distanceTo:function(e){var t=(e=I(e)).x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},equals:function(e){return(e=I(e)).x===this.x&&e.y===this.y},contains:function(e){return e=I(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},O.prototype={extend:function(e){var t,i;if(!e)return this;if(e instanceof P||"number"==typeof e[0]||"x"in e)t=i=I(e);else if(t=(e=D(e)).min,i=e.max,!t||!i)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)):(this.min=t.clone(),this.max=i.clone()),this},getCenter:function(e){return I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return I(this.min.x,this.max.y)},getTopRight:function(){return I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,i;return(e="number"==typeof e[0]||e instanceof P?I(e):D(e))instanceof O?(t=e.min,i=e.max):t=i=e,t.x>=this.min.x&&i.x<=this.max.x&&t.y>=this.min.y&&i.y<=this.max.y},intersects:function(e){e=D(e);var t=this.min,i=this.max,n=e.min,r=e.max,o=r.x>=t.x&&n.x<=i.x,s=r.y>=t.y&&n.y<=i.y;return o&&s},overlaps:function(e){e=D(e);var t=this.min,i=this.max,n=e.min,r=e.max,o=r.x>t.x&&n.x<i.x,s=r.y>t.y&&n.y<i.y;return o&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,i=this.max,n=Math.abs(t.x-i.x)*e,r=Math.abs(t.y-i.y)*e;return D(I(t.x-n,t.y-r),I(i.x+n,i.y+r))},equals:function(e){return!!e&&(e=D(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},R.prototype={extend:function(e){var t,i,n=this._southWest,r=this._northEast;if(e instanceof j)t=e,i=e;else{if(!(e instanceof R))return e?this.extend(N(e)||B(e)):this;if(t=e._southWest,i=e._northEast,!t||!i)return this}return n||r?(n.lat=Math.min(t.lat,n.lat),n.lng=Math.min(t.lng,n.lng),r.lat=Math.max(i.lat,r.lat),r.lng=Math.max(i.lng,r.lng)):(this._southWest=new j(t.lat,t.lng),this._northEast=new j(i.lat,i.lng)),this},pad:function(e){var t=this._southWest,i=this._northEast,n=Math.abs(t.lat-i.lat)*e,r=Math.abs(t.lng-i.lng)*e;return new R(new j(t.lat-n,t.lng-r),new j(i.lat+n,i.lng+r))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof j||"lat"in e?N(e):B(e);var t,i,n=this._southWest,r=this._northEast;return e instanceof R?(t=e.getSouthWest(),i=e.getNorthEast()):t=i=e,t.lat>=n.lat&&i.lat<=r.lat&&t.lng>=n.lng&&i.lng<=r.lng},intersects:function(e){e=B(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>=t.lat&&n.lat<=i.lat,s=r.lng>=t.lng&&n.lng<=i.lng;return o&&s},overlaps:function(e){e=B(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>t.lat&&n.lat<i.lat,s=r.lng>t.lng&&n.lng<i.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=B(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(e,t){return!!e&&(e=N(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+c(this.lat,e)+", "+c(this.lng,e)+")"},distanceTo:function(e){return q.distance(this,N(e))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,i=t/Math.cos(Math.PI/180*this.lat);return B([this.lat-t,this.lng-i],[this.lat+t,this.lng+i])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var F,Z={latLngToPoint:function(e,t){var i=this.projection.project(e),n=this.scale(t);return this.transformation._transform(i,n)},pointToLatLng:function(e,t){var i=this.scale(t),n=this.transformation.untransform(e,i);return this.projection.unproject(n)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,i=this.scale(e);return new O(this.transformation.transform(t.min,i),this.transformation.transform(t.max,i))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?a(e.lng,this.wrapLng,!0):e.lng;return new j(this.wrapLat?a(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),i=this.wrapLatLng(t),n=t.lat-i.lat,r=t.lng-i.lng;if(0===n&&0===r)return e;var o=e.getSouthWest(),s=e.getNorthEast();return new R(new j(o.lat-n,o.lng-r),new j(s.lat-n,s.lng-r))}},q=t({},Z,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var i=Math.PI/180,n=e.lat*i,r=t.lat*i,o=Math.sin((t.lat-e.lat)*i/2),s=Math.sin((t.lng-e.lng)*i/2),a=o*o+Math.cos(n)*Math.cos(r)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),U=6378137,V={R:U,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,e.lat),-i),r=Math.sin(n*t);return new P(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new j((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(F=U*Math.PI,new O([-F,-F],[F,F]))};function H(e,t,i,n){if(f(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=i,this._d=n}function W(e,t,i,n){return new H(e,t,i,n)}H.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new P((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var K=t({},q,{code:"EPSG:3857",projection:V,transformation:function(){var e=.5/(Math.PI*V.R);return W(e,.5,-e,.5)}()}),G=t({},K,{code:"EPSG:900913"});function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var i,n,r,o,s,a,l="";for(i=0,r=e.length;i<r;i++){for(n=0,o=(s=e[i]).length;n<o;n++)l+=(n?"L":"M")+(a=s[n]).x+" "+a.y;l+=t?Oe.svg?"z":"x":""}return l||"M0 0"}var J,X=document.documentElement.style,$="ActiveXObject"in window,ee=$&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ie=Ie("webkit"),ne=Ie("android"),re=Ie("android 2")||Ie("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),se=ne&&Ie("Google")&&oe<537&&!("AudioNode"in window),ae=!!window.opera,le=!te&&Ie("chrome"),ce=Ie("gecko")&&!ie&&!ae&&!$,he=!le&&Ie("safari"),ue=Ie("phantom"),de="OTransition"in X,pe=0===navigator.platform.indexOf("Win"),ge=$&&"transition"in X,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!re,fe="MozPerspective"in X,ye=!window.L_DISABLE_3D&&(ge||me||fe)&&!de&&!ue,ve="undefined"!=typeof orientation||Ie("mobile"),_e=ve&&ie,xe=ve&&me,be=!window.PointerEvent&&window.MSPointerEvent,we=!(!window.PointerEvent&&!be),ke="ontouchstart"in window||!!window.TouchEvent,Ae=!window.L_NO_TOUCH&&(ke||we),Te=ve&&ae,Ce=ve&&ce,Se=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ee=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",l,t),window.removeEventListener("testPassiveEventSupport",l,t)}catch(e){}return e}(),ze=!!document.createElement("canvas").getContext,Pe=!(!document.createElementNS||!Q("svg").createSVGRect),Me=!!Pe&&((J=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(J.firstChild&&J.firstChild.namespaceURI)),Le=!Pe&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}();function Ie(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Oe={ie:$,ielt9:ee,edge:te,webkit:ie,android:ne,android23:re,androidStock:se,opera:ae,chrome:le,gecko:ce,safari:he,phantom:ue,opera12:de,win:pe,ie3d:ge,webkit3d:me,gecko3d:fe,any3d:ye,mobile:ve,mobileWebkit:_e,mobileWebkit3d:xe,msPointer:be,pointer:we,touch:Ae,touchNative:ke,mobileOpera:Te,mobileGecko:Ce,retina:Se,passiveEvents:Ee,canvas:ze,svg:Pe,vml:Le,inlineSvg:Me,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},De=Oe.msPointer?"MSPointerDown":"pointerdown",Re=Oe.msPointer?"MSPointerMove":"pointermove",Be=Oe.msPointer?"MSPointerUp":"pointerup",je=Oe.msPointer?"MSPointerCancel":"pointercancel",Ne={touchstart:De,touchmove:Re,touchend:Be,touchcancel:je},Fe={touchstart:function(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&jt(t),Ke(e,t)},touchmove:Ke,touchend:Ke,touchcancel:Ke},Ze={},qe=!1;function Ue(e,t,i){return"touchstart"===t&&(qe||(document.addEventListener(De,Ve,!0),document.addEventListener(Re,He,!0),document.addEventListener(Be,We,!0),document.addEventListener(je,We,!0),qe=!0)),Fe[t]?(i=Fe[t].bind(this,i),e.addEventListener(Ne[t],i,!1),i):(console.warn("wrong event specified:",t),l)}function Ve(e){Ze[e.pointerId]=e}function He(e){Ze[e.pointerId]&&(Ze[e.pointerId]=e)}function We(e){delete Ze[e.pointerId]}function Ke(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var i in t.touches=[],Ze)t.touches.push(Ze[i]);t.changedTouches=[t],e(t)}}var Ge=200;var Qe,Ye,Je,Xe,$e,et=ft(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tt=ft(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),it="webkitTransition"===tt||"OTransition"===tt?tt+"End":"transitionend";function nt(e){return"string"==typeof e?document.getElementById(e):e}function rt(e,t){var i=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(e,null);i=n?n[t]:null}return"auto"===i?null:i}function ot(e,t,i){var n=document.createElement(e);return n.className=t||"",i&&i.appendChild(n),n}function st(e){var t=e.parentNode;t&&t.removeChild(e)}function at(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function lt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function ct(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function ht(e,t){if(void 0!==e.classList)return e.classList.contains(t);var i=gt(e);return i.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(i)}function ut(e,t){if(void 0!==e.classList)for(var i=u(t),n=0,r=i.length;n<r;n++)e.classList.add(i[n]);else if(!ht(e,t)){var o=gt(e);pt(e,(o?o+" ":"")+t)}}function dt(e,t){void 0!==e.classList?e.classList.remove(t):pt(e,h((" "+gt(e)+" ").replace(" "+t+" "," ")))}function pt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function gt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function mt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=e.filters.item(n)}catch(e){if(1===t)return}t=Math.round(100*t),i?(i.Enabled=100!==t,i.Opacity=t):e.style.filter+=" progid:"+n+"(opacity="+t+")"}(e,t)}function ft(e){for(var t=document.documentElement.style,i=0;i<e.length;i++)if(e[i]in t)return e[i];return!1}function yt(e,t,i){var n=t||new P(0,0);e.style[et]=(Oe.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function vt(e,t){e._leaflet_pos=t,Oe.any3d?yt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function _t(e){return e._leaflet_pos||new P(0,0)}if("onselectstart"in document)Qe=function(){Et(window,"selectstart",jt)},Ye=function(){Pt(window,"selectstart",jt)};else{var xt=ft(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qe=function(){if(xt){var e=document.documentElement.style;Je=e[xt],e[xt]="none"}},Ye=function(){xt&&(document.documentElement.style[xt]=Je,Je=void 0)}}function bt(){Et(window,"dragstart",jt)}function wt(){Pt(window,"dragstart",jt)}function kt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(At(),Xe=e,$e=e.style.outlineStyle,e.style.outlineStyle="none",Et(window,"keydown",At))}function At(){Xe&&(Xe.style.outlineStyle=$e,Xe=void 0,$e=void 0,Pt(window,"keydown",At))}function Tt(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function Ct(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var St={__proto__:null,TRANSFORM:et,TRANSITION:tt,TRANSITION_END:it,get:nt,getStyle:rt,create:ot,remove:st,empty:at,toFront:lt,toBack:ct,hasClass:ht,addClass:ut,removeClass:dt,setClass:pt,getClass:gt,setOpacity:mt,testProp:ft,setTransform:yt,setPosition:vt,getPosition:_t,get disableTextSelection(){return Qe},get enableTextSelection(){return Ye},disableImageDrag:bt,enableImageDrag:wt,preventOutline:kt,restoreOutline:At,getSizedParentNode:Tt,getScale:Ct};function Et(e,t,i,n){if(t&&"object"==typeof t)for(var r in t)It(e,r,t[r],i);else for(var o=0,s=(t=u(t)).length;o<s;o++)It(e,t[o],i,n);return this}var zt="_leaflet_events";function Pt(e,t,i,n){if(1===arguments.length)Mt(e),delete e[zt];else if(t&&"object"==typeof t)for(var r in t)Ot(e,r,t[r],i);else if(t=u(t),2===arguments.length)Mt(e,(function(e){return-1!==y(t,e)}));else for(var o=0,s=t.length;o<s;o++)Ot(e,t[o],i,n);return this}function Mt(e,t){for(var i in e[zt]){var n=i.split(/\d/)[0];t&&!t(n)||Ot(e,n,null,null,i)}}var Lt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function It(e,t,i,n){var r=t+o(i)+(n?"_"+o(n):"");if(e[zt]&&e[zt][r])return this;var s=function(t){return i.call(n||e,t||window.event)},a=s;!Oe.touchNative&&Oe.pointer&&0===t.indexOf("touch")?s=Ue(e,t,s):Oe.touch&&"dblclick"===t?s=function(e,t){e.addEventListener("dblclick",t);var i,n=0;function r(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var r=Ft(e);if(!r.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||r.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var o=Date.now();o-n<=Ge?2==++i&&t(function(e){var t,i,n={};for(i in e)t=e[i],n[i]=t&&t.bind?t.bind(e):t;return e=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}(e)):i=1,n=o}}}else i=e.detail}return e.addEventListener("click",r),{dblclick:t,simDblclick:r}}(e,s):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Lt[t]||t,s,!!Oe.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(s=function(t){t=t||window.event,Vt(e,t)&&a(t)},e.addEventListener(Lt[t],s,!1)):e.addEventListener(t,a,!1):e.attachEvent("on"+t,s),e[zt]=e[zt]||{},e[zt][r]=s}function Ot(e,t,i,n,r){r=r||t+o(i)+(n?"_"+o(n):"");var s=e[zt]&&e[zt][r];if(!s)return this;!Oe.touchNative&&Oe.pointer&&0===t.indexOf("touch")?function(e,t,i){Ne[t]?e.removeEventListener(Ne[t],i,!1):console.warn("wrong event specified:",t)}(e,t,s):Oe.touch&&"dblclick"===t?function(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}(e,s):"removeEventListener"in e?e.removeEventListener(Lt[t]||t,s,!1):e.detachEvent("on"+t,s),e[zt][r]=null}function Dt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Rt(e){return It(e,"wheel",Dt),this}function Bt(e){return Et(e,"mousedown touchstart dblclick contextmenu",Dt),e._leaflet_disable_click=!0,this}function jt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Nt(e){return jt(e),Dt(e),this}function Ft(e){if(e.composedPath)return e.composedPath();for(var t=[],i=e.target;i;)t.push(i),i=i.parentNode;return t}function Zt(e,t){if(!t)return new P(e.clientX,e.clientY);var i=Ct(t),n=i.boundingClientRect;return new P((e.clientX-n.left)/i.x-t.clientLeft,(e.clientY-n.top)/i.y-t.clientTop)}var qt=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ut(e){return Oe.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/qt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Vt(e,t){var i=t.relatedTarget;if(!i)return!0;try{for(;i&&i!==e;)i=i.parentNode}catch(e){return!1}return i!==e}var Ht={__proto__:null,on:Et,off:Pt,stopPropagation:Dt,disableScrollPropagation:Rt,disableClickPropagation:Bt,preventDefault:jt,stop:Nt,getPropagationPath:Ft,getMousePosition:Zt,getWheelDelta:Ut,isExternalTarget:Vt,addListener:Et,removeListener:Pt},Wt=z.extend({run:function(e,t,i,n){this.stop(),this._el=e,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=_t(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=A(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,i=1e3*this._duration;t<i?this._runFrame(this._easeOut(t/i),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var i=this._startPos.add(this._offset.multiplyBy(e));t&&i._round(),vt(this._el,i),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Kt=z.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=d(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(N(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=tt&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Et(this._proxy,it,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,i,n){return i=void 0===i?this._zoom:this._limitZoom(i),e=this._limitCenter(N(e),i,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=t({animate:n.animate},n.zoom),n.pan=t({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,i,n.zoom):this._tryAnimatedPan(e,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,i,n.pan&&n.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,i){var n=this.getZoomScale(t),r=this.getSize().divideBy(2),o=(e instanceof P?e:this.latLngToContainerPoint(e)).subtract(r).multiplyBy(1-1/n),s=this.containerPointToLatLng(r.add(o));return this.setView(s,t,{zoom:i})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():B(e);var i=I(t.paddingTopLeft||t.padding||[0,0]),n=I(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,i.add(n));if((r="number"==typeof t.maxZoom?Math.min(t.maxZoom,r):r)===1/0)return{center:e.getCenter(),zoom:r};var o=n.subtract(i).divideBy(2),s=this.project(e.getSouthWest(),r),a=this.project(e.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(e,t){if(!(e=B(e)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(e,t);return this.setView(i.center,i.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=I(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){ut(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,i,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,i){if(!1===(i=i||{}).animate||!Oe.any3d)return this.setView(e,t,i);this._stop();var n=this.project(this.getCenter()),r=this.project(e),o=this.getSize(),s=this._zoom;e=N(e),t=void 0===t?s:t;var a=Math.max(o.x,o.y),l=a*this.getZoomScale(s,t),c=r.distanceTo(n)||1,h=1.42,u=h*h;function d(e){var t=(l*l-a*a+(e?-1:1)*u*u*c*c)/(2*(e?l:a)*u*c),i=Math.sqrt(t*t+1)-t;return i<1e-9?-18:Math.log(i)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function g(e){return(Math.exp(e)+Math.exp(-e))/2}var m=d(0);function f(e){return a*(g(m)*(p(t=m+h*e)/g(t))-p(m))/u;var t}var y=Date.now(),v=(d(1)-m)/h,_=i.duration?1e3*i.duration:1e3*v*.8;return this._moveStart(!0,i.noMoveStart),function i(){var o=(Date.now()-y)/_,l=function(e){return 1-Math.pow(1-e,1.5)}(o)*v;o<=1?(this._flyToFrame=A(i,this),this._move(this.unproject(n.add(r.subtract(n).multiplyBy(f(l)/c)),s),this.getScaleZoom(a/function(e){return a*(g(m)/g(m+h*e))}(l),s),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var i=this._getBoundsCenterZoom(e,t);return this.flyTo(i.center,i.zoom,t)},setMaxBounds:function(e){return e=B(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,B(e));return i.equals(n)||this.panTo(n,t),this._enforcingBounds=!1,this},panInside:function(e,t){var i=I((t=t||{}).paddingTopLeft||t.padding||[0,0]),n=I(t.paddingBottomRight||t.padding||[0,0]),r=this.project(this.getCenter()),o=this.project(e),s=this.getPixelBounds(),a=D([s.min.add(i),s.max.subtract(n)]),l=a.getSize();if(!a.contains(o)){this._enforcingBounds=!0;var c=o.subtract(a.getCenter()),h=a.extend(o).getSize().subtract(l);r.x+=c.x<0?-h.x:h.x,r.y+=c.y<0?-h.y:h.y,this.panTo(this.unproject(r),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=i.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),r=n(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,e):navigator.geolocation.getCurrentPosition(i,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,i=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new j(e.coords.latitude,e.coords.longitude),i=t.toBounds(2*e.coords.accuracy),n=this._locateOptions;if(n.setView){var r=this.getBoundsZoom(i);this.setView(t,n.maxZoom?Math.min(r,n.maxZoom):r)}var o={latlng:t,bounds:i,timestamp:e.timestamp};for(var s in e.coords)"number"==typeof e.coords[s]&&(o[s]=e.coords[s]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var i=this[e]=new t(this);return this._handlers.push(i),this.options[e]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),st(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)st(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var i=ot("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new R(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,i){e=B(e),i=I(i||[0,0]);var n=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(i),c=D(this.project(a,n),this.project(s,n)).getSize(),h=Oe.any3d?this.options.zoomSnap:1,u=l.x/c.x,d=l.y/c.y,p=t?Math.max(u,d):Math.min(u,d);return n=this.getScaleZoom(p,n),h&&(n=Math.round(n/(h/100))*(h/100),n=t?Math.ceil(n/h)*h:Math.floor(n/h)*h),Math.max(r,Math.min(o,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var i=this._getTopLeftPoint(e,t);return new O(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var i=this.options.crs;return t=void 0===t?this._zoom:t,i.scale(e)/i.scale(t)},getScaleZoom:function(e,t){var i=this.options.crs;t=void 0===t?this._zoom:t;var n=i.zoom(e*i.scale(t));return isNaN(n)?1/0:n},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(N(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(I(e),t)},layerPointToLatLng:function(e){var t=I(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(N(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(N(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(B(e))},distance:function(e,t){return this.options.crs.distance(N(e),N(t))},containerPointToLayerPoint:function(e){return I(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return I(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(I(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(N(e)))},mouseEventToContainerPoint:function(e){return Zt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=nt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Et(t,"scroll",this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,ut(e,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=rt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),vt(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(e.markerPane,"leaflet-zoom-hide"),ut(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,i){vt(this._mapPane,new P(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,i)._move(e,t)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,i,n){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),n?i&&i.pinch&&this.fire("zoom",i):((r||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){vt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?Pt:Et;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=A((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var i,n=[],r="mouseout"===t||"mouseover"===t,s=e.target||e.srcElement,a=!1;s;){if((i=this._targets[o(s)])&&("click"===t||"preclick"===t)&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(t,!0)){if(r&&!Vt(s,e))break;if(n.push(i),r)break}if(s===this._container)break;s=s.parentNode}return n.length||a||r||!this.listens(t,!0)||(n=[this]),n},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var i=e.type;"mousedown"===i&&kt(t),this._fireDOMEvent(e,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,i,n){if("click"===e.type){var r=t({},e);r.type="preclick",this._fireDOMEvent(r,r.type,n)}var o=this._findEventTargets(e,i);if(n){for(var s=[],a=0;a<n.length;a++)n[a].listens(i,!0)&&s.push(n[a]);o=s.concat(o)}if(o.length){"contextmenu"===i&&jt(e);var l=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var h=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=h?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=h?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<o.length;a++)if(o[a].fire(i,c,!0),c.originalEvent._stopped||!1===o[a].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,i))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return _t(this._mapPane)||new P(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var i=this.getSize()._divideBy(2);return this.project(e,t)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return this.project(e,t)._subtract(n)},_latLngBoundsToNewLayerBounds:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return D([this.project(e.getSouthWest(),t)._subtract(n),this.project(e.getNorthWest(),t)._subtract(n),this.project(e.getSouthEast(),t)._subtract(n),this.project(e.getNorthEast(),t)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,i){if(!i)return e;var n=this.project(e,t),r=this.getSize().divideBy(2),o=new O(n.subtract(r),n.add(r)),s=this._getBoundsOffset(o,i,t);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?e:this.unproject(n.add(s),t)},_limitOffset:function(e,t){if(!t)return e;var i=this.getPixelBounds(),n=new O(i.min.add(e),i.max.add(e));return e.add(this._getBoundsOffset(n,t))},_getBoundsOffset:function(e,t,i){var n=D(this.project(t.getNorthEast(),i),this.project(t.getSouthWest(),i)),r=n.min.subtract(e.min),o=n.max.subtract(e.max);return new P(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),i=this.getMaxZoom(),n=Oe.any3d?this.options.zoomSnap:1;return n&&(e=Math.round(e/n)*n),Math.max(t,Math.min(i,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var i=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(i)||(this.panBy(i,t),0))},_createAnimProxy:function(){var e=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=et,i=this._proxy.style[t];yt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),i===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){st(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();yt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(r)||(A((function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,i,r){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Gt=S.extend({options:{position:"topright"},initialize:function(e){d(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),i=this.getPosition(),n=e._controlCorners[i];return ut(t,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(t,n.firstChild):n.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(st(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Qt=function(e){return new Gt(e)};Kt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",i=this._controlContainer=ot("div",t+"control-container",this._container);function n(n,r){var o=t+n+" "+t+r;e[n+r]=ot("div",o,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)st(this._controlCorners[e]);st(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yt=Gt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,i,n){return i<n?-1:n<i?1:0}},initialize:function(e,t,i){for(var n in d(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[n],n);for(n in t)this._addLayer(t[n],n,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Gt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ot("div",e),i=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Bt(t),Rt(t);var n=this._section=ot("section",e+"-list");i&&(this._map.on("click",this.collapse,this),Et(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=ot("a",e+"-toggle",t);r.href="#",r.title="Layers",r.setAttribute("role","button"),Et(r,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){jt(e),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=ot("div",e+"-base",n),this._separator=ot("div",e+"-separator",n),this._overlaysList=ot("div",e+"-overlays",n),t.appendChild(n)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,i){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:i}),this.options.sortLayers&&this._layers.sort(n((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;at(this._baseLayersList),at(this._overlaysList),this._layerControlInputs=[];var e,t,i,n,r=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),t=t||n.overlay,e=e||!n.overlay,r+=n.overlay?0:1;return this.options.hideSingleBase&&(e=e&&r>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),i=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;i&&this._map.fire(i,t)},_createRadioElement:function(e,t){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(e){var t,i=document.createElement("label"),n=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=n):t=this._createRadioElement("leaflet-base-layers_"+o(this),n),this._layerControlInputs.push(t),t.layerId=o(e.layer),Et(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var s=document.createElement("span");return i.appendChild(s),s.appendChild(t),s.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var e,t,i=this._layerControlInputs,n=[],r=[];this._handlingClick=!0;for(var o=i.length-1;o>=0;o--)e=i[o],t=this._getLayer(e.layerId).layer,e.checked?n.push(t):e.checked||r.push(t);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<n.length;o++)this._map.hasLayer(n[o])||this._map.addLayer(n[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,i=this._layerControlInputs,n=this._map.getZoom(),r=i.length-1;r>=0;r--)e=i[r],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&n<t.options.minZoom||void 0!==t.options.maxZoom&&n>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Et(e,"click",jt),this.expand();var t=this;setTimeout((function(){Pt(e,"click",jt),t._preventClick=!1}))}}),Jt=Gt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",i=ot("div",t+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,t+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,t+"-out",i,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,i,n,r){var o=ot("a",i,n);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Bt(o),Et(o,"click",Nt),Et(o,"click",r,this),Et(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";dt(this._zoomInButton,t),dt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(ut(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(ut(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});Kt.mergeOptions({zoomControl:!0}),Kt.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Jt,this.addControl(this.zoomControl))}));var Xt=Gt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",i=ot("div",t),n=this.options;return this._addScales(n,t+"-line",i),e.on(n.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),i},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,i){e.metric&&(this._mScale=ot("div",t,i)),e.imperial&&(this._iScale=ot("div",t,i))},_update:function(){var e=this._map,t=e.getSize().y/2,i=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(i)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),i=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,i,t/e)},_updateImperial:function(e){var t,i,n,r=3.2808399*e;r>5280?(t=r/5280,i=this._getRoundNum(t),this._updateScale(this._iScale,i+" mi",i/t)):(n=this._getRoundNum(r),this._updateScale(this._iScale,n+" ft",n/r))},_updateScale:function(e,t,i){e.style.width=Math.round(this.options.maxWidth*i)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),i=e/t;return t*(i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),$t=Gt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(e){d(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),Bt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});Kt.mergeOptions({attributionControl:!0}),Kt.addInitHook((function(){this.options.attributionControl&&(new $t).addTo(this)}));Gt.Layers=Yt,Gt.Zoom=Jt,Gt.Scale=Xt,Gt.Attribution=$t,Qt.layers=function(e,t,i){return new Yt(e,t,i)},Qt.zoom=function(e){return new Jt(e)},Qt.scale=function(e){return new Xt(e)},Qt.attribution=function(e){return new $t(e)};var ei=S.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ei.addTo=function(e,t){return e.addHandler(t,this),this};var ti={Events:E},ii=Oe.touch?"touchstart mousedown":"mousedown",ni=z.extend({options:{clickTolerance:3},initialize:function(e,t,i,n){d(this,n),this._element=e,this._dragStartTarget=t||e,this._preventOutline=i},enable:function(){this._enabled||(Et(this._dragStartTarget,ii,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ni._dragging===this&&this.finishDrag(!0),Pt(this._dragStartTarget,ii,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ht(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)ni._dragging===this&&this.finishDrag();else if(!(ni._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(ni._dragging=this,this._preventOutline&&kt(this._element),bt(),Qe(),this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,i=Tt(this._element);this._startPoint=new P(t.clientX,t.clientY),this._startPos=_t(this._element),this._parentScale=Ct(i);var n="mousedown"===e.type;Et(document,n?"mousemove":"touchmove",this._onMove,this),Et(document,n?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,i=new P(t.clientX,t.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,jt(e),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),vt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){dt(document.body,"leaflet-dragging"),this._lastTarget&&(dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pt(document,"mousemove touchmove",this._onMove,this),Pt(document,"mouseup touchend touchcancel",this._onUp,this),wt(),Ye();var t=this._moved&&this._moving;this._moving=!1,ni._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function ri(e,t,i){var n,r,o,s,a,l,c,h,u,d=[1,4,2,8];for(r=0,c=e.length;r<c;r++)e[r]._code=gi(e[r],t);for(s=0;s<4;s++){for(h=d[s],n=[],r=0,o=(c=e.length)-1;r<c;o=r++)a=e[r],l=e[o],a._code&h?l._code&h||((u=pi(l,a,h,t,i))._code=gi(u,t),n.push(u)):(l._code&h&&((u=pi(l,a,h,t,i))._code=gi(u,t),n.push(u)),n.push(a));e=n}return e}function oi(e,t){var i,n,r,o,s,a,l,c,h;if(!e||0===e.length)throw new Error("latlngs not passed");yi(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=N([0,0]),d=B(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=si(e));var p=e.length,g=[];for(i=0;i<p;i++){var m=N(e[i]);g.push(t.project(N([m.lat-u.lat,m.lng-u.lng])))}for(a=l=c=0,i=0,n=p-1;i<p;n=i++)r=g[i],o=g[n],s=r.y*o.x-o.y*r.x,l+=(r.x+o.x)*s,c+=(r.y+o.y)*s,a+=3*s;h=0===a?g[0]:[l/a,c/a];var f=t.unproject(I(h));return N([f.lat+u.lat,f.lng+u.lng])}function si(e){for(var t=0,i=0,n=0,r=0;r<e.length;r++){var o=N(e[r]);t+=o.lat,i+=o.lng,n++}return N([t/n,i/n])}var ai,li={__proto__:null,clipPolygon:ri,polygonCenter:oi,centroid:si};function ci(e,t){if(!t||!e.length)return e.slice();var i=t*t;return function(e,t){var i=e.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,ui(e,n,t,0,i-1);var r,o=[];for(r=0;r<i;r++)n[r]&&o.push(e[r]);return o}(e=function(e,t){for(var i=[e[0]],n=1,r=0,o=e.length;n<o;n++)mi(e[n],e[r])>t&&(i.push(e[n]),r=n);return r<o-1&&i.push(e[o-1]),i}(e,i),i)}function hi(e,t,i){return Math.sqrt(fi(e,t,i,!0))}function ui(e,t,i,n,r){var o,s,a,l=0;for(s=n+1;s<=r-1;s++)(a=fi(e[s],e[n],e[r],!0))>l&&(o=s,l=a);l>i&&(t[o]=1,ui(e,t,i,n,o),ui(e,t,i,o,r))}function di(e,t,i,n,r){var o,s,a,l=n?ai:gi(e,i),c=gi(t,i);for(ai=c;;){if(!(l|c))return[e,t];if(l&c)return!1;a=gi(s=pi(e,t,o=l||c,i,r),i),o===l?(e=s,l=a):(t=s,c=a)}}function pi(e,t,i,n,r){var o,s,a=t.x-e.x,l=t.y-e.y,c=n.min,h=n.max;return 8&i?(o=e.x+a*(h.y-e.y)/l,s=h.y):4&i?(o=e.x+a*(c.y-e.y)/l,s=c.y):2&i?(o=h.x,s=e.y+l*(h.x-e.x)/a):1&i&&(o=c.x,s=e.y+l*(c.x-e.x)/a),new P(o,s,r)}function gi(e,t){var i=0;return e.x<t.min.x?i|=1:e.x>t.max.x&&(i|=2),e.y<t.min.y?i|=4:e.y>t.max.y&&(i|=8),i}function mi(e,t){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}function fi(e,t,i,n){var r,o=t.x,s=t.y,a=i.x-o,l=i.y-s,c=a*a+l*l;return c>0&&((r=((e.x-o)*a+(e.y-s)*l)/c)>1?(o=i.x,s=i.y):r>0&&(o+=a*r,s+=l*r)),a=e.x-o,l=e.y-s,n?a*a+l*l:new P(o,s)}function yi(e){return!f(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function vi(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yi(e)}function _i(e,t){var i,n,r,o,s,a,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");yi(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var h=N([0,0]),u=B(e);u.getNorthWest().distanceTo(u.getSouthWest())*u.getNorthEast().distanceTo(u.getNorthWest())<1700&&(h=si(e));var d=e.length,p=[];for(i=0;i<d;i++){var g=N(e[i]);p.push(t.project(N([g.lat-h.lat,g.lng-h.lng])))}for(i=0,n=0;i<d-1;i++)n+=p[i].distanceTo(p[i+1])/2;if(0===n)c=p[0];else for(i=0,o=0;i<d-1;i++)if(s=p[i],a=p[i+1],(o+=r=s.distanceTo(a))>n){l=(o-n)/r,c=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}var m=t.unproject(I(c));return N([m.lat+h.lat,m.lng+h.lng])}var xi={__proto__:null,simplify:ci,pointToSegmentDistance:hi,closestPointOnSegment:function(e,t,i){return fi(e,t,i)},clipSegment:di,_getEdgeIntersection:pi,_getBitCode:gi,_sqClosestPointOnSegment:fi,isFlat:yi,_flat:vi,polylineCenter:_i},bi={project:function(e){return new P(e.lng,e.lat)},unproject:function(e){return new j(e.y,e.x)},bounds:new O([-180,-90],[180,90])},wi={R:6378137,R_MINOR:6356752.314245179,bounds:new O([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,i=this.R,n=e.lat*t,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=o*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),o/2);return n=-i*Math.log(Math.max(a,1e-10)),new P(e.lng*t*i,n)},unproject:function(e){for(var t,i=180/Math.PI,n=this.R,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=Math.exp(-e.y/n),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(a),t=Math.pow((1-t)/(1+t),o/2),a+=c=Math.PI/2-2*Math.atan(s*t)-a;return new j(a*i,e.x*i/n)}},ki={__proto__:null,LonLat:bi,Mercator:wi,SphericalMercator:V},Ai=t({},q,{code:"EPSG:3395",projection:wi,transformation:function(){var e=.5/(Math.PI*wi.R);return W(e,.5,-e,.5)}()}),Ti=t({},q,{code:"EPSG:4326",projection:bi,transformation:W(1/180,1,-1/180,.5)}),Ci=t({},Z,{projection:bi,transformation:W(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var i=t.lng-e.lng,n=t.lat-e.lat;return Math.sqrt(i*i+n*n)},infinite:!0});Z.Earth=q,Z.EPSG3395=Ai,Z.EPSG3857=K,Z.EPSG900913=G,Z.EPSG4326=Ti,Z.Simple=Ci;var Si=z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var i=this.getEvents();t.on(i,this),this.once("remove",(function(){t.off(i,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});Kt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=o(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},_addLayers:function(e){for(var t=0,i=(e=e?f(e)?e:[e]:[]).length;t<i;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var r=this._zoomBoundLayers[n].options;e=void 0===r.minZoom?e:Math.min(e,r.minZoom),t=void 0===r.maxZoom?t:Math.max(t,r.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ei=Si.extend({initialize:function(e,t){var i,n;if(d(this,t),this._layers={},e)for(i=0,n=e.length;i<n;i++)this.addLayer(e[i])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,i,n=Array.prototype.slice.call(arguments,1);for(t in this._layers)(i=this._layers[t])[e]&&i[e].apply(i,n);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return o(e)}}),zi=Ei.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Ei.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Ei.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new R;for(var t in this._layers){var i=this._layers[t];e.extend(i.getBounds?i.getBounds():i.getLatLng())}return e}}),Pi=S.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){d(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var i=this._getIconUrl(e);if(!i){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(n,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n},_setIconStyles:function(e,t){var i=this.options,n=i[t+"Size"];"number"==typeof n&&(n=[n,n]);var r=I(n),o=I("shadow"===t&&i.shadowAnchor||i.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(i.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Oe.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});var Mi=Pi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!=typeof Mi.imagePath&&(Mi.imagePath=this._detectIconPath()),(this.options.imagePath||Mi.imagePath)+Pi.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,i){var n=t.exec(e);return n&&n[i]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ot("div","leaflet-default-icon-path",document.body),t=rt(e,"background-image")||rt(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),Li=ei.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ni(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,i=t._map,n=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=_t(t._icon),s=i.getPixelBounds(),a=i.getPixelOrigin(),l=D(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!l.contains(o)){var c=I((Math.max(l.max.x,o.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(n);i.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),vt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=A(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=A(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,i=t._shadow,n=_t(t._icon),r=t._map.layerPointToLatLng(n);i&&vt(i,n),t._latlng=r,e.latlng=r,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Ii=Si.extend({options:{icon:new Mi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){d(this,t),this._latlng=N(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=N(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=e.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,e.title&&(i.title=e.title),"IMG"===i.tagName&&(i.alt=e.alt||"")),ut(i,t),e.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Et(i,"focus",this._panOnFocus,this);var r=e.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(ut(r,t),r.alt=""),this._shadow=r,e.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(this._icon,"focus",this._panOnFocus,this),st(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&st(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&vt(this._icon,e),this._shadow&&vt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Li)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Li(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&mt(this._icon,e),this._shadow&&mt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,i=t.iconSize?I(t.iconSize):I(0,0),n=t.iconAnchor?I(t.iconAnchor):I(0,0);e.panInside(this._latlng,{paddingTopLeft:n,paddingBottomRight:i.subtract(n)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Oi=Si.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return d(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Di=Oi.extend({options:{fill:!0,radius:10},initialize:function(e,t){d(this,t),this._latlng=N(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=N(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Oi.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,i=this._clickTolerance(),n=[e+i,t+i];this._pxBounds=new O(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Ri=Di.extend({initialize:function(e,i,n){if("number"==typeof i&&(i=t({},n,{radius:i})),d(this,i),this._latlng=N(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new R(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Oi.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===q.distance){var r=Math.PI/180,o=this._mRadius/q.R/r,s=i.project([t+o,e]),a=i.project([t-o,e]),l=s.add(a).divideBy(2),c=i.unproject(l).lat,h=Math.acos((Math.cos(o*r)-Math.sin(t*r)*Math.sin(c*r))/(Math.cos(t*r)*Math.cos(c*r)))/r;(isNaN(h)||0===h)&&(h=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(h)?0:l.x-i.project([c,e-h]).x,this._radiusY=l.y-s.y}else{var u=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(u).x}this._updateBounds()}});var Bi=Oi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){d(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,i,n=1/0,r=null,o=fi,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,h=l.length;c<h;c++){var u=o(e,t=l[c-1],i=l[c],!0);u<n&&(n=u,r=o(e,t,i))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _i(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=N(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new R,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return yi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],i=yi(e),n=0,r=e.length;n<r;n++)i?(t[n]=N(e[n]),this._bounds.extend(t[n])):t[n]=this._convertLatLngs(e[n]);return t},_project:function(){var e=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new P(e,e);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,i){var n,r,o=e[0]instanceof j,s=e.length;if(o){for(r=[],n=0;n<s;n++)r[n]=this._map.latLngToLayerPoint(e[n]),i.extend(r[n]);t.push(r)}else for(n=0;n<s;n++)this._projectLatlngs(e[n],t,i)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,i,n,r,o,s,a,l=this._parts;for(t=0,n=0,r=this._rings.length;t<r;t++)for(i=0,o=(a=this._rings[t]).length;i<o-1;i++)(s=di(a[i],a[i+1],e,i,!0))&&(l[n]=l[n]||[],l[n].push(s[0]),s[1]===a[i+1]&&i!==o-2||(l[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,i=0,n=e.length;i<n;i++)e[i]=ci(e[i],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var i,n,r,o,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,o=this._parts.length;i<o;i++)for(n=0,r=(s=(a=this._parts[i]).length)-1;n<s;r=n++)if((t||0!==n)&&hi(e,a[r],a[n])<=l)return!0;return!1}});Bi._flat=vi;var ji=Bi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return oi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=Bi.prototype._convertLatLngs.call(this,e),i=t.length;return i>=2&&t[0]instanceof j&&t[0].equals(t[i-1])&&t.pop(),t},_setLatLngs:function(e){Bi.prototype._setLatLngs.call(this,e),yi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,i=new P(t,t);if(e=new O(e.min.subtract(i),e.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var n,r=0,o=this._rings.length;r<o;r++)(n=ri(this._rings[r],e,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,i,n,r,o,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,a=this._parts.length;r<a;r++)for(o=0,s=(l=(t=this._parts[r]).length)-1;o<l;s=o++)i=t[o],n=t[s],i.y>e.y!=n.y>e.y&&e.x<(n.x-i.x)*(e.y-i.y)/(n.y-i.y)+i.x&&(c=!c);return c||Bi.prototype._containsPoint.call(this,e,!0)}});var Ni=zi.extend({initialize:function(e,t){d(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,i,n,r=f(e)?e:e.features;if(r){for(t=0,i=r.length;t<i;t++)((n=r[t]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var s=Fi(e,o);return s?(s.feature=Ki(e),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(e,s),this.addLayer(s)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}});function Fi(e,t){var i,n,r,o,s="Feature"===e.type?e.geometry:e,a=s?s.coordinates:null,l=[],c=t&&t.pointToLayer,h=t&&t.coordsToLatLng||qi;if(!a&&!s)return null;switch(s.type){case"Point":return Zi(c,e,i=h(a),t);case"MultiPoint":for(r=0,o=a.length;r<o;r++)i=h(a[r]),l.push(Zi(c,e,i,t));return new zi(l);case"LineString":case"MultiLineString":return n=Ui(a,"LineString"===s.type?0:1,h),new Bi(n,t);case"Polygon":case"MultiPolygon":return n=Ui(a,"Polygon"===s.type?1:2,h),new ji(n,t);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var u=Fi({geometry:s.geometries[r],type:"Feature",properties:e.properties},t);u&&l.push(u)}return new zi(l);case"FeatureCollection":for(r=0,o=s.features.length;r<o;r++){var d=Fi(s.features[r],t);d&&l.push(d)}return new zi(l);default:throw new Error("Invalid GeoJSON object.")}}function Zi(e,t,i,n){return e?e(t,i):new Ii(i,n&&n.markersInheritOptions&&n)}function qi(e){return new j(e[1],e[0],e[2])}function Ui(e,t,i){for(var n,r=[],o=0,s=e.length;o<s;o++)n=t?Ui(e[o],t-1,i):(i||qi)(e[o]),r.push(n);return r}function Vi(e,t){return void 0!==(e=N(e)).alt?[c(e.lng,t),c(e.lat,t),c(e.alt,t)]:[c(e.lng,t),c(e.lat,t)]}function Hi(e,t,i,n){for(var r=[],o=0,s=e.length;o<s;o++)r.push(t?Hi(e[o],yi(e[o])?0:t-1,i,n):Vi(e[o],n));return!t&&i&&r.length>0&&r.push(r[0].slice()),r}function Wi(e,i){return e.feature?t({},e.feature,{geometry:i}):Ki(i)}function Ki(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Gi={toGeoJSON:function(e){return Wi(this,{type:"Point",coordinates:Vi(this.getLatLng(),e)})}};function Qi(e,t){return new Ni(e,t)}Ii.include(Gi),Ri.include(Gi),Di.include(Gi),Bi.include({toGeoJSON:function(e){var t=!yi(this._latlngs);return Wi(this,{type:(t?"Multi":"")+"LineString",coordinates:Hi(this._latlngs,t?1:0,!1,e)})}}),ji.include({toGeoJSON:function(e){var t=!yi(this._latlngs),i=t&&!yi(this._latlngs[0]),n=Hi(this._latlngs,i?2:t?1:0,!0,e);return t||(n=[n]),Wi(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),Ei.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(i){t.push(i.toGeoJSON(e).geometry.coordinates)})),Wi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var i="GeometryCollection"===t,n=[];return this.eachLayer((function(t){if(t.toGeoJSON){var r=t.toGeoJSON(e);if(i)n.push(r.geometry);else{var o=Ki(r);"FeatureCollection"===o.type?n.push.apply(n,o.features):n.push(o)}}})),i?Wi(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Yi=Qi,Ji=Si.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,i){this._url=e,this._bounds=B(t),d(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){st(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&lt(this._image),this},bringToBack:function(){return this._map&&ct(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=B(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ot("img");ut(t,"leaflet-image-layer"),this._zoomAnimated&&ut(t,"leaflet-zoom-animated"),this.options.className&&ut(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=n(this.fire,this,"load"),t.onerror=n(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;yt(this._image,i,t)},_reset:function(){var e=this._image,t=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=t.getSize();vt(e,t.min),e.style.width=i.x+"px",e.style.height=i.y+"px"},_updateOpacity:function(){mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Xi=Ji.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ot("video");if(ut(t,"leaflet-image-layer"),this._zoomAnimated&&ut(t,"leaflet-zoom-animated"),this.options.className&&ut(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=n(this.fire,this,"load"),e){for(var i=t.getElementsByTagName("source"),r=[],o=0;o<i.length;o++)r.push(i[o].src);this._url=i.length>0?r:[t.src]}else{f(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=ot("source");a.src=this._url[s],t.appendChild(a)}}}});var $i=Ji.extend({_initImage:function(){var e=this._image=this._url;ut(e,"leaflet-image-layer"),this._zoomAnimated&&ut(e,"leaflet-zoom-animated"),this.options.className&&ut(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});var en=Si.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof j||f(e))?(this._latlng=N(e),d(this,t)):(d(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&mt(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(mt(this._container,0),this._removeTimeout=setTimeout(n(st,void 0,this._container),200)):st(this._container),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=N(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&lt(this._container),this},bringToBack:function(){return this._map&&ct(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof zi){t=null;var i=this._source._layers;for(var n in i)if(i[n]._map){t=i[n];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=I(this.options.offset),i=this._getAnchor();this._zoomAnimated?vt(this._container,e.add(i)):t=t.add(e).add(i);var n=this._containerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=n+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});Kt.include({_initOverlay:function(e,t,i,n){var r=t;return r instanceof e||(r=new e(n).setContent(t)),i&&r.setLatLng(i),r}}),Si.include({_initOverlay:function(e,t,i,n){var r=i;return r instanceof e?(d(r,n),r._source=this):(r=t&&!n?t:new e(n,this)).setContent(i),r}});var tn=en.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,en.prototype.openOn.call(this,e)},onAdd:function(e){en.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Oi||this._source.on("preclick",Dt))},onRemove:function(e){en.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Oi||this._source.off("preclick",Dt))},getEvents:function(){var e=en.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=ot("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=ot("div",e+"-content-wrapper",t);if(this._contentNode=ot("div",e+"-content",i),Bt(t),Rt(this._contentNode),Et(t,"contextmenu",Dt),this._tipContainer=ot("div",e+"-tip-container",t),this._tip=ot("div",e+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=ot("a",e+"-close-button",t);n.setAttribute("role","button"),n.setAttribute("aria-label","Close popup"),n.href="#close",n.innerHTML='<span aria-hidden="true">&#215;</span>',Et(n,"click",(function(e){jt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var i=e.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),t.width=i+1+"px",t.whiteSpace="",t.height="";var n=e.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";r&&n>r?(t.height=r+"px",ut(e,o)):dt(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),i=this._getAnchor();vt(this._container,t.add(i))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(rt(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+t,n=this._containerWidth,r=new P(this._containerLeft,-i-this._containerBottom);r._add(_t(this._container));var o=e.layerPointToContainerPoint(r),s=I(this.options.autoPanPadding),a=I(this.options.autoPanPaddingTopLeft||s),l=I(this.options.autoPanPaddingBottomRight||s),c=e.getSize(),h=0,u=0;o.x+n+l.x>c.x&&(h=o.x+n-c.x+l.x),o.x-h-a.x<0&&(h=o.x-a.x),o.y+i+l.y>c.y&&(u=o.y+i-c.y+l.y),o.y-u-a.y<0&&(u=o.y-a.y),(h||u)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([h,u]))}},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Kt.mergeOptions({closePopupOnClick:!0}),Kt.include({openPopup:function(e,t,i){return this._initOverlay(tn,e,t,i).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Si.include({bindPopup:function(e,t){return this._popup=this._initOverlay(tn,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof zi||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Nt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof Oi?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var nn=en.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){en.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){en.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=en.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,i,n=this._map,r=this._container,o=n.latLngToContainerPoint(n.getCenter()),s=n.layerPointToContainerPoint(e),a=this.options.direction,l=r.offsetWidth,c=r.offsetHeight,h=I(this.options.offset),u=this._getAnchor();"top"===a?(t=l/2,i=c):"bottom"===a?(t=l/2,i=0):"center"===a?(t=l/2,i=c/2):"right"===a?(t=0,i=c/2):"left"===a?(t=l,i=c/2):s.x<o.x?(a="right",t=0,i=c/2):(a="left",t=l+2*(h.x+u.x),i=c/2),e=e.subtract(I(t,i,!0)).add(h).add(u),dt(r,"leaflet-tooltip-right"),dt(r,"leaflet-tooltip-left"),dt(r,"leaflet-tooltip-top"),dt(r,"leaflet-tooltip-bottom"),ut(r,"leaflet-tooltip-"+a),vt(r,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&mt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Kt.include({openTooltip:function(e,t,i){return this._initOverlay(nn,e,t,i).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Si.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(nn,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[t](i),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof zi||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&(Et(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Et(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,i,n=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),i=this._map.containerPointToLayerPoint(t),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var rn=Pi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),i=this.options;if(i.html instanceof Element?(at(t),t.appendChild(i.html)):t.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=I(i.bgPos);t.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Pi.Default=Mi;var on=Si.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){d(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),st(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(lt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ct(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof P?e:new P(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,i=this.getPane().children,n=-e(-1/0,1/0),r=0,o=i.length;r<o;r++)t=i[r].style.zIndex,i[r]!==this._container&&t&&(n=e(n,+t));isFinite(n)&&(this.options.zIndex=n+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){mt(this._container,this.options.opacity);var e=+new Date,t=!1,i=!1;for(var n in this._tiles){var r=this._tiles[n];if(r.current&&r.loaded){var o=Math.min(1,(e-r.loaded)/200);mt(r.el,o),o<1?t=!0:(r.active?i=!0:this._onOpaqueTile(r),r.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),t&&(T(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===e?(this._levels[i].el.style.zIndex=t-Math.abs(e-i),this._onUpdateLevel(i)):(st(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[e],r=this._map;return n||((n=this._levels[e]={}).el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=t,n.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),n.zoom=e,this._setZoomTransform(n,r.getCenter(),r.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var n=t.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)st(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,i,n){var r=Math.floor(e/2),o=Math.floor(t/2),s=i-1,a=new P(+r,+o);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>n&&this._retainParent(r,o,s,n))},_retainChildren:function(e,t,i,n){for(var r=2*e;r<2*e+2;r++)for(var o=2*t;o<2*t+2;o++){var s=new P(r,o);s.z=i+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(r,o,i+1,n))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,i,n){var r=Math.round(t);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var o=this.options.updateWhenZooming&&r!==this._tileZoom;n&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(e),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var i in this._levels)this._setZoomTransform(this._levels[i],e,t)},_setZoomTransform:function(e,t,i){var n=this._map.getZoomScale(i,e.zoom),r=e.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(t,i)).round();Oe.any3d?yt(e.el,r,n):vt(e.el,r)},_resetGrid:function(){var e=this._map,t=e.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],n).x/i.x),Math.ceil(e.project([0,t.wrapLng[1]],n).x/i.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],n).y/i.x),Math.ceil(e.project([t.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,i=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),n=t.getZoomScale(i,this._tileZoom),r=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*n);return new O(r.subtract(o),r.add(o))},_update:function(e){var t=this._map;if(t){var i=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(n),o=r.getCenter(),s=[],a=this.options.keepBuffer,l=new O(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var h=this._tiles[c].coords;h.z===this._tileZoom&&l.contains(new P(h.x,h.y))||(this._tiles[c].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(e,i);else{for(var u=r.min.y;u<=r.max.y;u++)for(var d=r.min.x;d<=r.max.x;d++){var p=new P(d,u);if(p.z=this._tileZoom,this._isValidTile(p)){var g=this._tiles[this._tileCoordsToKey(p)];g?g.current=!0:s.push(p)}}if(s.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var i=this._globalTileRange;if(!t.wrapLng&&(e.x<i.min.x||e.x>i.max.x)||!t.wrapLat&&(e.y<i.min.y||e.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(e);return B(this.options.bounds).overlaps(n)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,i=this.getTileSize(),n=e.scaleBy(i),r=n.add(i);return[t.unproject(n,e.z),t.unproject(r,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),i=new R(t[0],t[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),i=new P(+t[0],+t[1]);return i.z=+t[2],i},_removeTile:function(e){var t=this._tiles[e];t&&(st(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ut(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=l,e.onmousemove=l,Oe.ielt9&&this.options.opacity<1&&mt(e,this.options.opacity)},_addTile:function(e,t){var i=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),n(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&A(n(this._tileReady,this,e,null,o)),vt(o,i),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,i){t&&this.fire("tileerror",{error:t,tile:i,coords:e});var r=this._tileCoordsToKey(e);(i=this._tiles[r])&&(i.loaded=+new Date,this._map._fadeAnimated?(mt(i.el,0),T(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),t||(ut(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?A(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new P(this._wrapX?a(e.x,this._wrapX):e.x,this._wrapY?a(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new O(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});var sn=on.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=d(this,t)).detectRetina&&Oe.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var i=document.createElement("img");return Et(i,"load",n(this._tileOnLoad,this,t,i)),Et(i,"error",n(this._tileOnError,this,t,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(e),i},getTileUrl:function(e){var i={r:Oe.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(i.y=n),i["-y"]=n}return m(this._url,t(i,this.options))},_tileOnLoad:function(e,t){Oe.ielt9?setTimeout(n(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,i){var n=this.options.errorTileUrl;n&&t.getAttribute("src")!==n&&(t.src=n),e(i,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=l,t.onerror=l,!t.complete)){t.src=v;var i=this._tiles[e].coords;st(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:i})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",v),on.prototype._removeTile.call(this,e)},_tileReady:function(e,t,i){if(this._map&&(!i||i.getAttribute("src")!==v))return on.prototype._tileReady.call(this,e,t,i)}});function an(e,t){return new sn(e,t)}var ln=sn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,i){this._url=e;var n=t({},this.defaultWmsParams);for(var r in i)r in this.options||(n[r]=i[r]);var o=(i=d(this,i)).detectRetina&&Oe.retina?2:1,s=this.getTileSize();n.width=s.x*o,n.height=s.y*o,this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,sn.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),i=this._crs,n=D(i.project(t[0]),i.project(t[1])),r=n.min,o=n.max,s=(this._wmsVersion>=1.3&&this._crs===Ti?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=sn.prototype.getTileUrl.call(this,e);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,i){return t(this.wmsParams,e),i||this.redraw(),this}});sn.WMS=ln,an.wms=function(e,t){return new ln(e,t)};var cn=Si.extend({options:{padding:.1},initialize:function(e){d(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var i=this._map.getZoomScale(t,this._zoom),n=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,t),o=n.multiplyBy(-i).add(r).subtract(this._map._getNewPixelOrigin(e,t));Oe.any3d?yt(this._container,o,i):vt(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),i=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new O(i,i.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),hn=cn.extend({options:{tolerance:0},getEvents:function(){var e=cn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){cn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Et(e,"mousemove",this._onMouseMove,this),Et(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Et(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,st(this._container),Pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){cn.prototype._update.call(this);var e=this._bounds,t=this._container,i=e.getSize(),n=Oe.retina?2:1;vt(t,e.min),t.width=n*i.x,t.height=n*i.y,t.style.width=i.x+"px",t.style.height=i.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){cn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,i=t.next,n=t.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,i,n=e.options.dashArray.split(/[, ]+/),r=[];for(i=0;i<n.length;i++){if(t=Number(n[i]),isNaN(t))return;r.push(t)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||A(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var i=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)e=n.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var i,n,r,o,s=e._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),i=0;i<a;i++){for(n=0,r=s[i].length;n<r;n++)o=s[i][n],l[n?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,i=this._ctx,n=Math.max(Math.round(e._radius),1),r=(Math.max(Math.round(e._radiusY),1)||n)/n;1!==r&&(i.save(),i.scale(1,r)),i.beginPath(),i.arc(t.x,t.y/r,n,0,2*Math.PI,!1),1!==r&&i.restore(),this._fillStroke(i,e)}},_fillStroke:function(e,t){var i=t.options;i.fill&&(e.globalAlpha=i.fillOpacity,e.fillStyle=i.fillColor||i.color,e.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=i.opacity,e.lineWidth=i.weight,e.strokeStyle=i.color,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.stroke())},_onClick:function(e){for(var t,i,n=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next)(t=r.layer).options.interactive&&t._containsPoint(n)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(i=t);this._fireEvent(!!i&&[i],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(dt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var i,r,o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(t)&&(r=i);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(ut(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(n((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,i){this._map._fireDOMEvent(t,i||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var i=t.next,n=t.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var i=t.next,n=t.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function un(e){return Oe.canvas?new hn(e):null}var dn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),pn={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(cn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=dn("shape");ut(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=dn("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;st(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,i=e._fill,n=e.options,r=e._container;r.stroked=!!n.stroke,r.filled=!!n.fill,n.stroke?(t||(t=e._stroke=dn("stroke")),r.appendChild(t),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=f(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=n.lineCap.replace("butt","flat"),t.joinstyle=n.lineJoin):t&&(r.removeChild(t),e._stroke=null),n.fill?(i||(i=e._fill=dn("fill")),r.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(r.removeChild(i),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),i=Math.round(e._radius),n=Math.round(e._radiusY||i);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+i+","+n+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){lt(e._container)},_bringToBack:function(e){ct(e._container)}},gn=Oe.vml?dn:Q,mn=cn.extend({_initContainer:function(){this._container=gn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=gn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){st(this._container),Pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){cn.prototype._update.call(this);var e=this._bounds,t=e.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,i.setAttribute("width",t.x),i.setAttribute("height",t.y)),vt(i,e.min),i.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=gn("path");e.options.className&&ut(t,e.options.className),e.options.interactive&&ut(t,"leaflet-interactive"),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){st(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,i=e.options;t&&(i.stroke?(t.setAttribute("stroke",i.color),t.setAttribute("stroke-opacity",i.opacity),t.setAttribute("stroke-width",i.weight),t.setAttribute("stroke-linecap",i.lineCap),t.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?t.setAttribute("stroke-dasharray",i.dashArray):t.removeAttribute("stroke-dasharray"),i.dashOffset?t.setAttribute("stroke-dashoffset",i.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),i.fill?(t.setAttribute("fill",i.fillColor||i.color),t.setAttribute("fill-opacity",i.fillOpacity),t.setAttribute("fill-rule",i.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,i=Math.max(Math.round(e._radius),1),n="a"+i+","+(Math.max(Math.round(e._radiusY),1)||i)+" 0 1,0 ",r=e._empty()?"M0 0":"M"+(t.x-i)+","+t.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(e,r)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){lt(e._path)},_bringToBack:function(e){ct(e._path)}});function fn(e){return Oe.svg||Oe.vml?new mn(e):null}Oe.vml&&mn.include(pn),Kt.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&un(e)||fn(e)}});var yn=ji.extend({initialize:function(e,t){ji.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=B(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});mn.create=gn,mn.pointsToPath=Y,Ni.geometryToLayer=Fi,Ni.coordsToLatLng=qi,Ni.coordsToLatLngs=Ui,Ni.latLngToCoords=Vi,Ni.latLngsToCoords=Hi,Ni.getFeature=Wi,Ni.asFeature=Ki,Kt.mergeOptions({boxZoom:!0});var vn=ei.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){st(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Qe(),bt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Et(document,{contextmenu:Nt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new O(this._point,this._startPoint),i=t.getSize();vt(this._box,t.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(st(this._box),dt(this._container,"leaflet-crosshair")),Ye(),wt(),Pt(document,{contextmenu:Nt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var t=new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Kt.addInitHook("addHandler","boxZoom",vn),Kt.mergeOptions({doubleClickZoom:!0});var _n=ei.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,i=t.getZoom(),n=t.options.zoomDelta,r=e.originalEvent.shiftKey?i-n:i+n;"center"===t.options.doubleClickZoom?t.setZoom(r):t.setZoomAround(e.containerPoint,r)}});Kt.addInitHook("addHandler","doubleClickZoom",_n),Kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xn=ei.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ni(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dt(this._map._container,"leaflet-grab"),dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=B(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,r=(n-t+i)%e+t-i,o=(n+t+i)%e-t-i,s=Math.abs(r+i)<Math.abs(o+i)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(e){var t=this._map,i=t.options,n=!i.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),n)t.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,a=r.multiplyBy(s/o),l=a.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,l),h=a.multiplyBy(c/l),u=c/(i.inertiaDeceleration*s),d=h.multiplyBy(-u/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),A((function(){t.panBy(d,{duration:u,easeLinearity:s,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});Kt.addInitHook("addHandler","dragging",xn),Kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bn=ei.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Et(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,i=e.scrollTop||t.scrollTop,n=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,i,n=this._panKeys={},r=this.keyCodes;for(t=0,i=r.left.length;t<i;t++)n[r.left[t]]=[-1*e,0];for(t=0,i=r.right.length;t<i;t++)n[r.right[t]]=[e,0];for(t=0,i=r.down.length;t<i;t++)n[r.down[t]]=[0,e];for(t=0,i=r.up.length;t<i;t++)n[r.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,i,n=this._zoomKeys={},r=this.keyCodes;for(t=0,i=r.zoomIn.length;t<i;t++)n[r.zoomIn[t]]=e;for(t=0,i=r.zoomOut.length;t<i;t++)n[r.zoomOut[t]]=-e},_addHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,i=e.keyCode,n=this._map;if(i in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(t=this._panKeys[i],e.shiftKey&&(t=I(t).multiplyBy(3)),n.options.maxBounds&&(t=n._limitOffset(I(t),n.options.maxBounds)),n.options.worldCopyJump){var r=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(t)));n.panTo(r)}else n.panBy(t)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}Nt(e)}}});Kt.addInitHook("addHandler","keyboard",bn),Kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wn=ei.extend({addHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Ut(e),i=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),r),Nt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),i=this._map.options.zoomSnap||0;e._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,o=i?Math.ceil(r/i)*i:r,s=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,s&&("center"===e.options.scrollWheelZoom?e.setZoom(t+s):e.setZoomAround(this._lastMousePos,t+s))}});Kt.addInitHook("addHandler","scrollWheelZoom",wn);Kt.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var kn=ei.extend({addHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new P(t.clientX,t.clientY),this._holdTimeout=setTimeout(n((function(){this._cancel(),this._isTapValid()&&(Et(document,"touchend",jt),Et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),600),Et(document,"touchend touchcancel contextmenu",this._cancel,this),Et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Pt(document,"touchend",jt),Pt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new P(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var i=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});i._simulated=!0,t.target.dispatchEvent(i)}});Kt.addInitHook("addHandler","tapHold",kn),Kt.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var An=ei.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var i=t.mouseEventToContainerPoint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend touchcancel",this._onTouchEnd,this),jt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,i=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=i.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=i._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var a=n(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=A(a,this,!0),jt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Kt.addInitHook("addHandler","touchZoom",An),Kt.BoxZoom=vn,Kt.DoubleClickZoom=_n,Kt.Drag=xn,Kt.Keyboard=bn,Kt.ScrollWheelZoom=wn,Kt.TapHold=kn,Kt.TouchZoom=An,e.Bounds=O,e.Browser=Oe,e.CRS=Z,e.Canvas=hn,e.Circle=Ri,e.CircleMarker=Di,e.Class=S,e.Control=Gt,e.DivIcon=rn,e.DivOverlay=en,e.DomEvent=Ht,e.DomUtil=St,e.Draggable=ni,e.Evented=z,e.FeatureGroup=zi,e.GeoJSON=Ni,e.GridLayer=on,e.Handler=ei,e.Icon=Pi,e.ImageOverlay=Ji,e.LatLng=j,e.LatLngBounds=R,e.Layer=Si,e.LayerGroup=Ei,e.LineUtil=xi,e.Map=Kt,e.Marker=Ii,e.Mixin=ti,e.Path=Oi,e.Point=P,e.PolyUtil=li,e.Polygon=ji,e.Polyline=Bi,e.Popup=tn,e.PosAnimation=Wt,e.Projection=ki,e.Rectangle=yn,e.Renderer=cn,e.SVG=mn,e.SVGOverlay=$i,e.TileLayer=sn,e.Tooltip=nn,e.Transformation=H,e.Util=C,e.VideoOverlay=Xi,e.bind=n,e.bounds=D,e.canvas=un,e.circle=function(e,t,i){return new Ri(e,t,i)},e.circleMarker=function(e,t){return new Di(e,t)},e.control=Qt,e.divIcon=function(e){return new rn(e)},e.extend=t,e.featureGroup=function(e,t){return new zi(e,t)},e.geoJSON=Qi,e.geoJson=Yi,e.gridLayer=function(e){return new on(e)},e.icon=function(e){return new Pi(e)},e.imageOverlay=function(e,t,i){return new Ji(e,t,i)},e.latLng=N,e.latLngBounds=B,e.layerGroup=function(e,t){return new Ei(e,t)},e.map=function(e,t){return new Kt(e,t)},e.marker=function(e,t){return new Ii(e,t)},e.point=I,e.polygon=function(e,t){return new ji(e,t)},e.polyline=function(e,t){return new Bi(e,t)},e.popup=function(e,t){return new tn(e,t)},e.rectangle=function(e,t){return new yn(e,t)},e.setOptions=d,e.stamp=o,e.svg=fn,e.svgOverlay=function(e,t,i){return new $i(e,t,i)},e.tileLayer=an,e.tooltip=function(e,t){return new nn(e,t)},e.transformation=W,e.version="1.9.4",e.videoOverlay=function(e,t,i){return new Xi(e,t,i)};var Tn=window.L;e.noConflict=function(){return window.L=Tn,this},window.L=e}(t)},8784:function(e,t,i){var n;e=i.nmd(e),function(){var r,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,c=128,h=1/0,u=9007199254740991,d=NaN,p=4294967295,g=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],m="[object Arguments]",f="[object Array]",y="[object Boolean]",v="[object Date]",_="[object Error]",x="[object Function]",b="[object GeneratorFunction]",w="[object Map]",k="[object Number]",A="[object Object]",T="[object Promise]",C="[object RegExp]",S="[object Set]",E="[object String]",z="[object Symbol]",P="[object WeakMap]",M="[object ArrayBuffer]",L="[object DataView]",I="[object Float32Array]",O="[object Float64Array]",D="[object Int8Array]",R="[object Int16Array]",B="[object Int32Array]",j="[object Uint8Array]",N="[object Uint8ClampedArray]",F="[object Uint16Array]",Z="[object Uint32Array]",q=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,K=RegExp(H.source),G=RegExp(W.source),Q=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(te.source),ne=/^\s+/,re=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,ue=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,fe=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,be="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Se="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ee="["+be+"]",ze="["+Se+"]",Pe="["+we+"]",Me="\\d+",Le="["+ke+"]",Ie="["+Ae+"]",Oe="[^"+be+Se+Me+ke+Ae+Te+"]",De="\\ud83c[\\udffb-\\udfff]",Re="[^"+be+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",Ne="["+Te+"]",Fe="\\u200d",Ze="(?:"+Ie+"|"+Oe+")",qe="(?:"+Ne+"|"+Oe+")",Ue="(?:['’](?:d|ll|m|re|s|t|ve))?",Ve="(?:['’](?:D|LL|M|RE|S|T|VE))?",He="(?:"+Pe+"|"+De+")?",We="["+Ce+"]?",Ke=We+He+"(?:"+Fe+"(?:"+[Re,Be,je].join("|")+")"+We+He+")*",Ge="(?:"+[Le,Be,je].join("|")+")"+Ke,Qe="(?:"+[Re+Pe+"?",Pe,Be,je,Ee].join("|")+")",Ye=RegExp("['’]","g"),Je=RegExp(Pe,"g"),Xe=RegExp(De+"(?="+De+")|"+Qe+Ke,"g"),$e=RegExp([Ne+"?"+Ie+"+"+Ue+"(?="+[ze,Ne,"$"].join("|")+")",qe+"+"+Ve+"(?="+[ze,Ne+Ze,"$"].join("|")+")",Ne+"?"+Ze+"+"+Ue,Ne+"+"+Ve,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Ge].join("|"),"g"),et=RegExp("["+Fe+be+we+Ce+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nt=-1,rt={};rt[I]=rt[O]=rt[D]=rt[R]=rt[B]=rt[j]=rt[N]=rt[F]=rt[Z]=!0,rt[m]=rt[f]=rt[M]=rt[y]=rt[L]=rt[v]=rt[_]=rt[x]=rt[w]=rt[k]=rt[A]=rt[C]=rt[S]=rt[E]=rt[P]=!1;var ot={};ot[m]=ot[f]=ot[M]=ot[L]=ot[y]=ot[v]=ot[I]=ot[O]=ot[D]=ot[R]=ot[B]=ot[w]=ot[k]=ot[A]=ot[C]=ot[S]=ot[E]=ot[z]=ot[j]=ot[N]=ot[F]=ot[Z]=!0,ot[_]=ot[x]=ot[P]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,ct="object"==typeof global&&global&&global.Object===Object&&global,ht="object"==typeof self&&self&&self.Object===Object&&self,ut=ct||ht||Function("return this")(),dt=t&&!t.nodeType&&t,pt=dt&&e&&!e.nodeType&&e,gt=pt&&pt.exports===dt,mt=gt&&ct.process,ft=function(){try{return pt&&pt.require&&pt.require("util").types||mt&&mt.binding&&mt.binding("util")}catch(e){}}(),yt=ft&&ft.isArrayBuffer,vt=ft&&ft.isDate,_t=ft&&ft.isMap,xt=ft&&ft.isRegExp,bt=ft&&ft.isSet,wt=ft&&ft.isTypedArray;function kt(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function At(e,t,i,n){for(var r=-1,o=null==e?0:e.length;++r<o;){var s=e[r];t(n,s,i(s),e)}return n}function Tt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}function Ct(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e}function St(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function Et(e,t){for(var i=-1,n=null==e?0:e.length,r=0,o=[];++i<n;){var s=e[i];t(s,i,e)&&(o[r++]=s)}return o}function zt(e,t){return!(null==e||!e.length)&&Nt(e,t,0)>-1}function Pt(e,t,i){for(var n=-1,r=null==e?0:e.length;++n<r;)if(i(t,e[n]))return!0;return!1}function Mt(e,t){for(var i=-1,n=null==e?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}function Lt(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}function It(e,t,i,n){var r=-1,o=null==e?0:e.length;for(n&&o&&(i=e[++r]);++r<o;)i=t(i,e[r],r,e);return i}function Ot(e,t,i,n){var r=null==e?0:e.length;for(n&&r&&(i=e[--r]);r--;)i=t(i,e[r],r,e);return i}function Dt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}var Rt=Ut("length");function Bt(e,t,i){var n;return i(e,(function(e,i,r){if(t(e,i,r))return n=i,!1})),n}function jt(e,t,i,n){for(var r=e.length,o=i+(n?1:-1);n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function Nt(e,t,i){return t==t?function(e,t,i){for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}(e,t,i):jt(e,Zt,i)}function Ft(e,t,i,n){for(var r=i-1,o=e.length;++r<o;)if(n(e[r],t))return r;return-1}function Zt(e){return e!=e}function qt(e,t){var i=null==e?0:e.length;return i?Wt(e,t)/i:d}function Ut(e){return function(t){return null==t?r:t[e]}}function Vt(e){return function(t){return null==e?r:e[t]}}function Ht(e,t,i,n,r){return r(e,(function(e,r,o){i=n?(n=!1,e):t(i,e,r,o)})),i}function Wt(e,t){for(var i,n=-1,o=e.length;++n<o;){var s=t(e[n]);s!==r&&(i=i===r?s:i+s)}return i}function Kt(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function Gt(e){return e?e.slice(0,ui(e)+1).replace(ne,""):e}function Qt(e){return function(t){return e(t)}}function Yt(e,t){return Mt(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function Xt(e,t){for(var i=-1,n=e.length;++i<n&&Nt(t,e[i],0)>-1;);return i}function $t(e,t){for(var i=e.length;i--&&Nt(t,e[i],0)>-1;);return i}var ei=Vt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ti=Vt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ii(e){return"\\"+st[e]}function ni(e){return et.test(e)}function ri(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function oi(e,t){return function(i){return e(t(i))}}function si(e,t){for(var i=-1,n=e.length,r=0,o=[];++i<n;){var s=e[i];s!==t&&s!==a||(e[i]=a,o[r++]=i)}return o}function ai(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}function li(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=[e,e]})),i}function ci(e){return ni(e)?function(e){for(var t=Xe.lastIndex=0;Xe.test(e);)++t;return t}(e):Rt(e)}function hi(e){return ni(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.split("")}(e)}function ui(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var di=Vt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pi=function e(t){var i,n=(t=null==t?ut:pi.defaults(ut.Object(),t,pi.pick(ut,it))).Array,re=t.Date,be=t.Error,we=t.Function,ke=t.Math,Ae=t.Object,Te=t.RegExp,Ce=t.String,Se=t.TypeError,Ee=n.prototype,ze=we.prototype,Pe=Ae.prototype,Me=t["__core-js_shared__"],Le=ze.toString,Ie=Pe.hasOwnProperty,Oe=0,De=(i=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Re=Pe.toString,Be=Le.call(Ae),je=ut._,Ne=Te("^"+Le.call(Ie).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=gt?t.Buffer:r,Ze=t.Symbol,qe=t.Uint8Array,Ue=Fe?Fe.allocUnsafe:r,Ve=oi(Ae.getPrototypeOf,Ae),He=Ae.create,We=Pe.propertyIsEnumerable,Ke=Ee.splice,Ge=Ze?Ze.isConcatSpreadable:r,Qe=Ze?Ze.iterator:r,Xe=Ze?Ze.toStringTag:r,et=function(){try{var e=lo(Ae,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==ut.clearTimeout&&t.clearTimeout,ct=re&&re.now!==ut.Date.now&&re.now,ht=t.setTimeout!==ut.setTimeout&&t.setTimeout,dt=ke.ceil,pt=ke.floor,mt=Ae.getOwnPropertySymbols,ft=Fe?Fe.isBuffer:r,Rt=t.isFinite,Vt=Ee.join,gi=oi(Ae.keys,Ae),mi=ke.max,fi=ke.min,yi=re.now,vi=t.parseInt,_i=ke.random,xi=Ee.reverse,bi=lo(t,"DataView"),wi=lo(t,"Map"),ki=lo(t,"Promise"),Ai=lo(t,"Set"),Ti=lo(t,"WeakMap"),Ci=lo(Ae,"create"),Si=Ti&&new Ti,Ei={},zi=Bo(bi),Pi=Bo(wi),Mi=Bo(ki),Li=Bo(Ai),Ii=Bo(Ti),Oi=Ze?Ze.prototype:r,Di=Oi?Oi.valueOf:r,Ri=Oi?Oi.toString:r;function Bi(e){if(ea(e)&&!Us(e)&&!(e instanceof Zi)){if(e instanceof Fi)return e;if(Ie.call(e,"__wrapped__"))return jo(e)}return new Fi(e)}var ji=function(){function e(){}return function(t){if(!$s(t))return{};if(He)return He(t);e.prototype=t;var i=new e;return e.prototype=r,i}}();function Ni(){}function Fi(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Zi(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function qi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Ui(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Vi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Hi(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new Vi;++t<i;)this.add(e[t])}function Wi(e){var t=this.__data__=new Ui(e);this.size=t.size}function Ki(e,t){var i=Us(e),n=!i&&qs(e),r=!i&&!n&&Ks(e),o=!i&&!n&&!r&&la(e),s=i||n||r||o,a=s?Kt(e.length,Ce):[],l=a.length;for(var c in e)!t&&!Ie.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||fo(c,l))||a.push(c);return a}function Gi(e){var t=e.length;return t?e[Hn(0,t-1)]:r}function Qi(e,t){return Lo(Cr(e),on(t,0,e.length))}function Yi(e){return Lo(Cr(e))}function Ji(e,t,i){(i!==r&&!Ns(e[t],i)||i===r&&!(t in e))&&nn(e,t,i)}function Xi(e,t,i){var n=e[t];Ie.call(e,t)&&Ns(n,i)&&(i!==r||t in e)||nn(e,t,i)}function $i(e,t){for(var i=e.length;i--;)if(Ns(e[i][0],t))return i;return-1}function en(e,t,i,n){return hn(e,(function(e,r,o){t(n,e,i(e),o)})),n}function tn(e,t){return e&&Sr(t,Pa(t),e)}function nn(e,t,i){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function rn(e,t){for(var i=-1,o=t.length,s=n(o),a=null==e;++i<o;)s[i]=a?r:Ta(e,t[i]);return s}function on(e,t,i){return e==e&&(i!==r&&(e=e<=i?e:i),t!==r&&(e=e>=t?e:t)),e}function sn(e,t,i,n,o,s){var a,l=1&t,c=2&t,h=4&t;if(i&&(a=o?i(e,n,o,s):i(e)),a!==r)return a;if(!$s(e))return e;var u=Us(e);if(u){if(a=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&Ie.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e),!l)return Cr(e,a)}else{var d=uo(e),p=d==x||d==b;if(Ks(e))return xr(e,l);if(d==A||d==m||p&&!o){if(a=c||p?{}:go(e),!l)return c?function(e,t){return Sr(e,ho(e),t)}(e,function(e,t){return e&&Sr(t,Ma(t),e)}(a,e)):function(e,t){return Sr(e,co(e),t)}(e,tn(a,e))}else{if(!ot[d])return o?e:{};a=function(e,t,i){var n,r=e.constructor;switch(t){case M:return br(e);case y:case v:return new r(+e);case L:return function(e,t){var i=t?br(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case I:case O:case D:case R:case B:case j:case N:case F:case Z:return wr(e,i);case w:return new r;case k:case E:return new r(e);case C:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case S:return new r;case z:return n=e,Di?Ae(Di.call(n)):{}}}(e,d,l)}}s||(s=new Wi);var g=s.get(e);if(g)return g;s.set(e,a),oa(e)?e.forEach((function(n){a.add(sn(n,t,i,n,e,s))})):ta(e)&&e.forEach((function(n,r){a.set(r,sn(n,t,i,r,e,s))}));var f=u?r:(h?c?to:eo:c?Ma:Pa)(e);return Tt(f||e,(function(n,r){f&&(n=e[r=n]),Xi(a,r,sn(n,t,i,r,e,s))})),a}function an(e,t,i){var n=i.length;if(null==e)return!n;for(e=Ae(e);n--;){var o=i[n],s=t[o],a=e[o];if(a===r&&!(o in e)||!s(a))return!1}return!0}function ln(e,t,i){if("function"!=typeof e)throw new Se(o);return Eo((function(){e.apply(r,i)}),t)}function cn(e,t,i,n){var r=-1,o=zt,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;i&&(t=Mt(t,Qt(i))),n?(o=Pt,s=!1):t.length>=200&&(o=Jt,s=!1,t=new Hi(t));e:for(;++r<a;){var h=e[r],u=null==i?h:i(h);if(h=n||0!==h?h:0,s&&u==u){for(var d=c;d--;)if(t[d]===u)continue e;l.push(h)}else o(t,u,n)||l.push(h)}return l}Bi.templateSettings={escape:Q,evaluate:Y,interpolate:J,variable:"",imports:{_:Bi}},Bi.prototype=Ni.prototype,Bi.prototype.constructor=Bi,Fi.prototype=ji(Ni.prototype),Fi.prototype.constructor=Fi,Zi.prototype=ji(Ni.prototype),Zi.prototype.constructor=Zi,qi.prototype.clear=function(){this.__data__=Ci?Ci(null):{},this.size=0},qi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qi.prototype.get=function(e){var t=this.__data__;if(Ci){var i=t[e];return i===s?r:i}return Ie.call(t,e)?t[e]:r},qi.prototype.has=function(e){var t=this.__data__;return Ci?t[e]!==r:Ie.call(t,e)},qi.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Ci&&t===r?s:t,this},Ui.prototype.clear=function(){this.__data__=[],this.size=0},Ui.prototype.delete=function(e){var t=this.__data__,i=$i(t,e);return!(i<0||(i==t.length-1?t.pop():Ke.call(t,i,1),--this.size,0))},Ui.prototype.get=function(e){var t=this.__data__,i=$i(t,e);return i<0?r:t[i][1]},Ui.prototype.has=function(e){return $i(this.__data__,e)>-1},Ui.prototype.set=function(e,t){var i=this.__data__,n=$i(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},Vi.prototype.clear=function(){this.size=0,this.__data__={hash:new qi,map:new(wi||Ui),string:new qi}},Vi.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Vi.prototype.get=function(e){return so(this,e).get(e)},Vi.prototype.has=function(e){return so(this,e).has(e)},Vi.prototype.set=function(e,t){var i=so(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},Hi.prototype.add=Hi.prototype.push=function(e){return this.__data__.set(e,s),this},Hi.prototype.has=function(e){return this.__data__.has(e)},Wi.prototype.clear=function(){this.__data__=new Ui,this.size=0},Wi.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Wi.prototype.get=function(e){return this.__data__.get(e)},Wi.prototype.has=function(e){return this.__data__.has(e)},Wi.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Ui){var n=i.__data__;if(!wi||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new Vi(n)}return i.set(e,t),this.size=i.size,this};var hn=Pr(vn),un=Pr(_n,!0);function dn(e,t){var i=!0;return hn(e,(function(e,n,r){return i=!!t(e,n,r)})),i}function pn(e,t,i){for(var n=-1,o=e.length;++n<o;){var s=e[n],a=t(s);if(null!=a&&(l===r?a==a&&!aa(a):i(a,l)))var l=a,c=s}return c}function gn(e,t){var i=[];return hn(e,(function(e,n,r){t(e,n,r)&&i.push(e)})),i}function mn(e,t,i,n,r){var o=-1,s=e.length;for(i||(i=mo),r||(r=[]);++o<s;){var a=e[o];t>0&&i(a)?t>1?mn(a,t-1,i,n,r):Lt(r,a):n||(r[r.length]=a)}return r}var fn=Mr(),yn=Mr(!0);function vn(e,t){return e&&fn(e,t,Pa)}function _n(e,t){return e&&yn(e,t,Pa)}function xn(e,t){return Et(t,(function(t){return Ys(e[t])}))}function bn(e,t){for(var i=0,n=(t=fr(t,e)).length;null!=e&&i<n;)e=e[Ro(t[i++])];return i&&i==n?e:r}function wn(e,t,i){var n=t(e);return Us(e)?n:Lt(n,i(e))}function kn(e){return null==e?e===r?"[object Undefined]":"[object Null]":Xe&&Xe in Ae(e)?function(e){var t=Ie.call(e,Xe),i=e[Xe];try{e[Xe]=r;var n=!0}catch(e){}var o=Re.call(e);return n&&(t?e[Xe]=i:delete e[Xe]),o}(e):function(e){return Re.call(e)}(e)}function An(e,t){return e>t}function Tn(e,t){return null!=e&&Ie.call(e,t)}function Cn(e,t){return null!=e&&t in Ae(e)}function Sn(e,t,i){for(var o=i?Pt:zt,s=e[0].length,a=e.length,l=a,c=n(a),h=1/0,u=[];l--;){var d=e[l];l&&t&&(d=Mt(d,Qt(t))),h=fi(d.length,h),c[l]=!i&&(t||s>=120&&d.length>=120)?new Hi(l&&d):r}d=e[0];var p=-1,g=c[0];e:for(;++p<s&&u.length<h;){var m=d[p],f=t?t(m):m;if(m=i||0!==m?m:0,!(g?Jt(g,f):o(u,f,i))){for(l=a;--l;){var y=c[l];if(!(y?Jt(y,f):o(e[l],f,i)))continue e}g&&g.push(f),u.push(m)}}return u}function En(e,t,i){var n=null==(e=To(e,t=fr(t,e)))?e:e[Ro(Qo(t))];return null==n?r:kt(n,e,i)}function zn(e){return ea(e)&&kn(e)==m}function Pn(e,t,i,n,o){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,i,n,o,s){var a=Us(e),l=Us(t),c=a?f:uo(e),h=l?f:uo(t),u=(c=c==m?A:c)==A,d=(h=h==m?A:h)==A,p=c==h;if(p&&Ks(e)){if(!Ks(t))return!1;a=!0,u=!1}if(p&&!u)return s||(s=new Wi),a||la(e)?Xr(e,t,i,n,o,s):function(e,t,i,n,r,o,s){switch(i){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!o(new qe(e),new qe(t)));case y:case v:case k:return Ns(+e,+t);case _:return e.name==t.name&&e.message==t.message;case C:case E:return e==t+"";case w:var a=ri;case S:var l=1&n;if(a||(a=ai),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=2,s.set(e,t);var h=Xr(a(e),a(t),n,r,o,s);return s.delete(e),h;case z:if(Di)return Di.call(e)==Di.call(t)}return!1}(e,t,c,i,n,o,s);if(!(1&i)){var g=u&&Ie.call(e,"__wrapped__"),x=d&&Ie.call(t,"__wrapped__");if(g||x){var b=g?e.value():e,T=x?t.value():t;return s||(s=new Wi),o(b,T,i,n,s)}}return!!p&&(s||(s=new Wi),function(e,t,i,n,o,s){var a=1&i,l=eo(e),c=l.length;if(c!=eo(t).length&&!a)return!1;for(var h=c;h--;){var u=l[h];if(!(a?u in t:Ie.call(t,u)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=a;++h<c;){var f=e[u=l[h]],y=t[u];if(n)var v=a?n(y,f,u,t,e,s):n(f,y,u,e,t,s);if(!(v===r?f===y||o(f,y,i,n,s):v)){g=!1;break}m||(m="constructor"==u)}if(g&&!m){var _=e.constructor,x=t.constructor;_==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,i,n,o,s))}(e,t,i,n,Pn,o))}function Mn(e,t,i,n){var o=i.length,s=o,a=!n;if(null==e)return!s;for(e=Ae(e);o--;){var l=i[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=i[o])[0],h=e[c],u=l[1];if(a&&l[2]){if(h===r&&!(c in e))return!1}else{var d=new Wi;if(n)var p=n(h,u,c,e,t,d);if(!(p===r?Pn(u,h,3,n,d):p))return!1}}return!0}function Ln(e){return!(!$s(e)||(t=e,De&&De in t))&&(Ys(e)?Ne:me).test(Bo(e));var t}function In(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Us(e)?jn(e[0],e[1]):Bn(e):ul(e)}function On(e){if(!bo(e))return gi(e);var t=[];for(var i in Ae(e))Ie.call(e,i)&&"constructor"!=i&&t.push(i);return t}function Dn(e,t){return e<t}function Rn(e,t){var i=-1,r=Hs(e)?n(e.length):[];return hn(e,(function(e,n,o){r[++i]=t(e,n,o)})),r}function Bn(e){var t=ao(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(i){return i===e||Mn(i,e,t)}}function jn(e,t){return vo(e)&&wo(t)?ko(Ro(e),t):function(i){var n=Ta(i,e);return n===r&&n===t?Ca(i,e):Pn(t,n,3)}}function Nn(e,t,i,n,o){e!==t&&fn(t,(function(s,a){if(o||(o=new Wi),$s(s))!function(e,t,i,n,o,s,a){var l=Co(e,i),c=Co(t,i),h=a.get(c);if(h)Ji(e,i,h);else{var u=s?s(l,c,i+"",e,t,a):r,d=u===r;if(d){var p=Us(c),g=!p&&Ks(c),m=!p&&!g&&la(c);u=c,p||g||m?Us(l)?u=l:Ws(l)?u=Cr(l):g?(d=!1,u=xr(c,!0)):m?(d=!1,u=wr(c,!0)):u=[]:na(c)||qs(c)?(u=l,qs(l)?u=fa(l):$s(l)&&!Ys(l)||(u=go(c))):d=!1}d&&(a.set(c,u),o(u,c,n,s,a),a.delete(c)),Ji(e,i,u)}}(e,t,a,i,Nn,n,o);else{var l=n?n(Co(e,a),s,a+"",e,t,o):r;l===r&&(l=s),Ji(e,a,l)}}),Ma)}function Fn(e,t){var i=e.length;if(i)return fo(t+=t<0?i:0,i)?e[t]:r}function Zn(e,t,i){t=t.length?Mt(t,(function(e){return Us(e)?function(t){return bn(t,1===e.length?e[0]:e)}:e})):[il];var n=-1;t=Mt(t,Qt(oo()));var r=Rn(e,(function(e,i,r){var o=Mt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,i){for(var n=-1,r=e.criteria,o=t.criteria,s=r.length,a=i.length;++n<s;){var l=kr(r[n],o[n]);if(l)return n>=a?l:l*("desc"==i[n]?-1:1)}return e.index-t.index}(e,t,i)}));n--;)e[n]=e[n].value;return e}(r)}function qn(e,t,i){for(var n=-1,r=t.length,o={};++n<r;){var s=t[n],a=bn(e,s);i(a,s)&&Yn(o,fr(s,e),a)}return o}function Un(e,t,i,n){var r=n?Ft:Nt,o=-1,s=t.length,a=e;for(e===t&&(t=Cr(t)),i&&(a=Mt(e,Qt(i)));++o<s;)for(var l=0,c=t[o],h=i?i(c):c;(l=r(a,h,l,n))>-1;)a!==e&&Ke.call(a,l,1),Ke.call(e,l,1);return e}function Vn(e,t){for(var i=e?t.length:0,n=i-1;i--;){var r=t[i];if(i==n||r!==o){var o=r;fo(r)?Ke.call(e,r,1):lr(e,r)}}return e}function Hn(e,t){return e+pt(_i()*(t-e+1))}function Wn(e,t){var i="";if(!e||t<1||t>u)return i;do{t%2&&(i+=e),(t=pt(t/2))&&(e+=e)}while(t);return i}function Kn(e,t){return zo(Ao(e,t,il),e+"")}function Gn(e){return Gi(Na(e))}function Qn(e,t){var i=Na(e);return Lo(i,on(t,0,i.length))}function Yn(e,t,i,n){if(!$s(e))return e;for(var o=-1,s=(t=fr(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var c=Ro(t[o]),h=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var u=l[c];(h=n?n(u,c,l):r)===r&&(h=$s(u)?u:fo(t[o+1])?[]:{})}Xi(l,c,h),l=l[c]}return e}var Jn=Si?function(e,t){return Si.set(e,t),e}:il,Xn=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:$a(t),writable:!0})}:il;function $n(e){return Lo(Na(e))}function er(e,t,i){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(i=i>o?o:i)<0&&(i+=o),o=t>i?0:i-t>>>0,t>>>=0;for(var s=n(o);++r<o;)s[r]=e[r+t];return s}function tr(e,t){var i;return hn(e,(function(e,n,r){return!(i=t(e,n,r))})),!!i}function ir(e,t,i){var n=0,r=null==e?n:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;n<r;){var o=n+r>>>1,s=e[o];null!==s&&!aa(s)&&(i?s<=t:s<t)?n=o+1:r=o}return r}return nr(e,t,il,i)}function nr(e,t,i,n){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=i(t))!=t,l=null===t,c=aa(t),h=t===r;o<s;){var u=pt((o+s)/2),d=i(e[u]),p=d!==r,g=null===d,m=d==d,f=aa(d);if(a)var y=n||m;else y=h?m&&(n||p):l?m&&p&&(n||!g):c?m&&p&&!g&&(n||!f):!g&&!f&&(n?d<=t:d<t);y?o=u+1:s=u}return fi(s,4294967294)}function rr(e,t){for(var i=-1,n=e.length,r=0,o=[];++i<n;){var s=e[i],a=t?t(s):s;if(!i||!Ns(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function or(e){return"number"==typeof e?e:aa(e)?d:+e}function sr(e){if("string"==typeof e)return e;if(Us(e))return Mt(e,sr)+"";if(aa(e))return Ri?Ri.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ar(e,t,i){var n=-1,r=zt,o=e.length,s=!0,a=[],l=a;if(i)s=!1,r=Pt;else if(o>=200){var c=t?null:Wr(e);if(c)return ai(c);s=!1,r=Jt,l=new Hi}else l=t?[]:a;e:for(;++n<o;){var h=e[n],u=t?t(h):h;if(h=i||0!==h?h:0,s&&u==u){for(var d=l.length;d--;)if(l[d]===u)continue e;t&&l.push(u),a.push(h)}else r(l,u,i)||(l!==a&&l.push(u),a.push(h))}return a}function lr(e,t){return null==(e=To(e,t=fr(t,e)))||delete e[Ro(Qo(t))]}function cr(e,t,i,n){return Yn(e,t,i(bn(e,t)),n)}function hr(e,t,i,n){for(var r=e.length,o=n?r:-1;(n?o--:++o<r)&&t(e[o],o,e););return i?er(e,n?0:o,n?o+1:r):er(e,n?o+1:0,n?r:o)}function ur(e,t){var i=e;return i instanceof Zi&&(i=i.value()),It(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),i)}function dr(e,t,i){var r=e.length;if(r<2)return r?ar(e[0]):[];for(var o=-1,s=n(r);++o<r;)for(var a=e[o],l=-1;++l<r;)l!=o&&(s[o]=cn(s[o]||a,e[l],t,i));return ar(mn(s,1),t,i)}function pr(e,t,i){for(var n=-1,o=e.length,s=t.length,a={};++n<o;){var l=n<s?t[n]:r;i(a,e[n],l)}return a}function gr(e){return Ws(e)?e:[]}function mr(e){return"function"==typeof e?e:il}function fr(e,t){return Us(e)?e:vo(e,t)?[e]:Do(ya(e))}var yr=Kn;function vr(e,t,i){var n=e.length;return i=i===r?n:i,!t&&i>=n?e:er(e,t,i)}var _r=st||function(e){return ut.clearTimeout(e)};function xr(e,t){if(t)return e.slice();var i=e.length,n=Ue?Ue(i):new e.constructor(i);return e.copy(n),n}function br(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function wr(e,t){var i=t?br(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function kr(e,t){if(e!==t){var i=e!==r,n=null===e,o=e==e,s=aa(e),a=t!==r,l=null===t,c=t==t,h=aa(t);if(!l&&!h&&!s&&e>t||s&&a&&c&&!l&&!h||n&&a&&c||!i&&c||!o)return 1;if(!n&&!s&&!h&&e<t||h&&i&&o&&!n&&!s||l&&i&&o||!a&&o||!c)return-1}return 0}function Ar(e,t,i,r){for(var o=-1,s=e.length,a=i.length,l=-1,c=t.length,h=mi(s-a,0),u=n(c+h),d=!r;++l<c;)u[l]=t[l];for(;++o<a;)(d||o<s)&&(u[i[o]]=e[o]);for(;h--;)u[l++]=e[o++];return u}function Tr(e,t,i,r){for(var o=-1,s=e.length,a=-1,l=i.length,c=-1,h=t.length,u=mi(s-l,0),d=n(u+h),p=!r;++o<u;)d[o]=e[o];for(var g=o;++c<h;)d[g+c]=t[c];for(;++a<l;)(p||o<s)&&(d[g+i[a]]=e[o++]);return d}function Cr(e,t){var i=-1,r=e.length;for(t||(t=n(r));++i<r;)t[i]=e[i];return t}function Sr(e,t,i,n){var o=!i;i||(i={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=n?n(i[l],e[l],l,i,e):r;c===r&&(c=e[l]),o?nn(i,l,c):Xi(i,l,c)}return i}function Er(e,t){return function(i,n){var r=Us(i)?At:en,o=t?t():{};return r(i,e,oo(n,2),o)}}function zr(e){return Kn((function(t,i){var n=-1,o=i.length,s=o>1?i[o-1]:r,a=o>2?i[2]:r;for(s=e.length>3&&"function"==typeof s?(o--,s):r,a&&yo(i[0],i[1],a)&&(s=o<3?r:s,o=1),t=Ae(t);++n<o;){var l=i[n];l&&e(t,l,n,s)}return t}))}function Pr(e,t){return function(i,n){if(null==i)return i;if(!Hs(i))return e(i,n);for(var r=i.length,o=t?r:-1,s=Ae(i);(t?o--:++o<r)&&!1!==n(s[o],o,s););return i}}function Mr(e){return function(t,i,n){for(var r=-1,o=Ae(t),s=n(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===i(o[l],l,o))break}return t}}function Lr(e){return function(t){var i=ni(t=ya(t))?hi(t):r,n=i?i[0]:t.charAt(0),o=i?vr(i,1).join(""):t.slice(1);return n[e]()+o}}function Ir(e){return function(t){return It(Ya(qa(t).replace(Ye,"")),e,"")}}function Or(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=ji(e.prototype),n=e.apply(i,t);return $s(n)?n:i}}function Dr(e){return function(t,i,n){var o=Ae(t);if(!Hs(t)){var s=oo(i,3);t=Pa(t),i=function(e){return s(o[e],e,o)}}var a=e(t,i,n);return a>-1?o[s?t[a]:a]:r}}function Rr(e){return $r((function(t){var i=t.length,n=i,s=Fi.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new Se(o);if(s&&!l&&"wrapper"==no(a))var l=new Fi([],!0)}for(n=l?n:i;++n<i;){var c=no(a=t[n]),h="wrapper"==c?io(a):r;l=h&&_o(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?l[no(h[0])].apply(l,h[3]):1==a.length&&_o(a)?l[c]():l.thru(a)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Us(n))return l.plant(n).value();for(var r=0,o=i?t[r].apply(this,e):n;++r<i;)o=t[r].call(this,o);return o}}))}function Br(e,t,i,o,s,a,l,h,u,d){var p=t&c,g=1&t,m=2&t,f=24&t,y=512&t,v=m?r:Or(e);return function c(){for(var _=arguments.length,x=n(_),b=_;b--;)x[b]=arguments[b];if(f)var w=ro(c),k=function(e,t){for(var i=e.length,n=0;i--;)e[i]===t&&++n;return n}(x,w);if(o&&(x=Ar(x,o,s,f)),a&&(x=Tr(x,a,l,f)),_-=k,f&&_<d){var A=si(x,w);return Vr(e,t,Br,c.placeholder,i,x,A,h,u,d-_)}var T=g?i:this,C=m?T[e]:e;return _=x.length,h?x=function(e,t){for(var i=e.length,n=fi(t.length,i),o=Cr(e);n--;){var s=t[n];e[n]=fo(s,i)?o[s]:r}return e}(x,h):y&&_>1&&x.reverse(),p&&u<_&&(x.length=u),this&&this!==ut&&this instanceof c&&(C=v||Or(C)),C.apply(T,x)}}function jr(e,t){return function(i,n){return function(e,t,i,n){return vn(e,(function(e,r,o){t(n,i(e),r,o)})),n}(i,e,t(n),{})}}function Nr(e,t){return function(i,n){var o;if(i===r&&n===r)return t;if(i!==r&&(o=i),n!==r){if(o===r)return n;"string"==typeof i||"string"==typeof n?(i=sr(i),n=sr(n)):(i=or(i),n=or(n)),o=e(i,n)}return o}}function Fr(e){return $r((function(t){return t=Mt(t,Qt(oo())),Kn((function(i){var n=this;return e(t,(function(e){return kt(e,n,i)}))}))}))}function Zr(e,t){var i=(t=t===r?" ":sr(t)).length;if(i<2)return i?Wn(t,e):t;var n=Wn(t,dt(e/ci(t)));return ni(t)?vr(hi(n),0,e).join(""):n.slice(0,e)}function qr(e){return function(t,i,o){return o&&"number"!=typeof o&&yo(t,i,o)&&(i=o=r),t=da(t),i===r?(i=t,t=0):i=da(i),function(e,t,i,r){for(var o=-1,s=mi(dt((t-e)/(i||1)),0),a=n(s);s--;)a[r?s:++o]=e,e+=i;return a}(t,i,o=o===r?t<i?1:-1:da(o),e)}}function Ur(e){return function(t,i){return"string"==typeof t&&"string"==typeof i||(t=ma(t),i=ma(i)),e(t,i)}}function Vr(e,t,i,n,o,s,a,c,h,u){var d=8&t;t|=d?l:64,4&(t&=~(d?64:l))||(t&=-4);var p=[e,t,o,d?s:r,d?a:r,d?r:s,d?r:a,c,h,u],g=i.apply(r,p);return _o(e)&&So(g,p),g.placeholder=n,Po(g,e,t)}function Hr(e){var t=ke[e];return function(e,i){if(e=ma(e),(i=null==i?0:fi(pa(i),292))&&Rt(e)){var n=(ya(e)+"e").split("e");return+((n=(ya(t(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return t(e)}}var Wr=Ai&&1/ai(new Ai([,-0]))[1]==h?function(e){return new Ai(e)}:al;function Kr(e){return function(t){var i=uo(t);return i==w?ri(t):i==S?li(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Gr(e,t,i,s,h,u,d,p){var g=2&t;if(!g&&"function"!=typeof e)throw new Se(o);var m=s?s.length:0;if(m||(t&=-97,s=h=r),d=d===r?d:mi(pa(d),0),p=p===r?p:pa(p),m-=h?h.length:0,64&t){var f=s,y=h;s=h=r}var v=g?r:io(e),_=[e,t,i,s,h,f,y,u,d,p];if(v&&function(e,t){var i=e[1],n=t[1],r=i|n,o=r<131,s=n==c&&8==i||n==c&&256==i&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==i;if(!o&&!s)return e;1&n&&(e[2]=t[2],r|=1&i?0:4);var l=t[3];if(l){var h=e[3];e[3]=h?Ar(h,l,t[4]):l,e[4]=h?si(e[3],a):t[4]}(l=t[5])&&(h=e[5],e[5]=h?Tr(h,l,t[6]):l,e[6]=h?si(e[5],a):t[6]),(l=t[7])&&(e[7]=l),n&c&&(e[8]=null==e[8]?t[8]:fi(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(_,v),e=_[0],t=_[1],i=_[2],s=_[3],h=_[4],!(p=_[9]=_[9]===r?g?0:e.length:mi(_[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||16==t?function(e,t,i){var o=Or(e);return function s(){for(var a=arguments.length,l=n(a),c=a,h=ro(s);c--;)l[c]=arguments[c];var u=a<3&&l[0]!==h&&l[a-1]!==h?[]:si(l,h);return(a-=u.length)<i?Vr(e,t,Br,s.placeholder,r,l,u,r,r,i-a):kt(this&&this!==ut&&this instanceof s?o:e,this,l)}}(e,t,p):t!=l&&33!=t||h.length?Br.apply(r,_):function(e,t,i,r){var o=1&t,s=Or(e);return function t(){for(var a=-1,l=arguments.length,c=-1,h=r.length,u=n(h+l),d=this&&this!==ut&&this instanceof t?s:e;++c<h;)u[c]=r[c];for(;l--;)u[c++]=arguments[++a];return kt(d,o?i:this,u)}}(e,t,i,s);else var x=function(e,t,i){var n=1&t,r=Or(e);return function t(){return(this&&this!==ut&&this instanceof t?r:e).apply(n?i:this,arguments)}}(e,t,i);return Po((v?Jn:So)(x,_),e,t)}function Qr(e,t,i,n){return e===r||Ns(e,Pe[i])&&!Ie.call(n,i)?t:e}function Yr(e,t,i,n,o,s){return $s(e)&&$s(t)&&(s.set(t,e),Nn(e,t,r,Yr,s),s.delete(t)),e}function Jr(e){return na(e)?r:e}function Xr(e,t,i,n,o,s){var a=1&i,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var h=s.get(e),u=s.get(t);if(h&&u)return h==t&&u==e;var d=-1,p=!0,g=2&i?new Hi:r;for(s.set(e,t),s.set(t,e);++d<l;){var m=e[d],f=t[d];if(n)var y=a?n(f,m,d,t,e,s):n(m,f,d,e,t,s);if(y!==r){if(y)continue;p=!1;break}if(g){if(!Dt(t,(function(e,t){if(!Jt(g,t)&&(m===e||o(m,e,i,n,s)))return g.push(t)}))){p=!1;break}}else if(m!==f&&!o(m,f,i,n,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function $r(e){return zo(Ao(e,r,Vo),e+"")}function eo(e){return wn(e,Pa,co)}function to(e){return wn(e,Ma,ho)}var io=Si?function(e){return Si.get(e)}:al;function no(e){for(var t=e.name+"",i=Ei[t],n=Ie.call(Ei,t)?i.length:0;n--;){var r=i[n],o=r.func;if(null==o||o==e)return r.name}return t}function ro(e){return(Ie.call(Bi,"placeholder")?Bi:e).placeholder}function oo(){var e=Bi.iteratee||nl;return e=e===nl?In:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var i,n,r=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof t?"string":"hash"]:r.map}function ao(e){for(var t=Pa(e),i=t.length;i--;){var n=t[i],r=e[n];t[i]=[n,r,wo(r)]}return t}function lo(e,t){var i=function(e,t){return null==e?r:e[t]}(e,t);return Ln(i)?i:r}var co=mt?function(e){return null==e?[]:(e=Ae(e),Et(mt(e),(function(t){return We.call(e,t)})))}:gl,ho=mt?function(e){for(var t=[];e;)Lt(t,co(e)),e=Ve(e);return t}:gl,uo=kn;function po(e,t,i){for(var n=-1,r=(t=fr(t,e)).length,o=!1;++n<r;){var s=Ro(t[n]);if(!(o=null!=e&&i(e,s)))break;e=e[s]}return o||++n!=r?o:!!(r=null==e?0:e.length)&&Xs(r)&&fo(s,r)&&(Us(e)||qs(e))}function go(e){return"function"!=typeof e.constructor||bo(e)?{}:ji(Ve(e))}function mo(e){return Us(e)||qs(e)||!!(Ge&&e&&e[Ge])}function fo(e,t){var i=typeof e;return!!(t=null==t?u:t)&&("number"==i||"symbol"!=i&&ye.test(e))&&e>-1&&e%1==0&&e<t}function yo(e,t,i){if(!$s(i))return!1;var n=typeof t;return!!("number"==n?Hs(i)&&fo(t,i.length):"string"==n&&t in i)&&Ns(i[t],e)}function vo(e,t){if(Us(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!aa(e))||$.test(e)||!X.test(e)||null!=t&&e in Ae(t)}function _o(e){var t=no(e),i=Bi[t];if("function"!=typeof i||!(t in Zi.prototype))return!1;if(e===i)return!0;var n=io(i);return!!n&&e===n[0]}(bi&&uo(new bi(new ArrayBuffer(1)))!=L||wi&&uo(new wi)!=w||ki&&uo(ki.resolve())!=T||Ai&&uo(new Ai)!=S||Ti&&uo(new Ti)!=P)&&(uo=function(e){var t=kn(e),i=t==A?e.constructor:r,n=i?Bo(i):"";if(n)switch(n){case zi:return L;case Pi:return w;case Mi:return T;case Li:return S;case Ii:return P}return t});var xo=Me?Ys:ml;function bo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function wo(e){return e==e&&!$s(e)}function ko(e,t){return function(i){return null!=i&&i[e]===t&&(t!==r||e in Ae(i))}}function Ao(e,t,i){return t=mi(t===r?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=mi(r.length-t,0),a=n(s);++o<s;)a[o]=r[t+o];o=-1;for(var l=n(t+1);++o<t;)l[o]=r[o];return l[t]=i(a),kt(e,this,l)}}function To(e,t){return t.length<2?e:bn(e,er(t,0,-1))}function Co(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var So=Mo(Jn),Eo=ht||function(e,t){return ut.setTimeout(e,t)},zo=Mo(Xn);function Po(e,t,i){var n=t+"";return zo(e,function(e,t){var i=t.length;if(!i)return e;var n=i-1;return t[n]=(i>1?"& ":"")+t[n],t=t.join(i>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Tt(g,(function(i){var n="_."+i[0];t&i[1]&&!zt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(n),i)))}function Mo(e){var t=0,i=0;return function(){var n=yi(),o=16-(n-i);if(i=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Lo(e,t){var i=-1,n=e.length,o=n-1;for(t=t===r?n:t;++i<t;){var s=Hn(i,o),a=e[s];e[s]=e[i],e[i]=a}return e.length=t,e}var Io,Oo,Do=(Io=Is((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,i,n,r){t.push(n?r.replace(he,"$1"):i||e)})),t}),(function(e){return 500===Oo.size&&Oo.clear(),e})),Oo=Io.cache,Io);function Ro(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return Le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function jo(e){if(e instanceof Zi)return e.clone();var t=new Fi(e.__wrapped__,e.__chain__);return t.__actions__=Cr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var No=Kn((function(e,t){return Ws(e)?cn(e,mn(t,1,Ws,!0)):[]})),Fo=Kn((function(e,t){var i=Qo(t);return Ws(i)&&(i=r),Ws(e)?cn(e,mn(t,1,Ws,!0),oo(i,2)):[]})),Zo=Kn((function(e,t){var i=Qo(t);return Ws(i)&&(i=r),Ws(e)?cn(e,mn(t,1,Ws,!0),r,i):[]}));function qo(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var r=null==i?0:pa(i);return r<0&&(r=mi(n+r,0)),jt(e,oo(t,3),r)}function Uo(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return i!==r&&(o=pa(i),o=i<0?mi(n+o,0):fi(o,n-1)),jt(e,oo(t,3),o,!0)}function Vo(e){return null!=e&&e.length?mn(e,1):[]}function Ho(e){return e&&e.length?e[0]:r}var Wo=Kn((function(e){var t=Mt(e,gr);return t.length&&t[0]===e[0]?Sn(t):[]})),Ko=Kn((function(e){var t=Qo(e),i=Mt(e,gr);return t===Qo(i)?t=r:i.pop(),i.length&&i[0]===e[0]?Sn(i,oo(t,2)):[]})),Go=Kn((function(e){var t=Qo(e),i=Mt(e,gr);return(t="function"==typeof t?t:r)&&i.pop(),i.length&&i[0]===e[0]?Sn(i,r,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Yo=Kn(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?Un(e,t):e}var Xo=$r((function(e,t){var i=null==e?0:e.length,n=rn(e,t);return Vn(e,Mt(t,(function(e){return fo(e,i)?+e:e})).sort(kr)),n}));function $o(e){return null==e?e:xi.call(e)}var es=Kn((function(e){return ar(mn(e,1,Ws,!0))})),ts=Kn((function(e){var t=Qo(e);return Ws(t)&&(t=r),ar(mn(e,1,Ws,!0),oo(t,2))})),is=Kn((function(e){var t=Qo(e);return t="function"==typeof t?t:r,ar(mn(e,1,Ws,!0),r,t)}));function ns(e){if(!e||!e.length)return[];var t=0;return e=Et(e,(function(e){if(Ws(e))return t=mi(e.length,t),!0})),Kt(t,(function(t){return Mt(e,Ut(t))}))}function rs(e,t){if(!e||!e.length)return[];var i=ns(e);return null==t?i:Mt(i,(function(e){return kt(t,r,e)}))}var os=Kn((function(e,t){return Ws(e)?cn(e,t):[]})),ss=Kn((function(e){return dr(Et(e,Ws))})),as=Kn((function(e){var t=Qo(e);return Ws(t)&&(t=r),dr(Et(e,Ws),oo(t,2))})),ls=Kn((function(e){var t=Qo(e);return t="function"==typeof t?t:r,dr(Et(e,Ws),r,t)})),cs=Kn(ns),hs=Kn((function(e){var t=e.length,i=t>1?e[t-1]:r;return i="function"==typeof i?(e.pop(),i):r,rs(e,i)}));function us(e){var t=Bi(e);return t.__chain__=!0,t}function ds(e,t){return t(e)}var ps=$r((function(e){var t=e.length,i=t?e[0]:0,n=this.__wrapped__,o=function(t){return rn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Zi&&fo(i)?((n=n.slice(i,+i+(t?1:0))).__actions__.push({func:ds,args:[o],thisArg:r}),new Fi(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(o)})),gs=Er((function(e,t,i){Ie.call(e,i)?++e[i]:nn(e,i,1)})),ms=Dr(qo),fs=Dr(Uo);function ys(e,t){return(Us(e)?Tt:hn)(e,oo(t,3))}function vs(e,t){return(Us(e)?Ct:un)(e,oo(t,3))}var _s=Er((function(e,t,i){Ie.call(e,i)?e[i].push(t):nn(e,i,[t])})),xs=Kn((function(e,t,i){var r=-1,o="function"==typeof t,s=Hs(e)?n(e.length):[];return hn(e,(function(e){s[++r]=o?kt(t,e,i):En(e,t,i)})),s})),bs=Er((function(e,t,i){nn(e,i,t)}));function ws(e,t){return(Us(e)?Mt:Rn)(e,oo(t,3))}var ks=Er((function(e,t,i){e[i?0:1].push(t)}),(function(){return[[],[]]})),As=Kn((function(e,t){if(null==e)return[];var i=t.length;return i>1&&yo(e,t[0],t[1])?t=[]:i>2&&yo(t[0],t[1],t[2])&&(t=[t[0]]),Zn(e,mn(t,1),[])})),Ts=ct||function(){return ut.Date.now()};function Cs(e,t,i){return t=i?r:t,t=e&&null==t?e.length:t,Gr(e,c,r,r,r,r,t)}function Ss(e,t){var i;if("function"!=typeof t)throw new Se(o);return e=pa(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var Es=Kn((function(e,t,i){var n=1;if(i.length){var r=si(i,ro(Es));n|=l}return Gr(e,n,t,i,r)})),zs=Kn((function(e,t,i){var n=3;if(i.length){var r=si(i,ro(zs));n|=l}return Gr(t,n,e,i,r)}));function Ps(e,t,i){var n,s,a,l,c,h,u=0,d=!1,p=!1,g=!0;if("function"!=typeof e)throw new Se(o);function m(t){var i=n,o=s;return n=s=r,u=t,l=e.apply(o,i)}function f(e){var i=e-h;return h===r||i>=t||i<0||p&&e-u>=a}function y(){var e=Ts();if(f(e))return v(e);c=Eo(y,function(e){var i=t-(e-h);return p?fi(i,a-(e-u)):i}(e))}function v(e){return c=r,g&&n?m(e):(n=s=r,l)}function _(){var e=Ts(),i=f(e);if(n=arguments,s=this,h=e,i){if(c===r)return function(e){return u=e,c=Eo(y,t),d?m(e):l}(h);if(p)return _r(c),c=Eo(y,t),m(h)}return c===r&&(c=Eo(y,t)),l}return t=ma(t)||0,$s(i)&&(d=!!i.leading,a=(p="maxWait"in i)?mi(ma(i.maxWait)||0,t):a,g="trailing"in i?!!i.trailing:g),_.cancel=function(){c!==r&&_r(c),u=0,n=h=s=c=r},_.flush=function(){return c===r?l:v(Ts())},_}var Ms=Kn((function(e,t){return ln(e,1,t)})),Ls=Kn((function(e,t,i){return ln(e,ma(t)||0,i)}));function Is(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Se(o);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var s=e.apply(this,n);return i.cache=o.set(r,s)||o,s};return i.cache=new(Is.Cache||Vi),i}function Os(e){if("function"!=typeof e)throw new Se(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Is.Cache=Vi;var Ds=yr((function(e,t){var i=(t=1==t.length&&Us(t[0])?Mt(t[0],Qt(oo())):Mt(mn(t,1),Qt(oo()))).length;return Kn((function(n){for(var r=-1,o=fi(n.length,i);++r<o;)n[r]=t[r].call(this,n[r]);return kt(e,this,n)}))})),Rs=Kn((function(e,t){var i=si(t,ro(Rs));return Gr(e,l,r,t,i)})),Bs=Kn((function(e,t){var i=si(t,ro(Bs));return Gr(e,64,r,t,i)})),js=$r((function(e,t){return Gr(e,256,r,r,r,t)}));function Ns(e,t){return e===t||e!=e&&t!=t}var Fs=Ur(An),Zs=Ur((function(e,t){return e>=t})),qs=zn(function(){return arguments}())?zn:function(e){return ea(e)&&Ie.call(e,"callee")&&!We.call(e,"callee")},Us=n.isArray,Vs=yt?Qt(yt):function(e){return ea(e)&&kn(e)==M};function Hs(e){return null!=e&&Xs(e.length)&&!Ys(e)}function Ws(e){return ea(e)&&Hs(e)}var Ks=ft||ml,Gs=vt?Qt(vt):function(e){return ea(e)&&kn(e)==v};function Qs(e){if(!ea(e))return!1;var t=kn(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!na(e)}function Ys(e){if(!$s(e))return!1;var t=kn(e);return t==x||t==b||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==pa(e)}function Xs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function $s(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=_t?Qt(_t):function(e){return ea(e)&&uo(e)==w};function ia(e){return"number"==typeof e||ea(e)&&kn(e)==k}function na(e){if(!ea(e)||kn(e)!=A)return!1;var t=Ve(e);if(null===t)return!0;var i=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&Le.call(i)==Be}var ra=xt?Qt(xt):function(e){return ea(e)&&kn(e)==C},oa=bt?Qt(bt):function(e){return ea(e)&&uo(e)==S};function sa(e){return"string"==typeof e||!Us(e)&&ea(e)&&kn(e)==E}function aa(e){return"symbol"==typeof e||ea(e)&&kn(e)==z}var la=wt?Qt(wt):function(e){return ea(e)&&Xs(e.length)&&!!rt[kn(e)]},ca=Ur(Dn),ha=Ur((function(e,t){return e<=t}));function ua(e){if(!e)return[];if(Hs(e))return sa(e)?hi(e):Cr(e);if(Qe&&e[Qe])return function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}(e[Qe]());var t=uo(e);return(t==w?ri:t==S?ai:Na)(e)}function da(e){return e?(e=ma(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function pa(e){var t=da(e),i=t%1;return t==t?i?t-i:t:0}function ga(e){return e?on(pa(e),0,p):0}function ma(e){if("number"==typeof e)return e;if(aa(e))return d;if($s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Gt(e);var i=ge.test(e);return i||fe.test(e)?lt(e.slice(2),i?2:8):pe.test(e)?d:+e}function fa(e){return Sr(e,Ma(e))}function ya(e){return null==e?"":sr(e)}var va=zr((function(e,t){if(bo(t)||Hs(t))Sr(t,Pa(t),e);else for(var i in t)Ie.call(t,i)&&Xi(e,i,t[i])})),_a=zr((function(e,t){Sr(t,Ma(t),e)})),xa=zr((function(e,t,i,n){Sr(t,Ma(t),e,n)})),ba=zr((function(e,t,i,n){Sr(t,Pa(t),e,n)})),wa=$r(rn),ka=Kn((function(e,t){e=Ae(e);var i=-1,n=t.length,o=n>2?t[2]:r;for(o&&yo(t[0],t[1],o)&&(n=1);++i<n;)for(var s=t[i],a=Ma(s),l=-1,c=a.length;++l<c;){var h=a[l],u=e[h];(u===r||Ns(u,Pe[h])&&!Ie.call(e,h))&&(e[h]=s[h])}return e})),Aa=Kn((function(e){return e.push(r,Yr),kt(Ia,r,e)}));function Ta(e,t,i){var n=null==e?r:bn(e,t);return n===r?i:n}function Ca(e,t){return null!=e&&po(e,t,Cn)}var Sa=jr((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=Re.call(t)),e[t]=i}),$a(il)),Ea=jr((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=Re.call(t)),Ie.call(e,t)?e[t].push(i):e[t]=[i]}),oo),za=Kn(En);function Pa(e){return Hs(e)?Ki(e):On(e)}function Ma(e){return Hs(e)?Ki(e,!0):function(e){if(!$s(e))return function(e){var t=[];if(null!=e)for(var i in Ae(e))t.push(i);return t}(e);var t=bo(e),i=[];for(var n in e)("constructor"!=n||!t&&Ie.call(e,n))&&i.push(n);return i}(e)}var La=zr((function(e,t,i){Nn(e,t,i)})),Ia=zr((function(e,t,i,n){Nn(e,t,i,n)})),Oa=$r((function(e,t){var i={};if(null==e)return i;var n=!1;t=Mt(t,(function(t){return t=fr(t,e),n||(n=t.length>1),t})),Sr(e,to(e),i),n&&(i=sn(i,7,Jr));for(var r=t.length;r--;)lr(i,t[r]);return i})),Da=$r((function(e,t){return null==e?{}:function(e,t){return qn(e,t,(function(t,i){return Ca(e,i)}))}(e,t)}));function Ra(e,t){if(null==e)return{};var i=Mt(to(e),(function(e){return[e]}));return t=oo(t),qn(e,i,(function(e,i){return t(e,i[0])}))}var Ba=Kr(Pa),ja=Kr(Ma);function Na(e){return null==e?[]:Yt(e,Pa(e))}var Fa=Ir((function(e,t,i){return t=t.toLowerCase(),e+(i?Za(t):t)}));function Za(e){return Qa(ya(e).toLowerCase())}function qa(e){return(e=ya(e))&&e.replace(ve,ei).replace(Je,"")}var Ua=Ir((function(e,t,i){return e+(i?"-":"")+t.toLowerCase()})),Va=Ir((function(e,t,i){return e+(i?" ":"")+t.toLowerCase()})),Ha=Lr("toLowerCase"),Wa=Ir((function(e,t,i){return e+(i?"_":"")+t.toLowerCase()})),Ka=Ir((function(e,t,i){return e+(i?" ":"")+Qa(t)})),Ga=Ir((function(e,t,i){return e+(i?" ":"")+t.toUpperCase()})),Qa=Lr("toUpperCase");function Ya(e,t,i){return e=ya(e),(t=i?r:t)===r?function(e){return tt.test(e)}(e)?function(e){return e.match($e)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Ja=Kn((function(e,t){try{return kt(e,r,t)}catch(e){return Qs(e)?e:new be(e)}})),Xa=$r((function(e,t){return Tt(t,(function(t){t=Ro(t),nn(e,t,Es(e[t],e))})),e}));function $a(e){return function(){return e}}var el=Rr(),tl=Rr(!0);function il(e){return e}function nl(e){return In("function"==typeof e?e:sn(e,1))}var rl=Kn((function(e,t){return function(i){return En(i,e,t)}})),ol=Kn((function(e,t){return function(i){return En(e,i,t)}}));function sl(e,t,i){var n=Pa(t),r=xn(t,n);null!=i||$s(t)&&(r.length||!n.length)||(i=t,t=e,e=this,r=xn(t,Pa(t)));var o=!($s(i)&&"chain"in i&&!i.chain),s=Ys(e);return Tt(r,(function(i){var n=t[i];e[i]=n,s&&(e.prototype[i]=function(){var t=this.__chain__;if(o||t){var i=e(this.__wrapped__);return(i.__actions__=Cr(this.__actions__)).push({func:n,args:arguments,thisArg:e}),i.__chain__=t,i}return n.apply(e,Lt([this.value()],arguments))})})),e}function al(){}var ll=Fr(Mt),cl=Fr(St),hl=Fr(Dt);function ul(e){return vo(e)?Ut(Ro(e)):function(e){return function(t){return bn(t,e)}}(e)}var dl=qr(),pl=qr(!0);function gl(){return[]}function ml(){return!1}var fl,yl=Nr((function(e,t){return e+t}),0),vl=Hr("ceil"),_l=Nr((function(e,t){return e/t}),1),xl=Hr("floor"),bl=Nr((function(e,t){return e*t}),1),wl=Hr("round"),kl=Nr((function(e,t){return e-t}),0);return Bi.after=function(e,t){if("function"!=typeof t)throw new Se(o);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},Bi.ary=Cs,Bi.assign=va,Bi.assignIn=_a,Bi.assignInWith=xa,Bi.assignWith=ba,Bi.at=wa,Bi.before=Ss,Bi.bind=Es,Bi.bindAll=Xa,Bi.bindKey=zs,Bi.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Us(e)?e:[e]},Bi.chain=us,Bi.chunk=function(e,t,i){t=(i?yo(e,t,i):t===r)?1:mi(pa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,l=n(dt(o/t));s<o;)l[a++]=er(e,s,s+=t);return l},Bi.compact=function(e){for(var t=-1,i=null==e?0:e.length,n=0,r=[];++t<i;){var o=e[t];o&&(r[n++]=o)}return r},Bi.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),i=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Lt(Us(i)?Cr(i):[i],mn(t,1))},Bi.cond=function(e){var t=null==e?0:e.length,i=oo();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Se(o);return[i(e[0]),e[1]]})):[],Kn((function(i){for(var n=-1;++n<t;){var r=e[n];if(kt(r[0],this,i))return kt(r[1],this,i)}}))},Bi.conforms=function(e){return function(e){var t=Pa(e);return function(i){return an(i,e,t)}}(sn(e,1))},Bi.constant=$a,Bi.countBy=gs,Bi.create=function(e,t){var i=ji(e);return null==t?i:tn(i,t)},Bi.curry=function e(t,i,n){var o=Gr(t,8,r,r,r,r,r,i=n?r:i);return o.placeholder=e.placeholder,o},Bi.curryRight=function e(t,i,n){var o=Gr(t,16,r,r,r,r,r,i=n?r:i);return o.placeholder=e.placeholder,o},Bi.debounce=Ps,Bi.defaults=ka,Bi.defaultsDeep=Aa,Bi.defer=Ms,Bi.delay=Ls,Bi.difference=No,Bi.differenceBy=Fo,Bi.differenceWith=Zo,Bi.drop=function(e,t,i){var n=null==e?0:e.length;return n?er(e,(t=i||t===r?1:pa(t))<0?0:t,n):[]},Bi.dropRight=function(e,t,i){var n=null==e?0:e.length;return n?er(e,0,(t=n-(t=i||t===r?1:pa(t)))<0?0:t):[]},Bi.dropRightWhile=function(e,t){return e&&e.length?hr(e,oo(t,3),!0,!0):[]},Bi.dropWhile=function(e,t){return e&&e.length?hr(e,oo(t,3),!0):[]},Bi.fill=function(e,t,i,n){var o=null==e?0:e.length;return o?(i&&"number"!=typeof i&&yo(e,t,i)&&(i=0,n=o),function(e,t,i,n){var o=e.length;for((i=pa(i))<0&&(i=-i>o?0:o+i),(n=n===r||n>o?o:pa(n))<0&&(n+=o),n=i>n?0:ga(n);i<n;)e[i++]=t;return e}(e,t,i,n)):[]},Bi.filter=function(e,t){return(Us(e)?Et:gn)(e,oo(t,3))},Bi.flatMap=function(e,t){return mn(ws(e,t),1)},Bi.flatMapDeep=function(e,t){return mn(ws(e,t),h)},Bi.flatMapDepth=function(e,t,i){return i=i===r?1:pa(i),mn(ws(e,t),i)},Bi.flatten=Vo,Bi.flattenDeep=function(e){return null!=e&&e.length?mn(e,h):[]},Bi.flattenDepth=function(e,t){return null!=e&&e.length?mn(e,t=t===r?1:pa(t)):[]},Bi.flip=function(e){return Gr(e,512)},Bi.flow=el,Bi.flowRight=tl,Bi.fromPairs=function(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var r=e[t];n[r[0]]=r[1]}return n},Bi.functions=function(e){return null==e?[]:xn(e,Pa(e))},Bi.functionsIn=function(e){return null==e?[]:xn(e,Ma(e))},Bi.groupBy=_s,Bi.initial=function(e){return null!=e&&e.length?er(e,0,-1):[]},Bi.intersection=Wo,Bi.intersectionBy=Ko,Bi.intersectionWith=Go,Bi.invert=Sa,Bi.invertBy=Ea,Bi.invokeMap=xs,Bi.iteratee=nl,Bi.keyBy=bs,Bi.keys=Pa,Bi.keysIn=Ma,Bi.map=ws,Bi.mapKeys=function(e,t){var i={};return t=oo(t,3),vn(e,(function(e,n,r){nn(i,t(e,n,r),e)})),i},Bi.mapValues=function(e,t){var i={};return t=oo(t,3),vn(e,(function(e,n,r){nn(i,n,t(e,n,r))})),i},Bi.matches=function(e){return Bn(sn(e,1))},Bi.matchesProperty=function(e,t){return jn(e,sn(t,1))},Bi.memoize=Is,Bi.merge=La,Bi.mergeWith=Ia,Bi.method=rl,Bi.methodOf=ol,Bi.mixin=sl,Bi.negate=Os,Bi.nthArg=function(e){return e=pa(e),Kn((function(t){return Fn(t,e)}))},Bi.omit=Oa,Bi.omitBy=function(e,t){return Ra(e,Os(oo(t)))},Bi.once=function(e){return Ss(2,e)},Bi.orderBy=function(e,t,i,n){return null==e?[]:(Us(t)||(t=null==t?[]:[t]),Us(i=n?r:i)||(i=null==i?[]:[i]),Zn(e,t,i))},Bi.over=ll,Bi.overArgs=Ds,Bi.overEvery=cl,Bi.overSome=hl,Bi.partial=Rs,Bi.partialRight=Bs,Bi.partition=ks,Bi.pick=Da,Bi.pickBy=Ra,Bi.property=ul,Bi.propertyOf=function(e){return function(t){return null==e?r:bn(e,t)}},Bi.pull=Yo,Bi.pullAll=Jo,Bi.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?Un(e,t,oo(i,2)):e},Bi.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?Un(e,t,r,i):e},Bi.pullAt=Xo,Bi.range=dl,Bi.rangeRight=pl,Bi.rearg=js,Bi.reject=function(e,t){return(Us(e)?Et:gn)(e,Os(oo(t,3)))},Bi.remove=function(e,t){var i=[];if(!e||!e.length)return i;var n=-1,r=[],o=e.length;for(t=oo(t,3);++n<o;){var s=e[n];t(s,n,e)&&(i.push(s),r.push(n))}return Vn(e,r),i},Bi.rest=function(e,t){if("function"!=typeof e)throw new Se(o);return Kn(e,t=t===r?t:pa(t))},Bi.reverse=$o,Bi.sampleSize=function(e,t,i){return t=(i?yo(e,t,i):t===r)?1:pa(t),(Us(e)?Qi:Qn)(e,t)},Bi.set=function(e,t,i){return null==e?e:Yn(e,t,i)},Bi.setWith=function(e,t,i,n){return n="function"==typeof n?n:r,null==e?e:Yn(e,t,i,n)},Bi.shuffle=function(e){return(Us(e)?Yi:$n)(e)},Bi.slice=function(e,t,i){var n=null==e?0:e.length;return n?(i&&"number"!=typeof i&&yo(e,t,i)?(t=0,i=n):(t=null==t?0:pa(t),i=i===r?n:pa(i)),er(e,t,i)):[]},Bi.sortBy=As,Bi.sortedUniq=function(e){return e&&e.length?rr(e):[]},Bi.sortedUniqBy=function(e,t){return e&&e.length?rr(e,oo(t,2)):[]},Bi.split=function(e,t,i){return i&&"number"!=typeof i&&yo(e,t,i)&&(t=i=r),(i=i===r?p:i>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!ra(t))&&!(t=sr(t))&&ni(e)?vr(hi(e),0,i):e.split(t,i):[]},Bi.spread=function(e,t){if("function"!=typeof e)throw new Se(o);return t=null==t?0:mi(pa(t),0),Kn((function(i){var n=i[t],r=vr(i,0,t);return n&&Lt(r,n),kt(e,this,r)}))},Bi.tail=function(e){var t=null==e?0:e.length;return t?er(e,1,t):[]},Bi.take=function(e,t,i){return e&&e.length?er(e,0,(t=i||t===r?1:pa(t))<0?0:t):[]},Bi.takeRight=function(e,t,i){var n=null==e?0:e.length;return n?er(e,(t=n-(t=i||t===r?1:pa(t)))<0?0:t,n):[]},Bi.takeRightWhile=function(e,t){return e&&e.length?hr(e,oo(t,3),!1,!0):[]},Bi.takeWhile=function(e,t){return e&&e.length?hr(e,oo(t,3)):[]},Bi.tap=function(e,t){return t(e),e},Bi.throttle=function(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new Se(o);return $s(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),Ps(e,t,{leading:n,maxWait:t,trailing:r})},Bi.thru=ds,Bi.toArray=ua,Bi.toPairs=Ba,Bi.toPairsIn=ja,Bi.toPath=function(e){return Us(e)?Mt(e,Ro):aa(e)?[e]:Cr(Do(ya(e)))},Bi.toPlainObject=fa,Bi.transform=function(e,t,i){var n=Us(e),r=n||Ks(e)||la(e);if(t=oo(t,4),null==i){var o=e&&e.constructor;i=r?n?new o:[]:$s(e)&&Ys(o)?ji(Ve(e)):{}}return(r?Tt:vn)(e,(function(e,n,r){return t(i,e,n,r)})),i},Bi.unary=function(e){return Cs(e,1)},Bi.union=es,Bi.unionBy=ts,Bi.unionWith=is,Bi.uniq=function(e){return e&&e.length?ar(e):[]},Bi.uniqBy=function(e,t){return e&&e.length?ar(e,oo(t,2)):[]},Bi.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?ar(e,r,t):[]},Bi.unset=function(e,t){return null==e||lr(e,t)},Bi.unzip=ns,Bi.unzipWith=rs,Bi.update=function(e,t,i){return null==e?e:cr(e,t,mr(i))},Bi.updateWith=function(e,t,i,n){return n="function"==typeof n?n:r,null==e?e:cr(e,t,mr(i),n)},Bi.values=Na,Bi.valuesIn=function(e){return null==e?[]:Yt(e,Ma(e))},Bi.without=os,Bi.words=Ya,Bi.wrap=function(e,t){return Rs(mr(t),e)},Bi.xor=ss,Bi.xorBy=as,Bi.xorWith=ls,Bi.zip=cs,Bi.zipObject=function(e,t){return pr(e||[],t||[],Xi)},Bi.zipObjectDeep=function(e,t){return pr(e||[],t||[],Yn)},Bi.zipWith=hs,Bi.entries=Ba,Bi.entriesIn=ja,Bi.extend=_a,Bi.extendWith=xa,sl(Bi,Bi),Bi.add=yl,Bi.attempt=Ja,Bi.camelCase=Fa,Bi.capitalize=Za,Bi.ceil=vl,Bi.clamp=function(e,t,i){return i===r&&(i=t,t=r),i!==r&&(i=(i=ma(i))==i?i:0),t!==r&&(t=(t=ma(t))==t?t:0),on(ma(e),t,i)},Bi.clone=function(e){return sn(e,4)},Bi.cloneDeep=function(e){return sn(e,5)},Bi.cloneDeepWith=function(e,t){return sn(e,5,t="function"==typeof t?t:r)},Bi.cloneWith=function(e,t){return sn(e,4,t="function"==typeof t?t:r)},Bi.conformsTo=function(e,t){return null==t||an(e,t,Pa(t))},Bi.deburr=qa,Bi.defaultTo=function(e,t){return null==e||e!=e?t:e},Bi.divide=_l,Bi.endsWith=function(e,t,i){e=ya(e),t=sr(t);var n=e.length,o=i=i===r?n:on(pa(i),0,n);return(i-=t.length)>=0&&e.slice(i,o)==t},Bi.eq=Ns,Bi.escape=function(e){return(e=ya(e))&&G.test(e)?e.replace(W,ti):e},Bi.escapeRegExp=function(e){return(e=ya(e))&&ie.test(e)?e.replace(te,"\\$&"):e},Bi.every=function(e,t,i){var n=Us(e)?St:dn;return i&&yo(e,t,i)&&(t=r),n(e,oo(t,3))},Bi.find=ms,Bi.findIndex=qo,Bi.findKey=function(e,t){return Bt(e,oo(t,3),vn)},Bi.findLast=fs,Bi.findLastIndex=Uo,Bi.findLastKey=function(e,t){return Bt(e,oo(t,3),_n)},Bi.floor=xl,Bi.forEach=ys,Bi.forEachRight=vs,Bi.forIn=function(e,t){return null==e?e:fn(e,oo(t,3),Ma)},Bi.forInRight=function(e,t){return null==e?e:yn(e,oo(t,3),Ma)},Bi.forOwn=function(e,t){return e&&vn(e,oo(t,3))},Bi.forOwnRight=function(e,t){return e&&_n(e,oo(t,3))},Bi.get=Ta,Bi.gt=Fs,Bi.gte=Zs,Bi.has=function(e,t){return null!=e&&po(e,t,Tn)},Bi.hasIn=Ca,Bi.head=Ho,Bi.identity=il,Bi.includes=function(e,t,i,n){e=Hs(e)?e:Na(e),i=i&&!n?pa(i):0;var r=e.length;return i<0&&(i=mi(r+i,0)),sa(e)?i<=r&&e.indexOf(t,i)>-1:!!r&&Nt(e,t,i)>-1},Bi.indexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var r=null==i?0:pa(i);return r<0&&(r=mi(n+r,0)),Nt(e,t,r)},Bi.inRange=function(e,t,i){return t=da(t),i===r?(i=t,t=0):i=da(i),function(e,t,i){return e>=fi(t,i)&&e<mi(t,i)}(e=ma(e),t,i)},Bi.invoke=za,Bi.isArguments=qs,Bi.isArray=Us,Bi.isArrayBuffer=Vs,Bi.isArrayLike=Hs,Bi.isArrayLikeObject=Ws,Bi.isBoolean=function(e){return!0===e||!1===e||ea(e)&&kn(e)==y},Bi.isBuffer=Ks,Bi.isDate=Gs,Bi.isElement=function(e){return ea(e)&&1===e.nodeType&&!na(e)},Bi.isEmpty=function(e){if(null==e)return!0;if(Hs(e)&&(Us(e)||"string"==typeof e||"function"==typeof e.splice||Ks(e)||la(e)||qs(e)))return!e.length;var t=uo(e);if(t==w||t==S)return!e.size;if(bo(e))return!On(e).length;for(var i in e)if(Ie.call(e,i))return!1;return!0},Bi.isEqual=function(e,t){return Pn(e,t)},Bi.isEqualWith=function(e,t,i){var n=(i="function"==typeof i?i:r)?i(e,t):r;return n===r?Pn(e,t,r,i):!!n},Bi.isError=Qs,Bi.isFinite=function(e){return"number"==typeof e&&Rt(e)},Bi.isFunction=Ys,Bi.isInteger=Js,Bi.isLength=Xs,Bi.isMap=ta,Bi.isMatch=function(e,t){return e===t||Mn(e,t,ao(t))},Bi.isMatchWith=function(e,t,i){return i="function"==typeof i?i:r,Mn(e,t,ao(t),i)},Bi.isNaN=function(e){return ia(e)&&e!=+e},Bi.isNative=function(e){if(xo(e))throw new be("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ln(e)},Bi.isNil=function(e){return null==e},Bi.isNull=function(e){return null===e},Bi.isNumber=ia,Bi.isObject=$s,Bi.isObjectLike=ea,Bi.isPlainObject=na,Bi.isRegExp=ra,Bi.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=u},Bi.isSet=oa,Bi.isString=sa,Bi.isSymbol=aa,Bi.isTypedArray=la,Bi.isUndefined=function(e){return e===r},Bi.isWeakMap=function(e){return ea(e)&&uo(e)==P},Bi.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==kn(e)},Bi.join=function(e,t){return null==e?"":Vt.call(e,t)},Bi.kebabCase=Ua,Bi.last=Qo,Bi.lastIndexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=n;return i!==r&&(o=(o=pa(i))<0?mi(n+o,0):fi(o,n-1)),t==t?function(e,t,i){for(var n=i+1;n--;)if(e[n]===t)return n;return n}(e,t,o):jt(e,Zt,o,!0)},Bi.lowerCase=Va,Bi.lowerFirst=Ha,Bi.lt=ca,Bi.lte=ha,Bi.max=function(e){return e&&e.length?pn(e,il,An):r},Bi.maxBy=function(e,t){return e&&e.length?pn(e,oo(t,2),An):r},Bi.mean=function(e){return qt(e,il)},Bi.meanBy=function(e,t){return qt(e,oo(t,2))},Bi.min=function(e){return e&&e.length?pn(e,il,Dn):r},Bi.minBy=function(e,t){return e&&e.length?pn(e,oo(t,2),Dn):r},Bi.stubArray=gl,Bi.stubFalse=ml,Bi.stubObject=function(){return{}},Bi.stubString=function(){return""},Bi.stubTrue=function(){return!0},Bi.multiply=bl,Bi.nth=function(e,t){return e&&e.length?Fn(e,pa(t)):r},Bi.noConflict=function(){return ut._===this&&(ut._=je),this},Bi.noop=al,Bi.now=Ts,Bi.pad=function(e,t,i){e=ya(e);var n=(t=pa(t))?ci(e):0;if(!t||n>=t)return e;var r=(t-n)/2;return Zr(pt(r),i)+e+Zr(dt(r),i)},Bi.padEnd=function(e,t,i){e=ya(e);var n=(t=pa(t))?ci(e):0;return t&&n<t?e+Zr(t-n,i):e},Bi.padStart=function(e,t,i){e=ya(e);var n=(t=pa(t))?ci(e):0;return t&&n<t?Zr(t-n,i)+e:e},Bi.parseInt=function(e,t,i){return i||null==t?t=0:t&&(t=+t),vi(ya(e).replace(ne,""),t||0)},Bi.random=function(e,t,i){if(i&&"boolean"!=typeof i&&yo(e,t,i)&&(t=i=r),i===r&&("boolean"==typeof t?(i=t,t=r):"boolean"==typeof e&&(i=e,e=r)),e===r&&t===r?(e=0,t=1):(e=da(e),t===r?(t=e,e=0):t=da(t)),e>t){var n=e;e=t,t=n}if(i||e%1||t%1){var o=_i();return fi(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return Hn(e,t)},Bi.reduce=function(e,t,i){var n=Us(e)?It:Ht,r=arguments.length<3;return n(e,oo(t,4),i,r,hn)},Bi.reduceRight=function(e,t,i){var n=Us(e)?Ot:Ht,r=arguments.length<3;return n(e,oo(t,4),i,r,un)},Bi.repeat=function(e,t,i){return t=(i?yo(e,t,i):t===r)?1:pa(t),Wn(ya(e),t)},Bi.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bi.result=function(e,t,i){var n=-1,o=(t=fr(t,e)).length;for(o||(o=1,e=r);++n<o;){var s=null==e?r:e[Ro(t[n])];s===r&&(n=o,s=i),e=Ys(s)?s.call(e):s}return e},Bi.round=wl,Bi.runInContext=e,Bi.sample=function(e){return(Us(e)?Gi:Gn)(e)},Bi.size=function(e){if(null==e)return 0;if(Hs(e))return sa(e)?ci(e):e.length;var t=uo(e);return t==w||t==S?e.size:On(e).length},Bi.snakeCase=Wa,Bi.some=function(e,t,i){var n=Us(e)?Dt:tr;return i&&yo(e,t,i)&&(t=r),n(e,oo(t,3))},Bi.sortedIndex=function(e,t){return ir(e,t)},Bi.sortedIndexBy=function(e,t,i){return nr(e,t,oo(i,2))},Bi.sortedIndexOf=function(e,t){var i=null==e?0:e.length;if(i){var n=ir(e,t);if(n<i&&Ns(e[n],t))return n}return-1},Bi.sortedLastIndex=function(e,t){return ir(e,t,!0)},Bi.sortedLastIndexBy=function(e,t,i){return nr(e,t,oo(i,2),!0)},Bi.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var i=ir(e,t,!0)-1;if(Ns(e[i],t))return i}return-1},Bi.startCase=Ka,Bi.startsWith=function(e,t,i){return e=ya(e),i=null==i?0:on(pa(i),0,e.length),t=sr(t),e.slice(i,i+t.length)==t},Bi.subtract=kl,Bi.sum=function(e){return e&&e.length?Wt(e,il):0},Bi.sumBy=function(e,t){return e&&e.length?Wt(e,oo(t,2)):0},Bi.template=function(e,t,i){var n=Bi.templateSettings;i&&yo(e,t,i)&&(t=r),e=ya(e),t=xa({},t,n,Qr);var o,s,a=xa({},t.imports,n.imports,Qr),l=Pa(a),c=Yt(a,l),h=0,u=t.interpolate||_e,d="__p += '",p=Te((t.escape||_e).source+"|"+u.source+"|"+(u===J?ue:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),g="//# sourceURL="+(Ie.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nt+"]")+"\n";e.replace(p,(function(t,i,n,r,a,l){return n||(n=r),d+=e.slice(h,l).replace(xe,ii),i&&(o=!0,d+="' +\n__e("+i+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),h=l+t.length,t})),d+="';\n";var m=Ie.call(t,"variable")&&t.variable;if(m){if(ce.test(m))throw new be("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(q,""):d).replace(U,"$1").replace(V,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var f=Ja((function(){return we(l,g+"return "+d).apply(r,c)}));if(f.source=d,Qs(f))throw f;return f},Bi.times=function(e,t){if((e=pa(e))<1||e>u)return[];var i=p,n=fi(e,p);t=oo(t),e-=p;for(var r=Kt(n,t);++i<e;)t(i);return r},Bi.toFinite=da,Bi.toInteger=pa,Bi.toLength=ga,Bi.toLower=function(e){return ya(e).toLowerCase()},Bi.toNumber=ma,Bi.toSafeInteger=function(e){return e?on(pa(e),-9007199254740991,u):0===e?e:0},Bi.toString=ya,Bi.toUpper=function(e){return ya(e).toUpperCase()},Bi.trim=function(e,t,i){if((e=ya(e))&&(i||t===r))return Gt(e);if(!e||!(t=sr(t)))return e;var n=hi(e),o=hi(t);return vr(n,Xt(n,o),$t(n,o)+1).join("")},Bi.trimEnd=function(e,t,i){if((e=ya(e))&&(i||t===r))return e.slice(0,ui(e)+1);if(!e||!(t=sr(t)))return e;var n=hi(e);return vr(n,0,$t(n,hi(t))+1).join("")},Bi.trimStart=function(e,t,i){if((e=ya(e))&&(i||t===r))return e.replace(ne,"");if(!e||!(t=sr(t)))return e;var n=hi(e);return vr(n,Xt(n,hi(t))).join("")},Bi.truncate=function(e,t){var i=30,n="...";if($s(t)){var o="separator"in t?t.separator:o;i="length"in t?pa(t.length):i,n="omission"in t?sr(t.omission):n}var s=(e=ya(e)).length;if(ni(e)){var a=hi(e);s=a.length}if(i>=s)return e;var l=i-ci(n);if(l<1)return n;var c=a?vr(a,0,l).join(""):e.slice(0,l);if(o===r)return c+n;if(a&&(l+=c.length-l),ra(o)){if(e.slice(l).search(o)){var h,u=c;for(o.global||(o=Te(o.source,ya(de.exec(o))+"g")),o.lastIndex=0;h=o.exec(u);)var d=h.index;c=c.slice(0,d===r?l:d)}}else if(e.indexOf(sr(o),l)!=l){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+n},Bi.unescape=function(e){return(e=ya(e))&&K.test(e)?e.replace(H,di):e},Bi.uniqueId=function(e){var t=++Oe;return ya(e)+t},Bi.upperCase=Ga,Bi.upperFirst=Qa,Bi.each=ys,Bi.eachRight=vs,Bi.first=Ho,sl(Bi,(fl={},vn(Bi,(function(e,t){Ie.call(Bi.prototype,t)||(fl[t]=e)})),fl),{chain:!1}),Bi.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bi[e].placeholder=Bi})),Tt(["drop","take"],(function(e,t){Zi.prototype[e]=function(i){i=i===r?1:mi(pa(i),0);var n=this.__filtered__&&!t?new Zi(this):this.clone();return n.__filtered__?n.__takeCount__=fi(i,n.__takeCount__):n.__views__.push({size:fi(i,p),type:e+(n.__dir__<0?"Right":"")}),n},Zi.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var i=t+1,n=1==i||3==i;Zi.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:i}),t.__filtered__=t.__filtered__||n,t}})),Tt(["head","last"],(function(e,t){var i="take"+(t?"Right":"");Zi.prototype[e]=function(){return this[i](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var i="drop"+(t?"":"Right");Zi.prototype[e]=function(){return this.__filtered__?new Zi(this):this[i](1)}})),Zi.prototype.compact=function(){return this.filter(il)},Zi.prototype.find=function(e){return this.filter(e).head()},Zi.prototype.findLast=function(e){return this.reverse().find(e)},Zi.prototype.invokeMap=Kn((function(e,t){return"function"==typeof e?new Zi(this):this.map((function(i){return En(i,e,t)}))})),Zi.prototype.reject=function(e){return this.filter(Os(oo(e)))},Zi.prototype.slice=function(e,t){e=pa(e);var i=this;return i.__filtered__&&(e>0||t<0)?new Zi(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==r&&(i=(t=pa(t))<0?i.dropRight(-t):i.take(t-e)),i)},Zi.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Zi.prototype.toArray=function(){return this.take(p)},vn(Zi.prototype,(function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Bi[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);o&&(Bi.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,l=t instanceof Zi,c=a[0],h=l||Us(t),u=function(e){var t=o.apply(Bi,Lt([e],a));return n&&d?t[0]:t};h&&i&&"function"==typeof c&&1!=c.length&&(l=h=!1);var d=this.__chain__,p=!!this.__actions__.length,g=s&&!d,m=l&&!p;if(!s&&h){t=m?t:new Zi(this);var f=e.apply(t,a);return f.__actions__.push({func:ds,args:[u],thisArg:r}),new Fi(f,d)}return g&&m?e.apply(this,a):(f=this.thru(u),g?n?f.value()[0]:f.value():f)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ee[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Bi.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var r=this.value();return t.apply(Us(r)?r:[],e)}return this[i]((function(i){return t.apply(Us(i)?i:[],e)}))}})),vn(Zi.prototype,(function(e,t){var i=Bi[t];if(i){var n=i.name+"";Ie.call(Ei,n)||(Ei[n]=[]),Ei[n].push({name:t,func:i})}})),Ei[Br(r,2).name]=[{name:"wrapper",func:r}],Zi.prototype.clone=function(){var e=new Zi(this.__wrapped__);return e.__actions__=Cr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Cr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Cr(this.__views__),e},Zi.prototype.reverse=function(){if(this.__filtered__){var e=new Zi(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Zi.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=Us(e),n=t<0,r=i?e.length:0,o=function(e,t,i){for(var n=-1,r=i.length;++n<r;){var o=i[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=fi(t,e+s);break;case"takeRight":e=mi(e,t-s)}}return{start:e,end:t}}(0,r,this.__views__),s=o.start,a=o.end,l=a-s,c=n?a:s-1,h=this.__iteratees__,u=h.length,d=0,p=fi(l,this.__takeCount__);if(!i||!n&&r==l&&p==l)return ur(e,this.__actions__);var g=[];e:for(;l--&&d<p;){for(var m=-1,f=e[c+=t];++m<u;){var y=h[m],v=y.iteratee,_=y.type,x=v(f);if(2==_)f=x;else if(!x){if(1==_)continue e;break e}}g[d++]=f}return g},Bi.prototype.at=ps,Bi.prototype.chain=function(){return us(this)},Bi.prototype.commit=function(){return new Fi(this.value(),this.__chain__)},Bi.prototype.next=function(){this.__values__===r&&(this.__values__=ua(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Bi.prototype.plant=function(e){for(var t,i=this;i instanceof Ni;){var n=jo(i);n.__index__=0,n.__values__=r,t?o.__wrapped__=n:t=n;var o=n;i=i.__wrapped__}return o.__wrapped__=e,t},Bi.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Zi){var t=e;return this.__actions__.length&&(t=new Zi(this)),(t=t.reverse()).__actions__.push({func:ds,args:[$o],thisArg:r}),new Fi(t,this.__chain__)}return this.thru($o)},Bi.prototype.toJSON=Bi.prototype.valueOf=Bi.prototype.value=function(){return ur(this.__wrapped__,this.__actions__)},Bi.prototype.first=Bi.prototype.head,Qe&&(Bi.prototype[Qe]=function(){return this}),Bi}();ut._=pi,(n=function(){return pi}.call(t,i,t,e))===r||(e.exports=n)}.call(this)},836:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,i){return 0===e&&0===i?1/e==1/i:e===i||!(!t(e)||!t(i))}},3822:(e,t,i)=>{"use strict";var n=i(7392),r=i(4573),o=i(836),s=i(1800),a=i(7894),l=r(s(),Object);n(l,{getPolyfill:s,implementation:o,shim:a}),e.exports=l},1800:(e,t,i)=>{"use strict";var n=i(836);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},7894:(e,t,i)=>{"use strict";var n=i(1800),r=i(7392);e.exports=function(){var e=n();return r(Object,{is:e},{is:function(){return Object.is!==e}}),e}},9538:(e,t,i)=>{"use strict";var n;if(!Object.keys){var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=i(1030),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,i="[object Function]"===o.call(e),n=s(e),a=t&&"[object String]"===o.call(e),d=[];if(!t&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var g=c&&i;if(a&&e.length>0&&!r.call(e,0))for(var m=0;m<e.length;++m)d.push(String(m));if(n&&e.length>0)for(var f=0;f<e.length;++f)d.push(String(f));else for(var y in e)g&&"prototype"===y||!r.call(e,y)||d.push(String(y));if(l)for(var v=function(e){if("undefined"==typeof window||!p)return u(e);try{return u(e)}catch(e){return!1}}(e),_=0;_<h.length;++_)v&&"constructor"===h[_]||!r.call(e,h[_])||d.push(h[_]);return d}}e.exports=n},4733:(e,t,i)=>{"use strict";var n=Array.prototype.slice,r=i(1030),o=Object.keys,s=o?function(e){return o(e)}:i(9538),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return r(e)?a(n.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},1030:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var i=t.call(e),n="[object Arguments]"===i;return n||(n="[object Array]"!==i&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},5752:(e,t,i)=>{"use strict";var n=i(4733),r=i(8186)(),o=i(2737),s=Object,a=o("Array.prototype.push"),l=o("Object.prototype.propertyIsEnumerable"),c=r?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var i=s(e);if(1===arguments.length)return i;for(var o=1;o<arguments.length;++o){var h=s(arguments[o]),u=n(h),d=r&&(Object.getOwnPropertySymbols||c);if(d)for(var p=d(h),g=0;g<p.length;++g){var m=p[g];l(h,m)&&a(u,m)}for(var f=0;f<u.length;++f){var y=u[f];if(l(h,y)){var v=h[y];i[y]=v}}}return i}},1028:(e,t,i)=>{"use strict";var n=i(5752);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),i={},n=0;n<t.length;++n)i[t[n]]=t[n];var r=Object.assign({},i),o="";for(var s in r)o+=s;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},7061:e=>{var t,i,n=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var a,l=[],c=!1,h=-1;function u(){c&&a&&(c=!1,a.length?l=a.concat(l):h=-1,l.length&&d())}function d(){if(!c){var e=s(u);c=!0;for(var t=l.length;t;){for(a=l,l=[];++h<t;)a&&a[h].run();h=-1,t=l.length}a=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},504:(e,t,i)=>{"use strict";var n=i(8750),r=i(6300),o=i(1365)(),s=i(7502),a=n("%TypeError%"),l=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in e&&s){var h=s(e,"length");h&&!h.configurable&&(n=!1),h&&!h.writable&&(c=!1)}return(n||c||!i)&&(o?r(e,"length",t,!0,!0):r(e,"length",t)),e}},6579:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},7673:(e,t,i)=>{"use strict";var n=i(7740),r=i(8265),o=i(2505),s=i(387);function a(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,h=a(Object.prototype.toString),u=a(Number.prototype.valueOf),d=a(String.prototype.valueOf),p=a(Boolean.prototype.valueOf);if(l)var g=a(BigInt.prototype.valueOf);if(c)var m=a(Symbol.prototype.valueOf);function f(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===h(e)}function v(e){return"[object Set]"===h(e)}function _(e){return"[object WeakMap]"===h(e)}function x(e){return"[object WeakSet]"===h(e)}function b(e){return"[object ArrayBuffer]"===h(e)}function w(e){return"undefined"!=typeof ArrayBuffer&&(b.working?b(e):e instanceof ArrayBuffer)}function k(e){return"[object DataView]"===h(e)}function A(e){return"undefined"!=typeof DataView&&(k.working?k(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=r,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||A(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},y.working="undefined"!=typeof Map&&y(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(v.working?v(e):e instanceof Set)},_.working="undefined"!=typeof WeakMap&&_(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(_.working?_(e):e instanceof WeakMap)},x.working="undefined"!=typeof WeakSet&&x(new WeakSet),t.isWeakSet=function(e){return x(e)},b.working="undefined"!=typeof ArrayBuffer&&b(new ArrayBuffer),t.isArrayBuffer=w,k.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&k(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=A;var T="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function C(e){return"[object SharedArrayBuffer]"===h(e)}function S(e){return void 0!==T&&(void 0===C.working&&(C.working=C(new T)),C.working?C(e):e instanceof T)}function E(e){return f(e,u)}function z(e){return f(e,d)}function P(e){return f(e,p)}function M(e){return l&&f(e,g)}function L(e){return c&&f(e,m)}t.isSharedArrayBuffer=S,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===h(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===h(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===h(e)},t.isGeneratorObject=function(e){return"[object Generator]"===h(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===h(e)},t.isNumberObject=E,t.isStringObject=z,t.isBooleanObject=P,t.isBigIntObject=M,t.isSymbolObject=L,t.isBoxedPrimitive=function(e){return E(e)||z(e)||P(e)||M(e)||L(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(w(e)||S(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},1323:(e,t,i)=>{var n=i(7061),r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++)i[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return i},o=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(c(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,r=n.length,s=String(e).replace(o,(function(e){if("%%"===e)return"%";if(i>=r)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e}})),a=n[i];i<r;a=n[++i])y(a)||!w(a)?s+=" "+a:s+=" "+c(a);return s},t.deprecate=function(e,i){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),r=!0}return e.apply(this,arguments)}};var s={},a=/^$/;if(n.env.NODE_DEBUG){var l=n.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i")}function c(e,i){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(i)?n.showHidden=i:i&&t._extend(n,i),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=h),d(n,e,n.depth)}function h(e,t){var i=c.styles[t];return i?"["+c.colors[i][0]+"m"+e+"["+c.colors[i][1]+"m":e}function u(e,t){return e}function d(e,i,n){if(e.customInspect&&i&&T(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return _(r)||(r=d(e,r,n)),r}var o=function(e,t){if(x(t))return e.stylize("undefined","undefined");if(_(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return v(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,i);if(o)return o;var s=Object.keys(i),a=function(e){var t={};return e.forEach((function(e,i){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(i)),A(i)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(i);if(0===s.length){if(T(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(b(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(k(i))return e.stylize(Date.prototype.toString.call(i),"date");if(A(i))return p(i)}var c,h="",u=!1,w=["{","}"];return m(i)&&(u=!0,w=["[","]"]),T(i)&&(h=" [Function"+(i.name?": "+i.name:"")+"]"),b(i)&&(h=" "+RegExp.prototype.toString.call(i)),k(i)&&(h=" "+Date.prototype.toUTCString.call(i)),A(i)&&(h=" "+p(i)),0!==s.length||u&&0!=i.length?n<0?b(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),c=u?function(e,t,i,n,r){for(var o=[],s=0,a=t.length;s<a;++s)z(t,String(s))?o.push(g(e,t,i,n,String(s),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(g(e,t,i,n,r,!0))})),o}(e,i,n,a,s):s.map((function(t){return g(e,i,n,a,t,u)})),e.seen.pop(),function(e,t,i){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}(c,h,w)):w[0]+h+w[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,i,n,r,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),z(n,r)||(s="["+r+"]"),a||(e.seen.indexOf(l.value)<0?(a=y(i)?d(e,l.value,null):d(e,l.value,i-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),x(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function m(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return"number"==typeof e}function _(e){return"string"==typeof e}function x(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===C(e)}function w(e){return"object"==typeof e&&null!==e}function k(e){return w(e)&&"[object Date]"===C(e)}function A(e){return w(e)&&("[object Error]"===C(e)||e instanceof Error)}function T(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(a.test(e)){var i=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else s[e]=function(){};return s[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=i(7673),t.isArray=m,t.isBoolean=f,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=_,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=x,t.isRegExp=b,t.types.isRegExp=b,t.isObject=w,t.isDate=k,t.types.isDate=k,t.isError=A,t.types.isNativeError=A,t.isFunction=T,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(6579);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,i;console.log("%s - %s",(i=[S((e=new Date).getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":"),[e.getDate(),E[e.getMonth()],i].join(" ")),t.format.apply(t,arguments))},t.inherits=i(87),t._extend=function(e,t){if(!t||!w(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var i=new Error("Promise was rejected with a falsy value");i.reason=e,e=i}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,i,n=new Promise((function(e,n){t=e,i=n})),r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);r.push((function(e,n){e?i(e):t(n)}));try{e.apply(this,r)}catch(e){i(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=P,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);var r=t.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return r.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(s.bind(null,null,e))}),(function(e){n.nextTick(M.bind(null,e,s))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}},2505:(e,t,i)=>{"use strict";var n=i(5278),r=i(973),o=i(4573),s=i(2737),a=i(7502),l=s("Object.prototype.toString"),c=i(698)(),h="undefined"==typeof globalThis?global:globalThis,u=r(),d=s("String.prototype.slice"),p=Object.getPrototypeOf,g=s("Array.prototype.indexOf",!0)||function(e,t){for(var i=0;i<e.length;i+=1)if(e[i]===t)return i;return-1},m={__proto__:null};n(u,c&&a&&p?function(e){var t=new h[e];if(Symbol.toStringTag in t){var i=p(t),n=a(i,Symbol.toStringTag);if(!n){var r=p(i);n=a(r,Symbol.toStringTag)}m["$"+e]=o(n.get)}}:function(e){var t=new h[e],i=t.slice||t.set;i&&(m["$"+e]=o(i))}),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!c){var t=d(l(e),8,-1);return g(u,t)>-1?t:"Object"===t&&function(e){var t=!1;return n(m,(function(i,n){if(!t)try{i(e),t=d(n,1)}catch(e){}})),t}(e)}return a?function(e){var t=!1;return n(m,(function(i,n){if(!t)try{"$"+i(e)===n&&(t=d(n,1))}catch(e){}})),t}(e):null}},3491:(e,t,i)=>{e.exports=i(6411).l3.imageDataFromBase64("iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAq0lEQVQ4T52MCQ4DIQwD+Ubf0f+/rY2X0J2GcO1IlgAPLo33q3wUv05pbhZXKsMigW6M1ff/pFxxDcBnKhyEuARu73OM8XoIvP1RxZUUOGejimsd6M9HFVf/QDcftevvHFPtG7yvR+Mbo66Bt71RwXfG62ejgh3Dzo5no4J9FlPORwWdGKufjQp6jFXPRwXd6Z+lEKDf/Ykl48qQ4G6Pbg/bsXPbY5Yd4JbyBTJKDw3yWqWfAAAAAElFTkSuQmCC")},3738:(e,t,i)=>{e.exports=i(6411).l3.imageDataFromBase64("iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAW5vUEUAYtdMlAAAAARub1BFAAAAAEEgjiIAAAAJbm9QRQAAAAAAAAAAAKGKctUAAAE4SURBVChTfZFNS8NAEIbfbrLpbto0ba0KWqTYQg89CMUKghf/mb/MkyB40IOIHxfRSimWSkNtkzTZrMlYbzUPzO7szs7wziy6g3PNnIY26/u60z/TKcgzZnIDGUIIqFiRnweLIwXGi3SwioL2PJglinCrLoIggFLR+vp/2CoIEab2x17vWK/djVAPKlqBGww68jEZDXOT2PJ7gUglZEnBAk/7mYzHaLR7G5NYtmTVsynZ5RJsx6HAcj7fmGQyvaLqYeCBGSY9zJIzatU6yeufnOLu6hLakmAFLiloOy4aO7s4aHXobKXfI0tlknd7c43u0QCfr88wtpvti0THWKS9eLMpmq1DyHTU3N3Cx/AdJVugUq7Am4ww+5r+TskSkmToKMTL4z2ElHh7ekBicpLl1mrwfR+tThc/Sc6HTgcfco4AAAAASUVORK5CYII=")},7924:(e,t,i)=>{e.exports=i(6411).l3.imageDataFromBase64("iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAAW5vUEUAYtdMlAAAAARub1BFAAAAAEEgjiIAAABmUExURQwaIxMiKhsrNCItNSs6RCMyPCg1Px8KCRolLCsODTQRDzNDTREdJEQaFkIUEzsTEgkVHEoVFEsaFUwcGlIeGjwZFVEkI2mAjXOLl2B2g1pvey09SBMYHFRmcRMlMDlLVyM6RgQSG8bROHQAAAAJbm9QRQAAAAAAAAAAAKGKctUAAABzSURBVBhXNcnbFsIgDETRtI3FIKSQBPBe/f+fFHE5T2evAYBpXhDxsODae3X/wRGdI0/kPXk4hd6Rt8iRISTnOYuIqkFKVNiymKl+sbGJZYvj8cKqVcfjiGNW5fpDabWUer4MtPlaarthx/0xT8+9vd7hA+tIB9rzLA2SAAAAAElFTkSuQmCC")},1123:(e,t,i)=>{e.exports=i(6411).l3.imageDataFromBase64("iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAMAAAAcqPc3AAAAAW5vUEUAYtdMlAAAAARub1BFAAAAAEEgjiIAAAFKUExURQAAABkqMxIdIxMiKgQSGwINFAIVIUFTXyQyPAkVHRIgKCYtNUAJBn4xGKUyKNBaSj4JBicuNhMlMAwaIxEcISEnLz8IBe/FY+mcV8ZPQj8JByAkKBwwPGEKBJYlHeGQSP7KXEAKBzlLVyEmKzYGBYgaFNWDOvy/SSEuOTE6Q0sKB2sKB811Kvy0NXIKBgwYHjNDTQMJDBsnL0BETGMLCX4PCcVpG/upI2IMCgMDBBgmLzU5QWIKCJYwCPqgEr9eDjU9Ris6RAYMDxYiKWUWDWQWDTM5QDpOWixBTRwoMDE0OlsMDVoMDSsxOQcVHl1xfS09SAYNEBgkKlsLDCsuNUBQWg8dJic1QRItOwYRGDExNlwLDDY9RjlIUlNmcQweKSYuNTQ+RkxeagEFC0daZSM6RgoiLhokKktgbAIbJwQQFgwRFRMdIwAAAMy8RMYAAABudFJOU/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AoAU8MwAAAAlub1BFAAAAAAAAAAAAoYpy1QAAAa1JREFUKFMlkf9T00AQxe+ye/QWbdA8FdBr0GihWmgStYjWggWVICj1Wyl+i4opWvX//9VjfPNmduYzO/vezKq/OiDNZqZmZfbc+Xo4NxfWL1ycVRGTZXDN4tLlK/X5hcXFhfn61WuKyRkJ/uNGvHR9yTtu3FBwLJzYQG7eajTDcHllZTkMmw1lhdnUWmJu32k343h1bW01jpsdZVKBQYb87r37ne76g3XvbmdDsYAYyOTho97j/uZWt7u12d94ooRhWCgbpNs7vaf9jlf/2fNdZQFf05ItsL33Yr/tdfBy95WyTpPVdOh4iNdvem8b7YN370es7JCgB4dHGFMhx3sfPu5/+jyCVrnWMF9KcQxd4Hjn67fvIzitTiTTPyJUgWGKCuSScemQK2bKHFXMKYHLISWAx4ECs05kAi8GnSaYWOSoVIkJbJUlw2rA3KoxjoI8qCI1LlFGtUIDlOifAXwEKg3lyplfhSNMzFQnZ/l5WkWcqnFVFQ4li8lzgaVcrAafKn+FzjKn/jvsKP+dkoj1nCBIxQgk8k3EU9GBUX5Mp2yMYb9tTJoSt/6cmH+D5EJZGWljEQAAAABJRU5ErkJggg==")},3720:(e,t,i)=>{e.exports=i(6411).l3.imageDataFromBase64("iVBORw0KGgoAAAANSUhEUgAAAAwAAAAHCAIAAACz0DtzAAAAAW5vUEUAYtdMlAAAAARub1BFAAAAAEEgjiIAAAAJbm9QRQAAAAAAAAAAAKGKctUAAADVSURBVChTY5zQWSYsJLZl6xYWZtY/f39fuXaDgYGBjYX515+/fDy8P358AzJAip4/f6mjrbt3376PHz8AVfz99wdIQgAzEwuQywThXLl62dnJiY2NDSjEy80vJCgCJIGIn18AyAYpsnP2sbRxA6rz8fYBcoGWfv/+DUhCGEARxr72skuXrrx4eE/fzBzIB9q7eu0qIAMCINYxa6gp/fzxnUdA8OvXb0B0//797z9AuiEqgNYBuYwJkV6/f4FMhkgAgaiIMCc72+9/v//8/s/Cyvjn938ASgxr+1oDceAAAAAASUVORK5CYII=")},5615:(e,t,i)=>{e.exports=i(6411).l3.imageDataFromBase64("iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAAW5vUEUAYtdMlAAAAARub1BFAAAAAEEgjiIAAAAJbm9QRQAAAAAAAAAAAKGKctUAAAEmSURBVChTTZDJSgNBEIZ7melk9kFRRk0i+ALe9OojePMJvXnw7FkQvXkRNzwFFEVISDJLT3ePf9uDsSh+vir+ql7o5cX5zfUVIeT+7lakKYAzTwgB8LivdGs7s+lDsTeCI9sufM/vTKeNAkgpa1kp1SLZ4dExHJs7Y8whsyzHaBCEPQxDuylhTbF/kKXx1/enbBu0MAoty1XXGcf07PQkzzfeP6aT0Rj1/1iuqjgKANaE5fP57PHpRWnjceZUDKKyXLhybXp+fZvsbmFOGeIxMgyTulyAGaMMr/jdTYTHO8rR5dzqcmkdCGM6FgYRyKkYCDgAcZwAEHYNEt/VyhYqlZZNv7WqSgeUMiRzxV/g2T0RorWGomPv5Au/qtejDhA4DheglP0Aa2SQg761+aoAAAAASUVORK5CYII=")},5190:(e,t,i)=>{e.exports=i(6411).l3.imageDataFromBase64("iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB00lEQVQ4T6WTsWvbUBDGP4MHZegf4S0uZLChQ7QlkKHOlECXGjzUY8dAps6dsmYqmYrJ1GQIOENAHgzq0GIPLWRUIIFnsOG9QaCDCBru7j3ZMZmaWyQ97n7f3XdPtdZm4x9eETUGnHw9wmxmYBYOeASiN5EiS5IHlSsKj/xNsHmB028XEMCX4z6yzMDmFkSEqB5JkkQ9qkABwznWWVxcTxXQ7x3CGLMs8ooMIQIi31AA8xmLDW884POnQ2QMIMLZeSJC3Q+7kOq66g4uUz0/iOXYLAyS8a120P3YgZ1bST77PqzmZgiLDy4VyrG/F8tIJrdIRh7Q73WQ3RstJMKPK1UL6lXxToyC5QE4BoQOGODmFianyrDhjYf46t3ttgAL7y3nJ79XOjDGwuVOXQeQjFJZX+Q9iN+1FVUSinKtg+CB4/ZKQjKeANio5taXAnHrrRRzzJxF+vOFDniuMH+81ZDX9E9WwVrNBlAWYLFnWzD3usb0lwLaLU5cGjmZKqTZbIBQwM0JafCA15U9GClgSPCBC9gDvlDBPNkUd2BXAJ3323ALpzexRDVnmF2LlpbIVbaE6d9MLxK3yz+HJMqa/K7WbCROqbZAyO6MAm7v9BL9TzwBIN4z8nZ7bgEAAAAASUVORK5CYII=")},973:e=>{"use strict";var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?global:globalThis;e.exports=function(){for(var e=[],n=0;n<t.length;n++)"function"==typeof i[t[n]]&&(e[e.length]=t[n]);return e}}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};return(()=>{"use strict";var e;i.r(n),function(e){function t(e,t=(()=>null)){let i=localStorage.getItem(e);return null==i?t():JSON.parse(i)}function i(e,t){localStorage.setItem(e,JSON.stringify(t))}e.get=t,e.set=i,e.Variable=class{constructor(e,i){this.key=e,this.value=null,this.value=t(e,i)}get(){return this.value}set(e){this.value=e,i(this.key,e)}map(e){let t=this.get(),i=e(this.get());null==i&&(i=t),this.set(i)}save(){i(this.key,this.value)}}}(e||(e={}));class t{constructor(e){this._modal=$(`#${e}`),this._modal.on("shown.bs.modal",(()=>{this.shown()})),this._modal.on("hidden.bs.modal",(()=>{this.hidden()}))}shown(){}hidden(){}show(){return this._modal.modal("show"),new Promise((e=>{let t=()=>{e(),this._modal.off("hidden.bs.modal",t)};this._modal.on("hidden.bs.modal",t)}))}hide(){this._modal.modal("hide")}}class r{constructor(e=new Map){this.templates=e}with(e){let t=this.copy();for(let i in e)t.templates.set(i,e[i]);return t}withSingle(e,t){let i=this.copy();return i.templates.set(e,t),i}resolve(e,t=100){if(t<=0)return e;let i=e.indexOf("{{"),n=e.indexOf("}}",i);if(i<0||n<0)return e;let r=e.substring(i+2,n).split(" "),o=r[0].toLowerCase(),s=this.templates.get(o),a=s?s(r.slice(1)):`UNKNOWN(${o})`,l=e.slice(0,i)+a+e.slice(n+2);return this.resolve(l,t-1)}copy(){return new r(new Map(this.templates))}}var o,s=i(9344);!function(e){e.toCoords=function(e){return{x:2440+Math.round((60*e.longitude.degrees+e.longitude.minutes)*("west"==e.longitude.direction?-1:1)/1.875),y:3161+Math.round((60*e.latitude.degrees+e.latitude.minutes)*("south"==e.latitude.direction?-1:1)/1.875),level:0}},e.toString=function(e){return`${e.latitude.degrees}&deg;${e.latitude.minutes}' ${"north"==e.latitude.direction?"N":"S"}, ${e.longitude.degrees}&deg;${e.longitude.minutes}' ${"east"==e.longitude.direction?"E":"W"}`}}(o||(o={}));var a,l,h,u,d,p,g,m=i(8784);!function(e){let t;function i(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function n(e,t){return e[t]}function r(e,t){return[e[0][t],e[1][t],e[2][t]]}!function(e){e.toVector2=function(e){return{x:e[0],y:e[1]}},e.position=function(e){return[e.x,e.y,1]},e.direction=function(e){return[e.x,e.y,0]}}(t=e.Vector3||(e.Vector3={})),e.translation=function(e){return[[1,0,e.x],[0,1,e.y],[0,0,1]]},e.rotation=function(e){let t=e*Math.PI/2;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},e.scale=function(e){return[[e.x,0,0],[0,e.y,0],[0,0,1]]},e.mirror_x=function(){return[[-1,0,0],[0,1,0],[0,0,1]]},e.mirror_y=function(){return[[1,0,0],[0,-1,0],[0,0,1]]},e.row=n,e.col=r,e.mult=function(e,t){return[0,1,2].map((o=>[0,1,2].map((s=>i(n(e,o),r(t,s))))))},e.apply=function(e,t){return[i(n(e,0),t),i(n(e,1),t),i(n(e,2),t)]},e.identity=function(){return[[1,0,0],[0,1,0],[0,0,1]]}}(a||(a={})),function(e){function t(e,t){return{x:t.x*e,y:t.y*e}}function i(e){return Math.sqrt(n(e))}function n(e){return e.x*e.x+e.y*e.y}function r(e,t=1){return{x:Math.round(e.x/t)*t,y:Math.round(e.y/t)*t}}e.add=function(...e){return{x:e.map((e=>e.x)).reduce(((e,t)=>e+t),0),y:e.map((e=>e.y)).reduce(((e,t)=>e+t),0)}},e.sub=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.mul=function(e,t){return{x:e.x*t.x,y:e.y*t.y}},e.neg=function(e){return{x:-e.x,y:-e.y}},e.scale=t,e.length=i,e.lengthSquared=n,e.normalize=function(e){return t(1/i(e),e)},e.sign=function(e){return{x:Math.sign(e.x),y:Math.sign(e.y)}},e.rotate=function(e,t){let i=Math.sin(t),n=Math.cos(t);return{x:n*e.x-i*e.y,y:i*e.x+n*e.y}},e.eq=function(e,t){return e.x==t.x&&e.y==t.y},e.manhatten=function(e){return Math.abs(e.x)+Math.abs(e.y)},e.max_axis=function(e){return Math.max(Math.abs(e.x),Math.abs(e.y))},e.min_axis=function(e){return Math.min(Math.abs(e.x),Math.abs(e.y))},e.toLatLong=function(e){return s.latLng(e.y,e.x)},e.fromLatLong=function(e){return{x:e.lng,y:e.lat}},e.toPoint=function(e){return s.point(e.x,e.y)},e.copy=function(e){return{x:e.x,y:e.y}},e.snap=r,e.transform=function(e,t){let i=a.apply(t,[e.x,e.y,0]);return{x:i[0],y:i[1]}},e.transform_point=function(e,t){let i=a.apply(t,[e.x,e.y,1]);return r({x:i[0],y:i[1]},.5)},e.abs=function(e){return{x:Math.abs(e.x),y:Math.abs(e.y)}},e.toString=function(e){return`${e.x}|${e.y}`},e.hash=function(e,t=64){return Math.floor(Math.abs((e.x^e.y)%t))}}(l||(l={})),function(e){function t(e,t){return{topleft:{x:Math.min(e.topleft.x,t.x),y:Math.max(e.topleft.y,t.y)},botright:{x:Math.max(e.botright.x,t.x),y:Math.min(e.botright.y,t.y)}}}e.from=function(...e){return 0==(e=e.filter(m.identity)).length?null:{topleft:{x:Math.min(...e.map((e=>e.x))),y:Math.max(...e.map((e=>e.y)))},botright:{x:Math.max(...e.map((e=>e.x))),y:Math.min(...e.map((e=>e.y)))}}},e.containsTile=function(e,t){return e.topleft.x-.5<=t.x&&e.topleft.y+.5>=t.y&&e.botright.x+.5>=t.x&&e.botright.y-.5<=t.y},e.contains=function(e,t){return e.topleft.x<=t.x&&e.topleft.y>=t.y&&e.botright.x>=t.x&&e.botright.y<=t.y},e.extend=function(e,t){return{topleft:l.add(e.topleft,{x:-t,y:t}),botright:l.add(e.botright,{x:t,y:-t})}},e.clampInto=function(e,t){return{x:(0,m.clamp)(e.x,t.topleft.x,t.botright.x),y:(0,m.clamp)(e.y,t.botright.y,t.topleft.y)}},e.center=function(e,t=!0){let i={x:(e.topleft.x+e.botright.x)/2,y:(e.topleft.y+e.botright.y)/2};return t?l.snap(i):i},e.toBounds=function(e){let t=s.point(e.topleft),i=s.point(e.botright);return s.bounds(t,i)},e.left=function(e){return{topleft:{x:e.topleft.x,y:e.topleft.y},botright:{x:e.topleft.x,y:e.botright.y}}},e.right=function(e){return{topleft:{x:e.botright.x,y:e.topleft.y},botright:{x:e.botright.x,y:e.botright.y}}},e.top=function(e){return{topleft:{x:e.topleft.x,y:e.topleft.y},botright:{x:e.botright.x,y:e.topleft.y}}},e.bottom=function(e){return{topleft:{x:e.topleft.x,y:e.botright.y},botright:{x:e.botright.x,y:e.botright.y}}},e.topRight=function(e){return{x:e.botright.x,y:e.topleft.y}},e.bottomLeft=function(e){return{x:e.topleft.x,y:e.botright.y}},e.topLeft=function(e){return{x:e.topleft.x,y:e.topleft.y}},e.bottomRight=function(e){return{x:e.botright.x,y:e.botright.y}},e.tileWidth=function(e){return e.botright.x-e.topleft.x+1},e.tileHeight=function(e){return e.topleft.y-e.botright.y+1},e.width=function(e){return e.botright.x-e.topleft.x},e.height=function(e){return e.topleft.y-e.botright.y},e.extendTo=t,e.extendToRect=function(e,i){return t(t(e,i.topleft),i.botright)},e.combine=function(...t){return e.from(...t.flatMap((e=>e?[e.topleft,e.botright]:[])))},e.translate=function(e,t){return{topleft:l.add(e.topleft,t),botright:l.add(e.botright,t)}},e.transform=function(t,i){return e.from(l.transform_point(t.topleft,i),l.transform_point(t.botright,i))},e.overlaps=function(e,t){return e.topleft.x<=t.botright.x&&e.botright.x>=t.topleft.x&&e.botright.y<=t.topleft.y&&e.topleft.y>=t.botright.y},e.centeredOn=function(e,t){return{topleft:l.add(e,{x:-t,y:t}),botright:l.add(e,{x:t,y:-t})}},e.equals=function(e,t){return e==t||!!e&&!!t&&l.eq(e.topleft,t.topleft)&&l.eq(e.botright,t.botright)},e.containsRect=function(t,i){return e.containsTile(t,i.topleft)&&e.containsTile(t,i.botright)}}(h||(h={})),function(e){function t(e){return(0,m.isArray)(e)?{matrix:e,level_offset:0}:e}function i(e,t=0){return{matrix:e,level_offset:t}}function n(e,n){let r=t(e),o=t(n);return i(a.mult(r.matrix,o.matrix),r.level_offset+o.level_offset)}function r(){return{matrix:a.identity(),level_offset:0}}e.normalize=t,e.lift=i,e.mult=n,e.chain=function(...e){let t=r();for(let i of e)t=n(t,i);return t},e.translation=function(e,t){return{matrix:a.translation(e),level_offset:t}},e.identity=r}(u||(u={})),function(e){function t(e,t){return l.eq(e,t)&&e.level==t.level}function i(e,t){return{...e,level:t}}e.eq=t,e.eq2=function(e,i){return null!=e&&null!=i&&(e==i||t(e,i))},e.lift=i,e.move=function(e,t){return{x:e.x+t.x,y:e.y+t.y,level:e.level}},e.toString=function(e){return`${e.x} | ${e.y} | ${e.level}`},e.snap=function(e){return{x:Math.round(e.x),y:Math.round(e.y),level:e.level}},e.distance=function(e,t){return l.max_axis(l.sub(e,t))},e.transform=function(e,t){let n=u.normalize(t);return i(l.transform_point(e,n.matrix),g.clamp(e.level+n.level_offset))},e.chunk=function(e){return{x:Math.floor(e.x/64),y:Math.floor(e.y/64)}}}(d||(d={})),function(e){function t(e,t){return{...e,level:t}}e.contains=function(e,t){return t.level==e.level&&h.containsTile(e,t)},e.containsCoords=function(e,t){return t.level==e.level&&h.contains(e,t)},e.clampInto=function(e,t){return d.lift(h.clampInto(e,t),e.level)},e.extend=function(e,i){return t(h.extend(e,i),e.level)},e.tl=function(e){return d.lift(e.topleft,e.level)},e.br=function(e){return d.lift(e.botright,e.level)},e.tr=function(e){return d.lift(h.topRight(e),e.level)},e.bl=function(e){return d.lift(h.bottomLeft(e),e.level)},e.center=function(e,t=!0){return d.lift(h.center(e,t),e.level)},e.fromTile=function(e){return e?{level:e.level,topleft:{x:e.x,y:e.y},botright:{x:e.x,y:e.y}}:null},e.isTile=function(e){return l.eq(e.topleft,e.botright)},e.lift=t,e.left=function(e){return t(h.left(e),e.level)},e.right=function(e){return t(h.right(e),e.level)},e.top=function(e){return t(h.top(e),e.level)},e.bottom=function(e){return t(h.bottom(e),e.level)},e.from=function(...e){return t(h.from(...e),Math.min(...e.map((e=>e.level))))},e.extendTo=function(e,i){return t(h.extendTo(e,i),e.level)},e.extendToRect=function(e,i){return t(h.extendToRect(e,i),e.level)},e.translate=function(e,i){return t(h.translate(e,i),e.level)},e.transform=function(e,i){let n=u.normalize(i);return t(h.transform(e,n.matrix),g.clamp(e.level+n.level_offset))},e.equals=function(e,t){return e==t||!!e&&!!t&&h.equals(e,t)&&e.level==t.level}}(p||(p={})),function(e){e.all=[0,1,2,3],e.clamp=function(e){return Math.max(0,Math.min(3,e))}}(g||(g={}));class f extends s.FeatureGroup{constructor(e){super(),this._options=e,this.last_drawn=null,this._hook=()=>this.redraw(),this._options.offset||(this._options.offset={x:.5,y:.5}),this._options.lineStyle||(this._options.lineStyle={stroke:!0,color:"#111",opacity:.6,weight:1,interactive:!1})}onAdd(e){return super.onAdd(e),this._map=e,this._map.on("zoomend",this._hook),this._map.on("moveend",this._hook),this.redraw(),this}onRemove(e){return this._map.off("zoomend",this._hook),this._map.off("moveend",this._hook),this}redraw(){let e=this._map.getBounds(),t=Math.min(...this._options.intervals.filter((e=>this._map.getZoom()>=e.min_zoom)).map((e=>e.interval)));this.last_drawn&&this.last_drawn.bounds.contains(e)&&this.last_drawn.interval==t||this.constructLines(this._map.getBounds().pad(.5),t)}constructLines(e,t){this.last_drawn={bounds:e,interval:t},this.clearLayers();let i=Math.ceil((e.getEast()-e.getWest())/t),n=Math.ceil((e.getNorth()-e.getSouth())/t),r=Math.floor(e.getWest()/t)*t,o=Math.floor(e.getSouth()/t)*t;for(let n=0;n<=i;n++){let i=r+n*t+this._options.offset.x-1;new s.Polyline([new s.LatLng(e.getSouth(),i),new s.LatLng(e.getNorth(),i)],this._options.lineStyle).addTo(this)}for(let i=0;i<=n;i++){let n=o+i*t+this._options.offset.y-1;new s.Polyline([new s.LatLng(n,e.getWest()),new s.LatLng(n,e.getEast())],this._options.lineStyle).addTo(this)}}}var y=i(3781),v=i(6087),_="tippy-content",x="tippy-backdrop",b="tippy-arrow",w="tippy-svg-arrow",k={passive:!0,capture:!0},A=function(){return document.body};function T(e,t,i){if(Array.isArray(e)){var n=e[t];return null==n?Array.isArray(i)?i[t]:i:n}return e}function C(e,t){var i={}.toString.call(e);return 0===i.indexOf("[object")&&i.indexOf(t+"]")>-1}function S(e,t){return"function"==typeof e?e.apply(void 0,t):e}function E(e,t){return 0===t?e:function(n){clearTimeout(i),i=setTimeout((function(){e(n)}),t)};var i}function z(e){return[].concat(e)}function P(e,t){-1===e.indexOf(t)&&e.push(t)}function M(e){return[].slice.call(e)}function L(e){return Object.keys(e).reduce((function(t,i){return void 0!==e[i]&&(t[i]=e[i]),t}),{})}function I(){return document.createElement("div")}function O(e){return["Element","Fragment"].some((function(t){return C(e,t)}))}function D(e){return C(e,"MouseEvent")}function R(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function B(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function j(e){var t,i=z(e)[0];return null!=i&&null!=(t=i.ownerDocument)&&t.body?i.ownerDocument:document}function N(e,t,i){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[n](t,i)}))}function F(e,t){for(var i=t;i;){var n;if(e.contains(i))return!0;i=null==i.getRootNode||null==(n=i.getRootNode())?void 0:n.host}return!1}var Z={isTouch:!1},q=0;function U(){Z.isTouch||(Z.isTouch=!0,window.performance&&document.addEventListener("mousemove",V))}function V(){var e=performance.now();e-q<20&&(Z.isTouch=!1,document.removeEventListener("mousemove",V)),q=e}function H(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var i=t._tippy;t.blur&&!i.state.isVisible&&t.blur()}}var W=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),K=Object.assign({appendTo:A,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),G=Object.keys(K);function Q(e){var t=(e.plugins||[]).reduce((function(t,i){var n,r=i.name,o=i.defaultValue;return r&&(t[r]=void 0!==e[r]?e[r]:null!=(n=K[r])?n:o),t}),{});return Object.assign({},e,t)}function Y(e,t){var i=Object.assign({},t,{content:S(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Q(Object.assign({},K,{plugins:t}))):G).reduce((function(t,i){var n=(e.getAttribute("data-tippy-"+i)||"").trim();if(!n)return t;if("content"===i)t[i]=n;else try{t[i]=JSON.parse(n)}catch(e){t[i]=n}return t}),{})}(e,t.plugins));return i.aria=Object.assign({},K.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?t.interactive:i.aria.expanded,content:"auto"===i.aria.content?t.interactive?null:"describedby":i.aria.content},i}var J=function(){return"innerHTML"};function X(e,t){e[J()]=t}function ee(e){var t=I();return!0===e?t.className=b:(t.className=w,O(e)?t.appendChild(e):X(t,e)),t}function te(e,t){O(t.content)?(X(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?X(e,t.content):e.textContent=t.content)}function ie(e){var t=e.firstElementChild,i=M(t.children);return{box:t,content:i.find((function(e){return e.classList.contains(_)})),arrow:i.find((function(e){return e.classList.contains(b)||e.classList.contains(w)})),backdrop:i.find((function(e){return e.classList.contains(x)}))}}function ne(e){var t=I(),i=I();i.className="tippy-box",i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var n=I();function r(i,n){var r=ie(t),o=r.box,s=r.content,a=r.arrow;n.theme?o.setAttribute("data-theme",n.theme):o.removeAttribute("data-theme"),"string"==typeof n.animation?o.setAttribute("data-animation",n.animation):o.removeAttribute("data-animation"),n.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?o.setAttribute("role",n.role):o.removeAttribute("role"),i.content===n.content&&i.allowHTML===n.allowHTML||te(s,e.props),n.arrow?a?i.arrow!==n.arrow&&(o.removeChild(a),o.appendChild(ee(n.arrow))):o.appendChild(ee(n.arrow)):a&&o.removeChild(a)}return n.className=_,n.setAttribute("data-state","hidden"),te(n,e.props),t.appendChild(i),i.appendChild(n),r(e.props,e.props),{popper:t,onUpdate:r}}ne.$$tippy=!0;var re=1,oe=[],se=[];function ae(e,t){var i,n,r,o,s,a,l,c,h=Y(e,Object.assign({},K,Q(L(t)))),u=!1,d=!1,p=!1,g=!1,m=[],f=E(_e,h.interactiveDebounce),v=re++,_=(c=h.plugins).filter((function(e,t){return c.indexOf(e)===t})),x={id:v,reference:e,popper:I(),popperInstance:null,props:h,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:_,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(r)},setProps:function(t){if(!x.state.isDestroyed){te("onBeforeUpdate",[x,t]),ye();var i=x.props,n=Y(e,Object.assign({},i,L(t),{ignoreAttributes:!0}));x.props=n,fe(),i.interactiveDebounce!==n.interactiveDebounce&&(le(),f=E(_e,n.interactiveDebounce)),i.triggerTarget&&!n.triggerTarget?z(i.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):n.triggerTarget&&e.removeAttribute("aria-expanded"),ae(),ee(),C&&C(i,n),x.popperInstance&&(ke(),Te().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),te("onAfterUpdate",[x,t])}},setContent:function(e){x.setProps({content:e})},show:function(){var e=x.state.isVisible,t=x.state.isDestroyed,i=!x.state.isEnabled,n=Z.isTouch&&!x.props.touch,r=T(x.props.duration,0,K.duration);if(!(e||t||i||n||G().hasAttribute("disabled")||(te("onShow",[x],!1),!1===x.props.onShow(x)))){if(x.state.isVisible=!0,H()&&(w.style.visibility="visible"),ee(),de(),x.state.isMounted||(w.style.transition="none"),H()){var o=X();R([o.box,o.content],0)}var s,l,c;a=function(){var e;if(x.state.isVisible&&!g){if(g=!0,w.offsetHeight,w.style.transition=x.props.moveTransition,H()&&x.props.animation){var t=X(),i=t.box,n=t.content;R([i,n],r),B([i,n],"visible")}ne(),ae(),P(se,x),null==(e=x.popperInstance)||e.forceUpdate(),te("onMount",[x]),x.props.animation&&H()&&function(e,t){ge(e,(function(){x.state.isShown=!0,te("onShown",[x])}))}(r)}},l=x.props.appendTo,c=G(),(s=x.props.interactive&&l===A||"parent"===l?c.parentNode:S(l,[c])).contains(w)||s.appendChild(w),x.state.isMounted=!0,ke()}},hide:function(){var e=!x.state.isVisible,t=x.state.isDestroyed,i=!x.state.isEnabled,n=T(x.props.duration,1,K.duration);if(!(e||t||i)&&(te("onHide",[x],!1),!1!==x.props.onHide(x))){if(x.state.isVisible=!1,x.state.isShown=!1,g=!1,u=!1,H()&&(w.style.visibility="hidden"),le(),pe(),ee(!0),H()){var r=X(),o=r.box,s=r.content;x.props.animation&&(R([o,s],n),B([o,s],"hidden"))}ne(),ae(),x.props.animation?H()&&function(e,t){ge(e,(function(){!x.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()}))}(n,x.unmount):x.unmount()}},hideWithInteractivity:function(e){J().addEventListener("mousemove",f),P(oe,f),f(e)},enable:function(){x.state.isEnabled=!0},disable:function(){x.hide(),x.state.isEnabled=!1},unmount:function(){x.state.isVisible&&x.hide(),x.state.isMounted&&(Ae(),Te().forEach((function(e){e._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w),se=se.filter((function(e){return e!==x})),x.state.isMounted=!1,te("onHidden",[x]))},destroy:function(){x.state.isDestroyed||(x.clearDelayTimeouts(),x.unmount(),ye(),delete e._tippy,x.state.isDestroyed=!0,te("onDestroy",[x]))}};if(!h.render)return x;var b=h.render(x),w=b.popper,C=b.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+x.id,x.popper=w,e._tippy=x,w._tippy=x;var O=_.map((function(e){return e.fn(x)})),q=e.hasAttribute("aria-expanded");return fe(),ae(),ee(),te("onCreate",[x]),h.showOnCreate&&Ce(),w.addEventListener("mouseenter",(function(){x.props.interactive&&x.state.isVisible&&x.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){x.props.interactive&&x.props.trigger.indexOf("mouseenter")>=0&&J().addEventListener("mousemove",f)})),x;function U(){var e=x.props.touch;return Array.isArray(e)?e:[e,0]}function V(){return"hold"===U()[0]}function H(){var e;return!(null==(e=x.props.render)||!e.$$tippy)}function G(){return l||e}function J(){var e=G().parentNode;return e?j(e):document}function X(){return ie(w)}function $(e){return x.state.isMounted&&!x.state.isVisible||Z.isTouch||o&&"focus"===o.type?0:T(x.props.delay,e?0:1,K.delay)}function ee(e){void 0===e&&(e=!1),w.style.pointerEvents=x.props.interactive&&!e?"":"none",w.style.zIndex=""+x.props.zIndex}function te(e,t,i){var n;void 0===i&&(i=!0),O.forEach((function(i){i[e]&&i[e].apply(i,t)})),i&&(n=x.props)[e].apply(n,t)}function ne(){var t=x.props.aria;if(t.content){var i="aria-"+t.content,n=w.id;z(x.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(i);if(x.state.isVisible)e.setAttribute(i,t?t+" "+n:n);else{var r=t&&t.replace(n,"").trim();r?e.setAttribute(i,r):e.removeAttribute(i)}}))}}function ae(){!q&&x.props.aria.expanded&&z(x.props.triggerTarget||e).forEach((function(e){x.props.interactive?e.setAttribute("aria-expanded",x.state.isVisible&&e===G()?"true":"false"):e.removeAttribute("aria-expanded")}))}function le(){J().removeEventListener("mousemove",f),oe=oe.filter((function(e){return e!==f}))}function ce(t){if(!Z.isTouch||!p&&"mousedown"!==t.type){var i=t.composedPath&&t.composedPath()[0]||t.target;if(!x.props.interactive||!F(w,i)){if(z(x.props.triggerTarget||e).some((function(e){return F(e,i)}))){if(Z.isTouch)return;if(x.state.isVisible&&x.props.trigger.indexOf("click")>=0)return}else te("onClickOutside",[x,t]);!0===x.props.hideOnClick&&(x.clearDelayTimeouts(),x.hide(),d=!0,setTimeout((function(){d=!1})),x.state.isMounted||pe())}}}function he(){p=!0}function ue(){p=!1}function de(){var e=J();e.addEventListener("mousedown",ce,!0),e.addEventListener("touchend",ce,k),e.addEventListener("touchstart",ue,k),e.addEventListener("touchmove",he,k)}function pe(){var e=J();e.removeEventListener("mousedown",ce,!0),e.removeEventListener("touchend",ce,k),e.removeEventListener("touchstart",ue,k),e.removeEventListener("touchmove",he,k)}function ge(e,t){var i=X().box;function n(e){e.target===i&&(N(i,"remove",n),t())}if(0===e)return t();N(i,"remove",s),N(i,"add",n),s=n}function me(t,i,n){void 0===n&&(n=!1),z(x.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,i,n),m.push({node:e,eventType:t,handler:i,options:n})}))}function fe(){var e;V()&&(me("touchstart",ve,{passive:!0}),me("touchend",xe,{passive:!0})),(e=x.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(me(e,ve),e){case"mouseenter":me("mouseleave",xe);break;case"focus":me(W?"focusout":"blur",be);break;case"focusin":me("focusout",be)}}))}function ye(){m.forEach((function(e){var t=e.node,i=e.eventType,n=e.handler,r=e.options;t.removeEventListener(i,n,r)})),m=[]}function ve(e){var t,i=!1;if(x.state.isEnabled&&!we(e)&&!d){var n="focus"===(null==(t=o)?void 0:t.type);o=e,l=e.currentTarget,ae(),!x.state.isVisible&&D(e)&&oe.forEach((function(t){return t(e)})),"click"===e.type&&(x.props.trigger.indexOf("mouseenter")<0||u)&&!1!==x.props.hideOnClick&&x.state.isVisible?i=!0:Ce(e),"click"===e.type&&(u=!i),i&&!n&&Se(e)}}function _e(e){var t=e.target,i=G().contains(t)||w.contains(t);if("mousemove"!==e.type||!i){var n=Te().concat(w).map((function(e){var t,i=null==(t=e._tippy.popperInstance)?void 0:t.state;return i?{popperRect:e.getBoundingClientRect(),popperState:i,props:h}:null})).filter(Boolean);(function(e,t){var i=t.clientX,n=t.clientY;return e.every((function(e){var t=e.popperRect,r=e.popperState,o=e.props.interactiveBorder,s=r.placement.split("-")[0],a=r.modifiersData.offset;if(!a)return!0;var l="bottom"===s?a.top.y:0,c="top"===s?a.bottom.y:0,h="right"===s?a.left.x:0,u="left"===s?a.right.x:0,d=t.top-n+l>o,p=n-t.bottom-c>o,g=t.left-i+h>o,m=i-t.right-u>o;return d||p||g||m}))})(n,e)&&(le(),Se(e))}}function xe(e){we(e)||x.props.trigger.indexOf("click")>=0&&u||(x.props.interactive?x.hideWithInteractivity(e):Se(e))}function be(e){x.props.trigger.indexOf("focusin")<0&&e.target!==G()||x.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||Se(e)}function we(e){return!!Z.isTouch&&V()!==e.type.indexOf("touch")>=0}function ke(){Ae();var t=x.props,i=t.popperOptions,n=t.placement,r=t.offset,o=t.getReferenceClientRect,s=t.moveTransition,l=H()?ie(w).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||G()}:e,h=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(H()){var i=X().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?i.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?i.setAttribute("data-"+e,""):i.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];H()&&l&&h.push({name:"arrow",options:{element:l,padding:3}}),h.push.apply(h,(null==i?void 0:i.modifiers)||[]),x.popperInstance=(0,y.fi)(c,w,Object.assign({},i,{placement:n,onFirstUpdate:a,modifiers:h}))}function Ae(){x.popperInstance&&(x.popperInstance.destroy(),x.popperInstance=null)}function Te(){return M(w.querySelectorAll("[data-tippy-root]"))}function Ce(e){x.clearDelayTimeouts(),e&&te("onTrigger",[x,e]),de();var t=$(!0),n=U(),r=n[0],o=n[1];Z.isTouch&&"hold"===r&&o&&(t=o),t?i=setTimeout((function(){x.show()}),t):x.show()}function Se(e){if(x.clearDelayTimeouts(),te("onUntrigger",[x,e]),x.state.isVisible){if(!(x.props.trigger.indexOf("mouseenter")>=0&&x.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&u)){var t=$(!1);t?n=setTimeout((function(){x.state.isVisible&&x.hide()}),t):r=requestAnimationFrame((function(){x.hide()}))}}else pe()}}function le(e,t){void 0===t&&(t={});var i=K.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",U,k),window.addEventListener("blur",H);var n,r=Object.assign({},t,{plugins:i}),o=(n=e,O(n)?[n]:function(e){return C(e,"NodeList")}(n)?M(n):Array.isArray(n)?n:M(document.querySelectorAll(n))).reduce((function(e,t){var i=t&&ae(t,r);return i&&e.push(i),e}),[]);return O(e)?o[0]:o}le.defaultProps=K,le.setDefaultProps=function(e){Object.keys(e).forEach((function(t){K[t]=e[t]}))},le.currentInput=Z,Object.assign({},v.Z,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}});var ce={clientX:0,clientY:0},he=[];function ue(e){var t=e.clientX,i=e.clientY;ce={clientX:t,clientY:i}}var de={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,i=j(e.props.triggerTarget||t),n=!1,r=!1,o=!0,s=e.props;function a(){return"initial"===e.props.followCursor&&e.state.isVisible}function l(){i.addEventListener("mousemove",u)}function c(){i.removeEventListener("mousemove",u)}function h(){n=!0,e.setProps({getReferenceClientRect:null}),n=!1}function u(i){var n=!i.target||t.contains(i.target),r=e.props.followCursor,o=i.clientX,s=i.clientY,a=t.getBoundingClientRect(),l=o-a.left,c=s-a.top;!n&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),i=o,n=s;"initial"===r&&(i=e.left+l,n=e.top+c);var a="horizontal"===r?e.top:n,h="vertical"===r?e.right:i,u="horizontal"===r?e.bottom:n,d="vertical"===r?e.left:i;return{width:h-d,height:u-a,top:a,right:h,bottom:u,left:d}}})}function d(){e.props.followCursor&&(he.push({instance:e,doc:i}),function(e){e.addEventListener("mousemove",ue)}(i))}function p(){0===(he=he.filter((function(t){return t.instance!==e}))).filter((function(e){return e.doc===i})).length&&function(e){e.removeEventListener("mousemove",ue)}(i)}return{onCreate:d,onDestroy:p,onBeforeUpdate:function(){s=e.props},onAfterUpdate:function(t,i){var o=i.followCursor;n||void 0!==o&&s.followCursor!==o&&(p(),o?(d(),!e.state.isMounted||r||a()||l()):(c(),h()))},onMount:function(){e.props.followCursor&&!r&&(o&&(u(ce),o=!1),a()||l())},onTrigger:function(e,t){D(t)&&(ce={clientX:t.clientX,clientY:t.clientY}),r="focus"===t.type},onHidden:function(){e.props.followCursor&&(h(),c(),o=!0)}}}};le.setDefaultProps({render:ne});const pe=le;class ge{constructor(e=$("<div>")){this.init(e)}init(e=$("<div>")){return this.container=e instanceof ge?e.container:e||$("<div>"),this}raw(){return this.container.get()[0]}empty(){return this.container.empty(),this}appendTo(e){return e instanceof ge&&(e=e.container),e.append(this.container),this}prependTo(e){return e instanceof ge&&(e=e.container),e.prepend(this.container),this}append(...e){return e.forEach((e=>{e&&(e instanceof ge&&(e=e.container),this.container.append(e))})),this}prepend(e){return e instanceof ge&&(e=e.container),this.container.prepend(e),this}css(e,t){return this.container.css(e,t),this}css2(e){return this.container.css(e),this}tooltip(e){return this.container.attr("title",e),this}remove(){return this.container.remove(),this}detach(){return this.container.detach(),this}addClass(e){return e&&this.container.addClass(e),this}static wrap(e){return"string"==typeof e&&(e=$(e)),new ge(e)}text(e){return this.container.text(e.toString()),this}setVisible(e){return e?this.container.show():this.container.hide(),this}toggleClass(e,t=null){return null==t&&(t=!this.container.hasClass(e)),t?this.container.addClass(e):this.container.removeClass(e),this}tapRaw(e){return e(this.container),this}addTippy(e,t={}){return pe(this.container.get()[0],{content:c("<div class='ctr-entity-tooltip'></div>").append(e).container.get()[0],arrow:!0,animation:!1,delay:0,zIndex:10001,...t}),this}html(){return this.raw().outerHTML}setInnerHtml(e){return this.container.html(e),this}on(e,t){return this.container.on(e,t),this}setAttribute(e,t=""){return this.raw().setAttribute(e,t),this}}var me,fe,ye,ve,_e,xe;globalThis.c=(e="<div>")=>ge.wrap(e),function(e){e.map_version=1701428222,e.icons={tiers:{easy:"assets/icons/sealedeasy.png",medium:"assets/icons/sealedmedium.png",hard:"assets/icons/sealedhard.png",elite:"assets/icons/sealedelite.png",master:"assets/icons/sealedmaster.png"},types:{anagram:"assets/icons/activeclue.png",compass:"assets/icons/arrow.png",coordinates:"assets/icons/sextant.png",cryptic:"assets/icons/activeclue.png",emote:"assets/icons/emotes.png",map:"assets/icons/map.png",scan:"assets/icons/scan.png",simple:"assets/icons/activeclue.png",skilling:"assets/icons/activeclue.png"}},e.colors={dig_spot_number:"gold",scan_area:"#00FF21"}}(me||(me={}));class be{constructor(e){this.handler=e,this.alive=!0}remove(){this.alive=!1,this.handler=null}apply(e){return this.handler(e)}isAlive(){return this.alive}bindTo(e){return e.bind(this),this}}function we(){return new ye.Real}!function(e){e.Once=class extends be{apply(e){return this.remove(),super.apply(e)}}}(fe||(fe={})),function(e){class t{filtered(e){return new i(this,e)}}e.AbstractEwent=t,e.Real=class extends t{constructor(){super(...arguments),this.trigger_count=0,this.handlers=[]}clean_pass(){this.trigger_count+=1,this.trigger_count>10&&(this.handlers=this.handlers.filter((e=>e.isAlive())))}on(e){this.clean_pass();let t=new be(e);return this.handlers.push(t),t}trigger(e){return this.clean_pass(),Promise.all(this.handlers.filter((e=>e.isAlive())).map((t=>t.apply(e))))}};class i extends t{constructor(e,t){super(),this.base=e,this.predicate=t}on(e){return this.base.on((t=>{this.predicate(t)&&e(t)}))}}e.Filtered=i,e.Derived=class extends t{constructor(e,t){super(),this.base=e,this.map=t}on(e){return this.base.on((t=>e(this.map(t))))}}}(ye||(ye={})),function(e){class t{constructor(){this._value=null,this.equality_f=(e,t)=>e==t,this.changed=we()}trigger_changed(e){return this.changed.trigger({value:this._value,old:e})}_set(e){let t=this._value;this._value=e,this.equality_f(t,this._value)||this.trigger_changed(t)}equality(e){return this.equality_f=e,this}value(){return this._value}set(e){this._set(e)}update(e){e(this._value),this.trigger_changed(void 0)}update2(e){let t=m.cloneDeep(this._value);e(this._value),this.equality_f(t,this._value)||this.trigger_changed(t)}subscribe(e,t=!1,i=null){let n=this.changed.on((t=>e(t.value,t.old)));return i&&i(n),t&&e(this._value,void 0),this}map(t){return new e.Derived(this,t)}bindTo(e){return e.subscribe((e=>this._set(e))),this._set(e.value()),this}bind(e){return this.bindTo(e),e.bindTo(this),this}}e.AbstractObservable=t,e.Derived=class extends t{constructor(e,t){super(),e.subscribe((e=>this._set(t(e))),!0)}set(e){throw new TypeError("Set not supported on derived observable")}},e.Simple=class extends t{constructor(e){super(),this._value=e}},e.observe_combined=function(e){let t=Ae({});for(let i in e)e[i].subscribe((e=>t.update((t=>t[i]=e))),!0);return t}}(ve||(ve={}));class ke extends ve.AbstractObservable{constructor(){super(),this.element_added=we(),this.element_removed=we(),this.element_changed=we(),this.array_changed=we(),this._value=[]}update(e){throw new TypeError("Operation not supported! Use setTo or other observable mutations!")}set(e){throw new TypeError("Operation not supported! Use setTo or other modifiers")}add(e){let t=new ke.ObservableArrayValue(this,e);return t.index.set(this._value.length),this._value.push(t),this.element_added.trigger(t),this.changed.trigger({value:this._value}),this.array_changed.trigger({order:!0,set:!0,data:this._value}),t}remove(e){let t=this.value().indexOf(e);if(t>=0){let[e]=this._value.splice(t,1);this.element_removed.trigger(e),this.changed.trigger({value:this._value}),this.array_changed.trigger({order:!0,set:!0,data:this._value}),e.removed.trigger(e)}}get(){return this._value}setTo(e){for(let e of this.value())e.removed.trigger(e),this.element_removed.trigger(e);return this._value=e.map(((e,t)=>{let i=new ke.ObservableArrayValue(this,e);return i.index.set(t),i})),this._value.forEach((e=>this.element_added.trigger(e))),this.changed.trigger({value:this._value}),this.array_changed.trigger({order:!0,set:!0,data:this._value}),this}move(e,t){if(e==t)return this;let[i]=this._value.splice(e,1);return this._value.splice(t,0,i),this.changed.trigger({value:this._value}),this.array_changed.trigger({order:!0,set:!1,data:this._value}),this.updateIndices(),this}updateIndices(){this._value.forEach(((e,t)=>e.index.set(t)))}}function Ae(e){return new ve.Simple(e)}!function(e){class t extends ve.Simple{constructor(e,t){super(t),this._parent=e,this.removed=we(),this.index=Ae(0),this.changed.on((()=>{this._parent.element_changed.trigger(this),this._parent.changed.trigger({value:this._parent.value()})}))}parent(){return this._parent}remove(){var e;null===(e=this._parent)||void 0===e||e.remove(this)}moveTo(e){return this.parent().move(this.index.value(),e),this}move(e){return this.moveTo(this.index.value()+e)}}e.ObservableArrayValue=t}(ke||(ke={})),function(e){e.CombinedEventMap=class{constructor(){this.events={}}get(e){var t;return null!==(t=this.events[e])&&void 0!==t?t:this.events[e]=we()}on(e,t){return this.get(e).on(t)}}}(_e||(_e={})),function(e){function t(e){return c(e)}function i(e,i=""){return t("<img>").setAttribute("src",e).setAttribute("alt",i)}function n(e,t=!1){return c("<span class='nisl-npc'></span>").toggleClass("ctr-clickable",t).text(e)}function r(e,t=!1){return c("<span class='nisl-entity'></span>").toggleClass("ctr-clickable",t).text(e)}e.create=t,e.hbox=function(...e){return t("<div style='display: flex; justify-content: center'></div>").append(...e)},e.hboxl=function(...e){return t("<div style='display: flex'></div>").append(...e)},e.btnrow=function(...e){return t("<div style='display: flex' class='ctr-button-container'></div>").append(...e)},e.hboxc=function(...e){return t("<div style='display: flex; justify-content: center'></div>").append(...e)},e.vbox=function(...e){return t("<div></div>").append(...e)},e.centered=function(...e){return t("<div style='text-align: center'></div>").append(...e)},e.spacer=function(){return t("<div style='flex-grow: 1'></div>")},e.span=function(e){return t("<span></span>").setInnerHtml(e)},e.bold=function(e){return t("<span style='font-weight: bold'></span>").setInnerHtml(e)},e.h=function(e,i){return t(`<h${e}>${i}</h${e}>`)},e.img=i,e.inlineimg=function(e,t=""){return i(e,t).addClass("text-icon")},e.div=function(...e){return c().append(...e)},e.text_link=function(e,t){return c("<div class='link'>")},e.npc=n,e.staticentity=r,e.entity=function(e){switch(e.kind){case"npc":return n(e.name);case"static":return r(e.name);case"item":return t("<span class='nisl-item'></span>").text(e.name)}}}(xe||(xe={}));var Te,Ce=xe.hbox,Se=xe.span,Ee=xe.spacer;function ze(e){return"string"==typeof e?e:e()}!function(e){function t(e){e&&(e.open_child&&t(e.open_child),e.tippy_instance&&(e.tippy_instance.destroy(),e.tippy_instance=null,e.root_widget.remove(),e.parent?e.parent.open_child=null:e.root.root_page=null))}function i(e){e.option_selected||e.cancelled.trigger(e),e.closed.trigger(e),t(e.root_page)}function n(e,t=null){if(null!=t&&t!=e.highlight&&o(e,t),null!=e.highlight){let t=e.underlying.children[e.highlight];"basic"==t.type?(e.root.option_selected=!0,t.handler(),i(e.root)):(a(e),o(e.open_child,0))}}function r(e,t,i){let r={root:i,parent:t,underlying:e,root_widget:c().addClass("nisl-context-menu").tapRaw((e=>e.attr("tabindex","0"))),rows:null,tippy_instance:null,highlight:null,open_child:null};t||c().addClass("nisl-context-menu-header").append(e.text?ze(e.text):"Choose Option").appendTo(r.root_widget);let s=e.children.some((e=>!!e.icon));return r.rows=e.children.map(((e,t)=>Ce(s?c("<div class='nisl-context-menu-entry-icon-container'></div>").append(e.icon?"string"==typeof e.icon?c(`<img src="${e.icon}">`):e.icon():null):null,ze(e.text),Ee().css("min-width","10px"),"submenu"==e.type?Se("&#x276F;"):null).addClass("nisl-context-menu-entry").tapRaw((e=>e.on("click",(e=>{e.stopPropagation(),n(r,t)})).on("mouseover",(()=>{o(r,t),a(r)})))))),r.root_widget.append(...r.rows),r}function o(e,i){i!=e.highlight&&(e.open_child&&t(e.open_child),null!=e.highlight&&(e.rows[e.highlight].toggleClass("nisl-context-menu-entry-selected",!1),e.highlight=null),null!=i&&(e.rows[i].toggleClass("nisl-context-menu-entry-selected",!0),e.highlight=i))}function s(e){let t=e.root_page;for(;null==t?void 0:t.open_child;)t=t.open_child;return t}function a(e){if(null==e.highlight)return;let i=e.underlying.children[e.highlight];"submenu"==i.type&&(t(e.open_child),e.open_child=r(i,e,e.root),l(e.open_child,e.rows[e.highlight].raw(),null))}function l(e,t,n){const r=$(t).is(".tippy-content *");e.tippy_instance=pe(t,{placement:"right-start",trigger:"manual",interactive:!0,arrow:!1,offset:[0,0],animation:!1,interactiveBorder:20,interactiveDebounce:.5,content:e.root_widget.raw(),maxWidth:"none",zIndex:10001,appendTo:r?"parent":document.body}),e.parent||e.tippy_instance.setProps({onHidden:()=>i(e.root),onMount:()=>e.root.root_page.root_widget.raw().focus()}),n&&e.tippy_instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:n.y,bottom:n.y,left:n.x,right:n.x})}),e.tippy_instance.show()}e.init=function(o){let a={cancelled:we(),closed:we(),menu:o,root_page:null};return o.children.push({type:"basic",text:"Cancel",handler:()=>i(a)}),a.root_page=r(o,null,a),a.root_page.root_widget.container.on("keydown",(r=>{"Escape"==r.key&&(r.stopPropagation(),i(a));let o=s(a);"ArrowRight"==r.key&&null!=o.highlight&&"submenu"==o.underlying.children[o.highlight].type&&n(o),"ArrowLeft"==r.key&&o.parent&&t(o),"ArrowUp"==r.key&&e.highlight(o,null!=o.highlight?(o.highlight-1+o.underlying.children.length)%o.underlying.children.length:o.underlying.children.length-1),"ArrowDown"==r.key&&e.highlight(o,null!=o.highlight?(o.highlight+1)%o.underlying.children.length:0),"Enter"==r.key&&n(o)})),a},e.close=t,e.cancel=i,e.confirm=n,e.render=r,e.highlight=o,e.deepest=s,e.openSubmenu=a,e.show=l}(Te||(Te={}));class Pe{constructor(e){this.menu=e,this.openMenuTree=null,this.openMenuTree&&(Te.cancel(this.openMenuTree),this.openMenuTree=null),this.openMenuTree=Te.init(this.menu)}showFromEvent(e){return this.showFromEvent2(e.originalEvent)}showFromEvent2(e){return this.show(e.target,{x:e.clientX,y:e.clientY})}show(e,t){return Te.show(this.openMenuTree.root_page,e,t),this}onCancel(e){return this.openMenuTree.cancelled.on(e),this}onClosed(e){return this.openMenuTree.closed.on(e),this}}class Me{constructor(){this.handlers=[]}bind(e){return this.handlers.push(e),this}kill(){this.handlers.forEach((e=>e.remove()))}}class Le{constructor(e){this.groups=e}getGroupIndex(e){if(null==e)return null;for(let t=0;t<this.groups.length-1;t++)if(e<this.groups[t+1].min)return t;return this.groups.length-1}get(e){return this.groups[e]}getForZoom(e){return this.groups[this.getGroupIndex(e)]}}!function(e){e.none=new e([{min:-1e3,value:null}])}(Le||(Le={}));class Ie{constructor(e){this.groups=e}getGroupIndex(e){return this.groups.findIndex((t=>t.floors.includes(e)))}get(e){return this.groups[e]}}!function(e){e.none=new e([{floors:[0,1,2,3],value:null}]),e.single=function(t,i=void 0){return new e([{floors:[t],value:i},{floors:[0,1,2,3],hidden_here:!0}])}}(Ie||(Ie={}));var Oe=ve.observe_combined;class De extends s.FeatureGroup{constructor(e){super([]),this.entity_config=e,this.tooltip_hook=Ae(null),this.parent=null,this.zoom_sensitivity_layers=Le.none,this.floor_sensitivity_layers=Ie.none,this.render_group=Ae({floor:0,zoom:0}).equality(((e,t)=>e.floor==t.floor&&e.zoom==t.zoom)),this.highlighted=Ae(!1),this.visible=Ae(!0),this.opacity=Ae(1),this.culled=Ae(!1),this.rendering_requested=!1,this.rendered_props=null,this.desired_render_props=Ae(null).equality(De.RenderProps.equals),e.interactive&&(this.on("mouseover",(()=>{var e;null===(e=this.parent)||void 0===e||e.updateHovering(this,!0)})),this.on("mouseout",(()=>{var e;null===(e=this.parent)||void 0===e||e.updateHovering(this,!1)}))),Oe({v:this.visible,c:this.culled,o:this.opacity,h:this.highlighted,g:this.render_group}).subscribe((()=>this.desired_render_props.set(this.getDesiredRenderProps())),!0),this.desired_render_props.subscribe((()=>this.requestRendering()))}remove(){return this.parent?this.parent.removeEntity(this):super.remove(),this}getDesiredRenderProps(){const e=this.floor_sensitivity_layers.get(this.render_group.value().floor),t=this.zoom_sensitivity_layers.get(this.render_group.value().zoom);return{render_at_all:!e.hidden_here&&!t.hidden_here&&this.visible.value()&&!this.culled.value(),opacity:this.opacity.value(),highlight:this.highlighted.value(),zoom_group_index:this.render_group.value().zoom,floor_group_index:this.render_group.value().floor}}isActive(){var e;return(null===(e=this.parent)||void 0===e?void 0:e.activeEntity())==this}setHighlight(e){return e&&!this.entity_config.highlightable||this.highlighted.set(e),this}setVisible(e){return this.visible.set(e),this}async renderTooltip(){return null}requestRendering(){this.parent&&!this.rendering_requested&&(this.rendering_requested=!0,this.parent.rendering.request(this))}render(e=!1){var t;if(!e&&!this.rendering_requested)return;this.rendering_requested=!1;const i=this.desired_render_props.value();(null===(t=this.parent)||void 0===t?void 0:t.getMap())&&(!e&&De.RenderProps.equals(this.rendered_props,i)||(this.rendered_props=i,this.clearLayers(),i.render_at_all&&this.tooltip_hook.set(this.render_implementation(i))))}requestActivation(e){var t;return null===(t=this.parent)||void 0===t?void 0:t.requestEntityActivation(this,e)}async resetActivation(){var e;this.isActive()&&await(null===(e=this.parent)||void 0===e?void 0:e.requestEntityActivation(null))}async contextMenu(e){return null}setCulled(e){this.culled.set(e)}setOpacity(e){this.opacity.set(e)}setFloorAndZoom(e,t){const i=this.zoom_sensitivity_layers.getGroupIndex(t),n=this.floor_sensitivity_layers.getGroupIndex(e);this.render_group.set({floor:n,zoom:i})}}!function(e){let t;e.default_zoom_scale_layers=new Le([{min:-100,value:{scale:.25}},{min:0,value:{scale:.5}},{min:1.5,value:{scale:1}}]),e.default_local_zoom_scale_layers=new Le([{min:-100,hidden_here:!0,value:{scale:.25}},{min:0,value:{scale:.5}},{min:5,value:{scale:1}}]),function(e){e.equals=function(e,t){return null!=e&&null!=t&&(!e.render_at_all&&!t.render_at_all||e.render_at_all==t.render_at_all&&e.highlight==t.highlight&&e.opacity==t.opacity&&e.floor_group_index==t.floor_group_index&&e.zoom_group_index==t.zoom_group_index)}}(t=e.RenderProps||(e.RenderProps={}))}(De||(De={}));class Re{constructor(e,t){this.parent=e,this.rect=t,this.elements=[],this.subdivisions=[],this.is_dirty=!1,this.cull_rectangle=null,this.is_culled=!1}propagateCulled(e,t,i=!1){this.cull_rectangle=e;const n=this.is_culled;t&&!n?(this.is_culled=t,this.elements.forEach((e=>e.setCulled(!0))),this.subdivisions.forEach((t=>t.propagateCulled(e,!0)))):t||(this.is_culled=t,i?this.elements.forEach((t=>t.setCulled(!h.overlaps(t.bounds(),e)))):this.elements.forEach((e=>e.setCulled(!1))),this.subdivisions.forEach((t=>{t.cull(e,i)})))}cull(e,t=!1){e&&this.propagateCulled(e,!h.overlaps(e,this.rect),t)}createSubdivisions(){if(this.is_dirty=!1,h.width(this.rect)<=32)return;if(this.subdivisions.length>0)return;const e=h.center(this.rect);this.subdivisions=[h.from(this.rect.topleft,l.add(e,{x:0,y:1})),h.from(h.topRight(this.rect),l.add(e,{x:1,y:1})),h.from(this.rect.botright,l.add(e,{x:1,y:0})),h.from(h.bottomLeft(this.rect),e)].map((e=>new Re(this,e)));const t=this.elements;this.elements=[],this.cull(this.cull_rectangle),t.forEach((e=>this.insert(e)))}insert(...e){e.map((e=>{const t=e.bounds();return function i(n){const r=n.subdivisions.find((e=>h.containsRect(e.rect,t)));return r?i(r):(e.setCulled(n.is_culled),n.elements.push(e),e.spatial=n,n.is_dirty=!0,n)}(this)})).forEach((e=>{e.is_dirty&&(e.elements.length>10&&e.createSubdivisions(),e.is_dirty=!1)}))}remove(...e){this.elements=this.elements.filter((t=>!e.includes(t))),e.forEach((e=>{e.spatial=null,e.setCulled(!1)}))}forEachVisible(e){this.is_culled||(this.elements.forEach(e),this.subdivisions.forEach((t=>t.forEachVisible(e))))}isLeaf(){return 0==this.subdivisions.length}bounds(){return m.cloneDeep(this.rect)}isCulled(){return this.is_culled}getChildren(){return[...this.subdivisions]}getElements(){return[...this.elements]}static init(e){return new Re(null,e)}}var Be=i(2909);const je={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ne;const Fe=new Uint8Array(16);function Ze(){if(!Ne&&(Ne="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ne))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ne(Fe)}const qe=[];for(let e=0;e<256;++e)qe.push((e+256).toString(16).slice(1));const Ue=function(e,t,i){if(je.randomUUID&&!t&&!e)return je.randomUUID();const n=(e=e||{}).random||(e.rng||Ze)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=n[e];return t}return function(e,t=0){return qe[e[t+0]]+qe[e[t+1]]+qe[e[t+2]]+qe[e[t+3]]+"-"+qe[e[t+4]]+qe[e[t+5]]+"-"+qe[e[t+6]]+qe[e[t+7]]+"-"+qe[e[t+8]]+qe[e[t+9]]+"-"+qe[e[t+10]]+qe[e[t+11]]+qe[e[t+12]]+qe[e[t+13]]+qe[e[t+14]]+qe[e[t+15]]}(n)},Ve=[],He=[];var We;!function(e){let t;function i(e,t){return e[(e.length+t)%e.length]}e.natural_join=function(e,t="and"){return 0==e.length?"":1==e.length?e.toString():2==e.length?`${e[0]} ${t} ${e[1]}`:e.slice(0,-1).join(", ")+`, ${t} `+e[e.length-1]},e.plural=function(e,t,i="s"){let n=`${e} ${t}`;return 1!=e&&(n+=i),n},function(e){e.natural_order=function(e,t){return e-t},e.comap=function(e,t){return(i,n)=>e(t(i),t(n))},e.reverse=function(e){return(t,i)=>-e(t,i)},e.chain=function(...e){return(t,i)=>{for(let n of e){let e=n(t,i);if(0!=e)return e}return 0}}}(t=e.Order||(e.Order={})),e.capitalize=function(e){return e?e[0].toUpperCase()+e.slice(1):""},e.index=i,e.multiIndex=function(e,...t){let n=e;return t.forEach((e=>{n=i(n,e)})),n},e.minIndex=function(e){return e.indexOf(Math.min(...e))},e.shorten_integer_list=function(e,i=(e=>e.toString())){e.sort(t.natural_order);let n=[],r=e[0],o=r;for(let t=1;t<e.length;t++){let s=e[t];s<=o+1||(o==r?n.push(i(o)):o==r+1?n.push(i(r),i(o)):n.push(`${i(r)} - ${i(o)}`),r=s),o=s}return o==r?n.push(i(o)):o==r+1?n.push(i(r),i(o)):n.push(`${i(r)} - ${i(o)}`),n},e.convert_bounds=function(e){return s.latLngBounds([[e.getTopLeft().y,e.getTopLeft().x],[e.getBottomRight().y,e.getBottomRight().x]])},e.compose=function(e,...t){return t.reduce(((e,t)=>i=>t(e(i))),e)},e.swap=function(e,t){return[t,e]},e.count=function(e,t){return e.reduce(((e,i)=>e+(t(i)?1:0)),0)},e.signedToString=function(e){return`${Math.sign(e)<0?"":"+"}${e}`},e.tap=function(e,...t){return t.forEach((t=>t(e))),e},e.profile=function(e,t=null){console.time(t||e.name);let i=e();return console.timeEnd(t||e.name),i},e.profileAsync=async function(e,t=null){console.time(t||e.name);let i=await e();return console.timeEnd(t||e.name),i},e.avg=function(...e){return e.reduce(((e,t)=>e+t),0)/e.length},e.positiveMod=function(e,t){return(e+=Math.ceil(Math.abs(e/t))*t)%t},e.uuid=function(){return Ue()},e.timestamp=function(){return Math.floor((new Date).getTime()/1e3)},e.asyncFilter=async function(e,t){let i=await Promise.all(e.map(t));return e.filter(((e,t)=>i[t]))},e.todo=function(){throw new Error("Not implemented.")},e.copyUpdate=function(e,t){const i=m.cloneDeep(e);return t(i),i},e.copyUpdate2=function(e,t){const i=m.clone(e);return t(i),i},e.cleanedJSON=function(e,t=void 0){return JSON.stringify(e,((e,t)=>{if(!e.startsWith("_"))return t}),t)},e.eqWithNull=function(e){return(t,i)=>t==i||null!=t&&null!=i&&e(t,i)},e.download=function(e,t){const i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)},e.stringSimilarity=function(e,t){return function(e,t,i){if(e===t)return 0;if(0===e.length)return t.length;if(0===t.length)return e.length;let n=0;for(;n<e.length;)Ve[n]=e.charCodeAt(n),He[n]=++n;let r,o=0;for(;o<t.length;){const i=t.charCodeAt(o);let n=-1,s=o++;for(r=s;++n<e.length;){const e=i===Ve[n]?s:s+1;s=He[n],r=s>r?e>r?r+1:e:e>s?s+1:e,He[n]=r}}return r}(e,t)}}(We||(We={}));class Ke{constructor(){this._data=[],this._data=new Array(Ke.CHUNK_DIMENSIONS.x*Ke.CHUNK_DIMENSIONS.y)}get(e){var t;return null===(t=this._data[e.chunk_i])||void 0===t?void 0:t[e.tile_i]}set(e,t){this._data[e.chunk_i]||(this._data[e.chunk_i]=new Array(Ke.CHUNK_SIZE*Ke.CHUNK_SIZE)),this._data[e.chunk_i][e.tile_i]=t}}function Ge(e){let t=e.length;for(;--t>=0;)e[t]=0}!function(e){e.CHUNK_SIZE=64,e.CHUNK_DIMENSIONS={x:100,y:200},e.split=function(t){let i={x:Math.floor(t.x/e.CHUNK_SIZE),y:Math.floor(t.y/e.CHUNK_SIZE)},n={x:t.x%e.CHUNK_SIZE,y:t.y%e.CHUNK_SIZE};return{coords:t,chunk:i,tile:n,chunk_i:i.y*e.CHUNK_DIMENSIONS.x+i.x,tile_i:n.y*e.CHUNK_SIZE+n.x}}}(Ke||(Ke={}));const Qe=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ye=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Je=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Xe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$e=new Array(576);Ge($e);const et=new Array(60);Ge(et);const tt=new Array(512);Ge(tt);const it=new Array(256);Ge(it);const nt=new Array(29);Ge(nt);const rt=new Array(30);function ot(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}let st,at,lt;function ct(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Ge(rt);const ht=e=>e<256?tt[e]:tt[256+(e>>>7)],ut=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},dt=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,ut(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},pt=(e,t,i)=>{dt(e,i[2*t],i[2*t+1])},gt=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},mt=(e,t,i)=>{const n=new Array(16);let r,o,s=0;for(r=1;r<=15;r++)s=s+i[r-1]<<1,n[r]=s;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=gt(n[t]++,t))}},ft=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},yt=e=>{e.bi_valid>8?ut(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},vt=(e,t,i,n)=>{const r=2*t,o=2*i;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]},_t=(e,t,i)=>{const n=e.heap[i];let r=i<<1;for(;r<=e.heap_len&&(r<e.heap_len&&vt(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!vt(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n},xt=(e,t,i)=>{let n,r,o,s,a=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+a++],n+=(255&e.pending_buf[e.sym_buf+a++])<<8,r=e.pending_buf[e.sym_buf+a++],0===n?pt(e,r,t):(o=it[r],pt(e,o+256+1,t),s=Qe[o],0!==s&&(r-=nt[o],dt(e,r,s)),n--,o=ht(n),pt(e,o,i),s=Ye[o],0!==s&&(n-=rt[o],dt(e,n,s)))}while(a<e.sym_next);pt(e,256,t)},bt=(e,t)=>{const i=t.dyn_tree,n=t.stat_desc.static_tree,r=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,a,l,c=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<o;s++)0!==i[2*s]?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):i[2*s+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,i[2*l]=1,e.depth[l]=0,e.opt_len--,r&&(e.static_len-=n[2*l+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)_t(e,i,s);l=o;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_t(e,i,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,i[2*l]=i[2*s]+i[2*a],e.depth[l]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,i[2*s+1]=i[2*a+1]=l,e.heap[1]=l++,_t(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,n=t.max_code,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,h,u,d,p,g,m=0;for(d=0;d<=15;d++)e.bl_count[d]=0;for(i[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)h=e.heap[c],d=i[2*i[2*h+1]+1]+1,d>l&&(d=l,m++),i[2*h+1]=d,h>n||(e.bl_count[d]++,p=0,h>=a&&(p=s[h-a]),g=i[2*h],e.opt_len+=g*(d+p),o&&(e.static_len+=g*(r[2*h+1]+p)));if(0!==m){do{for(d=l-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(d=l;0!==d;d--)for(h=e.bl_count[d];0!==h;)u=e.heap[--c],u>n||(i[2*u+1]!==d&&(e.opt_len+=(d-i[2*u+1])*i[2*u],i[2*u+1]=d),h--)}})(e,t),mt(i,c,e.bl_count)},wt=(e,t,i)=>{let n,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=s,s=t[2*(n+1)+1],++a<l&&r===s||(a<c?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4))},kt=(e,t,i)=>{let n,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),n=0;n<=i;n++)if(r=s,s=t[2*(n+1)+1],!(++a<l&&r===s)){if(a<c)do{pt(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(pt(e,r,e.bl_tree),a--),pt(e,16,e.bl_tree),dt(e,a-3,2)):a<=10?(pt(e,17,e.bl_tree),dt(e,a-3,3)):(pt(e,18,e.bl_tree),dt(e,a-11,7));a=0,o=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4)}};let At=!1;const Tt=(e,t,i,n)=>{dt(e,0+(n?1:0),3),yt(e),ut(e,i),ut(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i};var Ct={_tr_init:e=>{At||((()=>{let e,t,i,n,r;const o=new Array(16);for(i=0,n=0;n<28;n++)for(nt[n]=i,e=0;e<1<<Qe[n];e++)it[i++]=n;for(it[i-1]=n,r=0,n=0;n<16;n++)for(rt[n]=r,e=0;e<1<<Ye[n];e++)tt[r++]=n;for(r>>=7;n<30;n++)for(rt[n]=r<<7,e=0;e<1<<Ye[n]-7;e++)tt[256+r++]=n;for(t=0;t<=15;t++)o[t]=0;for(e=0;e<=143;)$e[2*e+1]=8,e++,o[8]++;for(;e<=255;)$e[2*e+1]=9,e++,o[9]++;for(;e<=279;)$e[2*e+1]=7,e++,o[7]++;for(;e<=287;)$e[2*e+1]=8,e++,o[8]++;for(mt($e,287,o),e=0;e<30;e++)et[2*e+1]=5,et[2*e]=gt(e,5);st=new ot($e,Qe,257,286,15),at=new ot(et,Ye,0,30,15),lt=new ot(new Array(0),Je,0,19,7)})(),At=!0),e.l_desc=new ct(e.dyn_ltree,st),e.d_desc=new ct(e.dyn_dtree,at),e.bl_desc=new ct(e.bl_tree,lt),e.bi_buf=0,e.bi_valid=0,ft(e)},_tr_stored_block:Tt,_tr_flush_block:(e,t,i,n)=>{let r,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),bt(e,e.l_desc),bt(e,e.d_desc),s=(e=>{let t;for(wt(e,e.dyn_ltree,e.l_desc.max_code),wt(e,e.dyn_dtree,e.d_desc.max_code),bt(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*Xe[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!==t?Tt(e,t,i,n):4===e.strategy||o===r?(dt(e,2+(n?1:0),3),xt(e,$e,et)):(dt(e,4+(n?1:0),3),((e,t,i,n)=>{let r;for(dt(e,t-257,5),dt(e,i-1,5),dt(e,n-4,4),r=0;r<n;r++)dt(e,e.bl_tree[2*Xe[r]+1],3);kt(e,e.dyn_ltree,t-1),kt(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),xt(e,e.dyn_ltree,e.dyn_dtree)),ft(e),n&&yt(e)},_tr_tally:(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(it[i]+256+1)]++,e.dyn_dtree[2*ht(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{dt(e,2,3),pt(e,256,$e),(e=>{16===e.bi_valid?(ut(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},St=(e,t,i,n)=>{let r=65535&e|0,o=e>>>16&65535|0,s=0;for(;0!==i;){s=i>2e3?2e3:i,i-=s;do{r=r+t[n++]|0,o=o+r|0}while(--s);r%=65521,o%=65521}return r|o<<16|0};const Et=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var zt=(e,t,i,n)=>{const r=Et,o=n+i;e^=-1;for(let i=n;i<o;i++)e=e>>>8^r[255&(e^t[i])];return-1^e},Pt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Mt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Lt,_tr_stored_block:It,_tr_flush_block:Ot,_tr_tally:Dt,_tr_align:Rt}=Ct,{Z_NO_FLUSH:Bt,Z_PARTIAL_FLUSH:jt,Z_FULL_FLUSH:Nt,Z_FINISH:Ft,Z_BLOCK:Zt,Z_OK:qt,Z_STREAM_END:Ut,Z_STREAM_ERROR:Vt,Z_DATA_ERROR:Ht,Z_BUF_ERROR:Wt,Z_DEFAULT_COMPRESSION:Kt,Z_FILTERED:Gt,Z_HUFFMAN_ONLY:Qt,Z_RLE:Yt,Z_FIXED:Jt,Z_DEFAULT_STRATEGY:Xt,Z_UNKNOWN:$t,Z_DEFLATED:ei}=Mt,ti=258,ii=262,ni=42,ri=113,oi=666,si=(e,t)=>(e.msg=Pt[t],t),ai=e=>2*e-(e>4?9:0),li=e=>{let t=e.length;for(;--t>=0;)e[t]=0},ci=e=>{let t,i,n,r=e.w_size;t=e.hash_size,n=t;do{i=e.head[--n],e.head[n]=i>=r?i-r:0}while(--t);t=r,n=t;do{i=e.prev[--n],e.prev[n]=i>=r?i-r:0}while(--t)};let hi=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const ui=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},di=(e,t)=>{Ot(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ui(e.strm)},pi=(e,t)=>{e.pending_buf[e.pending++]=t},gi=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},mi=(e,t,i,n)=>{let r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),1===e.state.wrap?e.adler=St(e.adler,t,r,i):2===e.state.wrap&&(e.adler=zt(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},fi=(e,t)=>{let i,n,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-ii?e.strstart-(e.w_size-ii):0,c=e.window,h=e.w_mask,u=e.prev,d=e.strstart+ti;let p=c[o+s-1],g=c[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(i=t,c[i+s]===g&&c[i+s-1]===p&&c[i]===c[o]&&c[++i]===c[o+1]){o+=2,i++;do{}while(c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&o<d);if(n=ti-(d-o),o=d-ti,n>s){if(e.match_start=t,s=n,n>=a)break;p=c[o+s-1],g=c[o+s]}}}while((t=u[t&h])>l&&0!=--r);return s<=e.lookahead?s:e.lookahead},yi=e=>{const t=e.w_size;let i,n,r;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ii)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),ci(e),n+=t),0===e.strm.avail_in)break;if(i=mi(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=hi(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=hi(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ii&&0!==e.strm.avail_in)},vi=(e,t)=>{let i,n,r,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,a=e.strm.avail_in;do{if(i=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,n=e.strstart-e.block_start,i>n+e.strm.avail_in&&(i=n+e.strm.avail_in),i>r&&(i=r),i<o&&(0===i&&t!==Ft||t===Bt||i!==n+e.strm.avail_in))break;s=t===Ft&&i===n+e.strm.avail_in?1:0,It(e,0,0,s),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,ui(e.strm),n&&(n>i&&(n=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,i-=n),i&&(mi(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(0===s);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==Bt&&t!==Ft&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(mi(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,o=r>e.w_size?e.w_size:r,n=e.strstart-e.block_start,(n>=o||(n||t===Ft)&&t!==Bt&&0===e.strm.avail_in&&n<=r)&&(i=n>r?r:n,s=t===Ft&&0===e.strm.avail_in&&i===n?1:0,It(e,e.block_start,i,s),e.block_start+=i,ui(e.strm)),s?3:1)},_i=(e,t)=>{let i,n;for(;;){if(e.lookahead<ii){if(yi(e),e.lookahead<ii&&t===Bt)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=hi(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-ii&&(e.match_length=fi(e,i)),e.match_length>=3)if(n=Dt(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=hi(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=hi(e,e.ins_h,e.window[e.strstart+1]);else n=Dt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(di(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Ft?(di(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(di(e,!1),0===e.strm.avail_out)?1:2},xi=(e,t)=>{let i,n,r;for(;;){if(e.lookahead<ii){if(yi(e),e.lookahead<ii&&t===Bt)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=hi(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-ii&&(e.match_length=fi(e,i),e.match_length<=5&&(e.strategy===Gt||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=Dt(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=hi(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(di(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=Dt(e,0,e.window[e.strstart-1]),n&&di(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Dt(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Ft?(di(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(di(e,!1),0===e.strm.avail_out)?1:2};function bi(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}const wi=[new bi(0,0,0,0,vi),new bi(4,4,8,4,_i),new bi(4,5,16,8,_i),new bi(4,6,32,32,_i),new bi(4,4,16,16,xi),new bi(8,16,32,32,xi),new bi(8,16,128,128,xi),new bi(8,32,128,256,xi),new bi(32,128,258,1024,xi),new bi(32,258,258,4096,xi)];function ki(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ei,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),li(this.dyn_ltree),li(this.dyn_dtree),li(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),li(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),li(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ai=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==ni&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==ri&&t.status!==oi?1:0},Ti=e=>{if(Ai(e))return si(e,Vt);e.total_in=e.total_out=0,e.data_type=$t;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?ni:ri,e.adler=2===t.wrap?0:1,t.last_flush=-2,Lt(t),qt},Ci=e=>{const t=Ti(e);var i;return t===qt&&((i=e.state).window_size=2*i.w_size,li(i.head),i.max_lazy_match=wi[i.level].max_lazy,i.good_match=wi[i.level].good_length,i.nice_match=wi[i.level].nice_length,i.max_chain_length=wi[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),t},Si=(e,t,i,n,r,o)=>{if(!e)return Vt;let s=1;if(t===Kt&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||i!==ei||n<8||n>15||t<0||t>9||o<0||o>Jt||8===n&&1!==s)return si(e,Vt);8===n&&(n=9);const a=new ki;return e.state=a,a.strm=e,a.status=ni,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=o,a.method=i,Ci(e)};var Ei={deflateInit:(e,t)=>Si(e,t,ei,15,8,Xt),deflateInit2:Si,deflateReset:Ci,deflateResetKeep:Ti,deflateSetHeader:(e,t)=>Ai(e)||2!==e.state.wrap?Vt:(e.state.gzhead=t,qt),deflate:(e,t)=>{if(Ai(e)||t>Zt||t<0)return e?si(e,Vt):Vt;const i=e.state;if(!e.output||0!==e.avail_in&&!e.input||i.status===oi&&t!==Ft)return si(e,0===e.avail_out?Wt:Vt);const n=i.last_flush;if(i.last_flush=t,0!==i.pending){if(ui(e),0===e.avail_out)return i.last_flush=-1,qt}else if(0===e.avail_in&&ai(t)<=ai(n)&&t!==Ft)return si(e,Wt);if(i.status===oi&&0!==e.avail_in)return si(e,Wt);if(i.status===ni&&0===i.wrap&&(i.status=ri),i.status===ni){let t=ei+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=Qt||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,gi(i,t),0!==i.strstart&&(gi(i,e.adler>>>16),gi(i,65535&e.adler)),e.adler=1,i.status=ri,ui(e),0!==i.pending)return i.last_flush=-1,qt}if(57===i.status)if(e.adler=0,pi(i,31),pi(i,139),pi(i,8),i.gzhead)pi(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),pi(i,255&i.gzhead.time),pi(i,i.gzhead.time>>8&255),pi(i,i.gzhead.time>>16&255),pi(i,i.gzhead.time>>24&255),pi(i,9===i.level?2:i.strategy>=Qt||i.level<2?4:0),pi(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(pi(i,255&i.gzhead.extra.length),pi(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=zt(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(pi(i,0),pi(i,0),pi(i,0),pi(i,0),pi(i,0),pi(i,9===i.level?2:i.strategy>=Qt||i.level<2?4:0),pi(i,3),i.status=ri,ui(e),0!==i.pending)return i.last_flush=-1,qt;if(69===i.status){if(i.gzhead.extra){let t=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let r=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+r),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>t&&(e.adler=zt(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex+=r,ui(e),0!==i.pending)return i.last_flush=-1,qt;t=0,n-=r}let r=new Uint8Array(i.gzhead.extra);i.pending_buf.set(r.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>t&&(e.adler=zt(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=zt(e.adler,i.pending_buf,i.pending-n,n)),ui(e),0!==i.pending)return i.last_flush=-1,qt;n=0}t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,pi(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=zt(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=zt(e.adler,i.pending_buf,i.pending-n,n)),ui(e),0!==i.pending)return i.last_flush=-1,qt;n=0}t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,pi(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=zt(e.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(ui(e),0!==i.pending))return i.last_flush=-1,qt;pi(i,255&e.adler),pi(i,e.adler>>8&255),e.adler=0}if(i.status=ri,ui(e),0!==i.pending)return i.last_flush=-1,qt}if(0!==e.avail_in||0!==i.lookahead||t!==Bt&&i.status!==oi){let n=0===i.level?vi(i,t):i.strategy===Qt?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(yi(e),0===e.lookahead)){if(t===Bt)return 1;break}if(e.match_length=0,i=Dt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(di(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ft?(di(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(di(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===Yt?((e,t)=>{let i,n,r,o;const s=e.window;for(;;){if(e.lookahead<=ti){if(yi(e),e.lookahead<=ti&&t===Bt)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,n=s[r],n===s[++r]&&n===s[++r]&&n===s[++r])){o=e.strstart+ti;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<o);e.match_length=ti-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=Dt(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=Dt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(di(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ft?(di(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(di(e,!1),0===e.strm.avail_out)?1:2})(i,t):wi[i.level].func(i,t);if(3!==n&&4!==n||(i.status=oi),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),qt;if(2===n&&(t===jt?Rt(i):t!==Zt&&(It(i,0,0,!1),t===Nt&&(li(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ui(e),0===e.avail_out))return i.last_flush=-1,qt}return t!==Ft?qt:i.wrap<=0?Ut:(2===i.wrap?(pi(i,255&e.adler),pi(i,e.adler>>8&255),pi(i,e.adler>>16&255),pi(i,e.adler>>24&255),pi(i,255&e.total_in),pi(i,e.total_in>>8&255),pi(i,e.total_in>>16&255),pi(i,e.total_in>>24&255)):(gi(i,e.adler>>>16),gi(i,65535&e.adler)),ui(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?qt:Ut)},deflateEnd:e=>{if(Ai(e))return Vt;const t=e.state.status;return e.state=null,t===ri?si(e,Ht):qt},deflateSetDictionary:(e,t)=>{let i=t.length;if(Ai(e))return Vt;const n=e.state,r=n.wrap;if(2===r||1===r&&n.status!==ni||n.lookahead)return Vt;if(1===r&&(e.adler=St(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===r&&(li(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(i-n.w_size,i),0),t=e,i=n.w_size}const o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,yi(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=hi(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,yi(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,n.wrap=r,qt},deflateInfo:"pako deflate (from Nodeca project)"};const zi=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Pi={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const t in i)zi(i,t)&&(e[t]=i[t])}}return e},flattenChunks:e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,n=0,r=e.length;t<r;t++){let r=e[t];i.set(r,n),n+=r.length}return i}};let Mi=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Mi=!1}const Li=new Uint8Array(256);for(let e=0;e<256;e++)Li[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Li[254]=Li[254]=1;var Ii={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,n,r,o,s=e.length,a=0;for(r=0;r<s;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(a),o=0,r=0;o<a;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},buf2string:(e,t)=>{const i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,r;const o=new Array(2*i);for(r=0,n=0;n<i;){let t=e[n++];if(t<128){o[r++]=t;continue}let s=Li[t];if(s>4)o[r++]=65533,n+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&n<i;)t=t<<6|63&e[n++],s--;s>1?o[r++]=65533:t<65536?o[r++]=t:(t-=65536,o[r++]=55296|t>>10&1023,o[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Mi)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i})(o,r)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+Li[e[i]]>t?i:t}},Oi=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Di=Object.prototype.toString,{Z_NO_FLUSH:Ri,Z_SYNC_FLUSH:Bi,Z_FULL_FLUSH:ji,Z_FINISH:Ni,Z_OK:Fi,Z_STREAM_END:Zi,Z_DEFAULT_COMPRESSION:qi,Z_DEFAULT_STRATEGY:Ui,Z_DEFLATED:Vi}=Mt;function Hi(e){this.options=Pi.assign({level:qi,method:Vi,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ui},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oi,this.strm.avail_out=0;let i=Ei.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==Fi)throw new Error(Pt[i]);if(t.header&&Ei.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Ii.string2buf(t.dictionary):"[object ArrayBuffer]"===Di.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=Ei.deflateSetDictionary(this.strm,e),i!==Fi)throw new Error(Pt[i]);this._dict_set=!0}}function Wi(e,t){const i=new Hi(t);if(i.push(e,!0),i.err)throw i.msg||Pt[i.err];return i.result}Hi.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize;let r,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?Ni:Ri,"string"==typeof e?i.input=Ii.string2buf(e):"[object ArrayBuffer]"===Di.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(o===Bi||o===ji)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(r=Ei.deflate(i,o),r===Zi)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=Ei.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Fi;if(0!==i.avail_out){if(o>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},Hi.prototype.onData=function(e){this.chunks.push(e)},Hi.prototype.onEnd=function(e){e===Fi&&(this.result=Pi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ki={Deflate:Hi,deflate:Wi,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Wi(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Wi(e,t)},constants:Mt};const Gi=16209;var Qi=function(e,t){let i,n,r,o,s,a,l,c,h,u,d,p,g,m,f,y,v,_,x,b,w,k,A,T;const C=e.state;i=e.next_in,A=e.input,n=i+(e.avail_in-5),r=e.next_out,T=e.output,o=r-(t-e.avail_out),s=r+(e.avail_out-257),a=C.dmax,l=C.wsize,c=C.whave,h=C.wnext,u=C.window,d=C.hold,p=C.bits,g=C.lencode,m=C.distcode,f=(1<<C.lenbits)-1,y=(1<<C.distbits)-1;e:do{p<15&&(d+=A[i++]<<p,p+=8,d+=A[i++]<<p,p+=8),v=g[d&f];t:for(;;){if(_=v>>>24,d>>>=_,p-=_,_=v>>>16&255,0===_)T[r++]=65535&v;else{if(!(16&_)){if(0==(64&_)){v=g[(65535&v)+(d&(1<<_)-1)];continue t}if(32&_){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=Gi;break e}x=65535&v,_&=15,_&&(p<_&&(d+=A[i++]<<p,p+=8),x+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=A[i++]<<p,p+=8,d+=A[i++]<<p,p+=8),v=m[d&y];i:for(;;){if(_=v>>>24,d>>>=_,p-=_,_=v>>>16&255,!(16&_)){if(0==(64&_)){v=m[(65535&v)+(d&(1<<_)-1)];continue i}e.msg="invalid distance code",C.mode=Gi;break e}if(b=65535&v,_&=15,p<_&&(d+=A[i++]<<p,p+=8,p<_&&(d+=A[i++]<<p,p+=8)),b+=d&(1<<_)-1,b>a){e.msg="invalid distance too far back",C.mode=Gi;break e}if(d>>>=_,p-=_,_=r-o,b>_){if(_=b-_,_>c&&C.sane){e.msg="invalid distance too far back",C.mode=Gi;break e}if(w=0,k=u,0===h){if(w+=l-_,_<x){x-=_;do{T[r++]=u[w++]}while(--_);w=r-b,k=T}}else if(h<_){if(w+=l+h-_,_-=h,_<x){x-=_;do{T[r++]=u[w++]}while(--_);if(w=0,h<x){_=h,x-=_;do{T[r++]=u[w++]}while(--_);w=r-b,k=T}}}else if(w+=h-_,_<x){x-=_;do{T[r++]=u[w++]}while(--_);w=r-b,k=T}for(;x>2;)T[r++]=k[w++],T[r++]=k[w++],T[r++]=k[w++],x-=3;x&&(T[r++]=k[w++],x>1&&(T[r++]=k[w++]))}else{w=r-b;do{T[r++]=T[w++],T[r++]=T[w++],T[r++]=T[w++],x-=3}while(x>2);x&&(T[r++]=T[w++],x>1&&(T[r++]=T[w++]))}break}}break}}while(i<n&&r<s);x=p>>3,i-=x,p-=x<<3,d&=(1<<p)-1,e.next_in=i,e.next_out=r,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=r<s?s-r+257:257-(r-s),C.hold=d,C.bits=p};const Yi=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ji=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Xi=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$i=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var en=(e,t,i,n,r,o,s,a)=>{const l=a.bits;let c,h,u,d,p,g,m=0,f=0,y=0,v=0,_=0,x=0,b=0,w=0,k=0,A=0,T=null;const C=new Uint16Array(16),S=new Uint16Array(16);let E,z,P,M=null;for(m=0;m<=15;m++)C[m]=0;for(f=0;f<n;f++)C[t[i+f]]++;for(_=l,v=15;v>=1&&0===C[v];v--);if(_>v&&(_=v),0===v)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(y=1;y<v&&0===C[y];y++);for(_<y&&(_=y),w=1,m=1;m<=15;m++)if(w<<=1,w-=C[m],w<0)return-1;if(w>0&&(0===e||1!==v))return-1;for(S[1]=0,m=1;m<15;m++)S[m+1]=S[m]+C[m];for(f=0;f<n;f++)0!==t[i+f]&&(s[S[t[i+f]]++]=f);if(0===e?(T=M=s,g=20):1===e?(T=Yi,M=Ji,g=257):(T=Xi,M=$i,g=0),A=0,f=0,m=y,p=o,x=_,b=0,u=-1,k=1<<_,d=k-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){E=m-b,s[f]+1<g?(z=0,P=s[f]):s[f]>=g?(z=M[s[f]-g],P=T[s[f]-g]):(z=96,P=0),c=1<<m-b,h=1<<x,y=h;do{h-=c,r[p+(A>>b)+h]=E<<24|z<<16|P|0}while(0!==h);for(c=1<<m-1;A&c;)c>>=1;if(0!==c?(A&=c-1,A+=c):A=0,f++,0==--C[m]){if(m===v)break;m=t[i+s[f]]}if(m>_&&(A&d)!==u){for(0===b&&(b=_),p+=y,x=m-b,w=1<<x;x+b<v&&(w-=C[x+b],!(w<=0));)x++,w<<=1;if(k+=1<<x,1===e&&k>852||2===e&&k>592)return 1;u=A&d,r[u]=_<<24|x<<16|p-o|0}}return 0!==A&&(r[p+A]=m-b<<24|64<<16|0),a.bits=_,0};const{Z_FINISH:tn,Z_BLOCK:nn,Z_TREES:rn,Z_OK:on,Z_STREAM_END:sn,Z_NEED_DICT:an,Z_STREAM_ERROR:ln,Z_DATA_ERROR:cn,Z_MEM_ERROR:hn,Z_BUF_ERROR:un,Z_DEFLATED:dn}=Mt,pn=16180,gn=16190,mn=16191,fn=16192,yn=16194,vn=16199,_n=16200,xn=16206,bn=16209,wn=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function kn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const An=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<pn||t.mode>16211?1:0},Tn=e=>{if(An(e))return ln;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=pn,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,on},Cn=e=>{if(An(e))return ln;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Tn(e)},Sn=(e,t)=>{let i;if(An(e))return ln;const n=e.state;return t<0?(i=0,t=-t):(i=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?ln:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,Cn(e))},En=(e,t)=>{if(!e)return ln;const i=new kn;e.state=i,i.strm=e,i.window=null,i.mode=pn;const n=Sn(e,t);return n!==on&&(e.state=null),n};let zn,Pn,Mn=!0;const Ln=e=>{if(Mn){zn=new Int32Array(512),Pn=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(en(1,e.lens,0,288,zn,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;en(2,e.lens,0,32,Pn,0,e.work,{bits:5}),Mn=!1}e.lencode=zn,e.lenbits=9,e.distcode=Pn,e.distbits=5},In=(e,t,i,n)=>{let r;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(i-o.wsize,i),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>n&&(r=n),o.window.set(t.subarray(i-n,i-n+r),o.wnext),(n-=r)?(o.window.set(t.subarray(i-n,i),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0};var On={inflateReset:Cn,inflateReset2:Sn,inflateResetKeep:Tn,inflateInit:e=>En(e,15),inflateInit2:En,inflate:(e,t)=>{let i,n,r,o,s,a,l,c,h,u,d,p,g,m,f,y,v,_,x,b,w,k,A=0;const T=new Uint8Array(4);let C,S;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(An(e)||!e.output||!e.input&&0!==e.avail_in)return ln;i=e.state,i.mode===mn&&(i.mode=fn),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,c=i.hold,h=i.bits,u=a,d=l,k=on;e:for(;;)switch(i.mode){case pn:if(0===i.wrap){i.mode=fn;break}for(;h<16;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(2&i.wrap&&35615===c){0===i.wbits&&(i.wbits=15),i.check=0,T[0]=255&c,T[1]=c>>>8&255,i.check=zt(i.check,T,2,0),c=0,h=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",i.mode=bn;break}if((15&c)!==dn){e.msg="unknown compression method",i.mode=bn;break}if(c>>>=4,h-=4,w=8+(15&c),0===i.wbits&&(i.wbits=w),w>15||w>i.wbits){e.msg="invalid window size",i.mode=bn;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&c?16189:mn,c=0,h=0;break;case 16181:for(;h<16;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(i.flags=c,(255&i.flags)!==dn){e.msg="unknown compression method",i.mode=bn;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=bn;break}i.head&&(i.head.text=c>>8&1),512&i.flags&&4&i.wrap&&(T[0]=255&c,T[1]=c>>>8&255,i.check=zt(i.check,T,2,0)),c=0,h=0,i.mode=16182;case 16182:for(;h<32;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.head&&(i.head.time=c),512&i.flags&&4&i.wrap&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,i.check=zt(i.check,T,4,0)),c=0,h=0,i.mode=16183;case 16183:for(;h<16;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.head&&(i.head.xflags=255&c,i.head.os=c>>8),512&i.flags&&4&i.wrap&&(T[0]=255&c,T[1]=c>>>8&255,i.check=zt(i.check,T,2,0)),c=0,h=0,i.mode=16184;case 16184:if(1024&i.flags){for(;h<16;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.length=c,i.head&&(i.head.extra_len=c),512&i.flags&&4&i.wrap&&(T[0]=255&c,T[1]=c>>>8&255,i.check=zt(i.check,T,2,0)),c=0,h=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(p=i.length,p>a&&(p=a),p&&(i.head&&(w=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(o,o+p),w)),512&i.flags&&4&i.wrap&&(i.check=zt(i.check,n,p,o)),a-=p,o+=p,i.length-=p),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===a)break e;p=0;do{w=n[o+p++],i.head&&w&&i.length<65536&&(i.head.name+=String.fromCharCode(w))}while(w&&p<a);if(512&i.flags&&4&i.wrap&&(i.check=zt(i.check,n,p,o)),a-=p,o+=p,w)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===a)break e;p=0;do{w=n[o+p++],i.head&&w&&i.length<65536&&(i.head.comment+=String.fromCharCode(w))}while(w&&p<a);if(512&i.flags&&4&i.wrap&&(i.check=zt(i.check,n,p,o)),a-=p,o+=p,w)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;h<16;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(4&i.wrap&&c!==(65535&i.check)){e.msg="header crc mismatch",i.mode=bn;break}c=0,h=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=mn;break;case 16189:for(;h<32;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}e.adler=i.check=wn(c),c=0,h=0,i.mode=gn;case gn:if(0===i.havedict)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,i.hold=c,i.bits=h,an;e.adler=i.check=1,i.mode=mn;case mn:if(t===nn||t===rn)break e;case fn:if(i.last){c>>>=7&h,h-=7&h,i.mode=xn;break}for(;h<3;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}switch(i.last=1&c,c>>>=1,h-=1,3&c){case 0:i.mode=16193;break;case 1:if(Ln(i),i.mode=vn,t===rn){c>>>=2,h-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg="invalid block type",i.mode=bn}c>>>=2,h-=2;break;case 16193:for(c>>>=7&h,h-=7&h;h<32;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",i.mode=bn;break}if(i.length=65535&c,c=0,h=0,i.mode=yn,t===rn)break e;case yn:i.mode=16195;case 16195:if(p=i.length,p){if(p>a&&(p=a),p>l&&(p=l),0===p)break e;r.set(n.subarray(o,o+p),s),a-=p,o+=p,l-=p,s+=p,i.length-=p;break}i.mode=mn;break;case 16196:for(;h<14;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(i.nlen=257+(31&c),c>>>=5,h-=5,i.ndist=1+(31&c),c>>>=5,h-=5,i.ncode=4+(15&c),c>>>=4,h-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=bn;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;h<3;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.lens[E[i.have++]]=7&c,c>>>=3,h-=3}for(;i.have<19;)i.lens[E[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,C={bits:i.lenbits},k=en(0,i.lens,0,19,i.lencode,0,i.work,C),i.lenbits=C.bits,k){e.msg="invalid code lengths set",i.mode=bn;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;A=i.lencode[c&(1<<i.lenbits)-1],f=A>>>24,y=A>>>16&255,v=65535&A,!(f<=h);){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(v<16)c>>>=f,h-=f,i.lens[i.have++]=v;else{if(16===v){for(S=f+2;h<S;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(c>>>=f,h-=f,0===i.have){e.msg="invalid bit length repeat",i.mode=bn;break}w=i.lens[i.have-1],p=3+(3&c),c>>>=2,h-=2}else if(17===v){for(S=f+3;h<S;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}c>>>=f,h-=f,w=0,p=3+(7&c),c>>>=3,h-=3}else{for(S=f+7;h<S;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}c>>>=f,h-=f,w=0,p=11+(127&c),c>>>=7,h-=7}if(i.have+p>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=bn;break}for(;p--;)i.lens[i.have++]=w}}if(i.mode===bn)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=bn;break}if(i.lenbits=9,C={bits:i.lenbits},k=en(1,i.lens,0,i.nlen,i.lencode,0,i.work,C),i.lenbits=C.bits,k){e.msg="invalid literal/lengths set",i.mode=bn;break}if(i.distbits=6,i.distcode=i.distdyn,C={bits:i.distbits},k=en(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,C),i.distbits=C.bits,k){e.msg="invalid distances set",i.mode=bn;break}if(i.mode=vn,t===rn)break e;case vn:i.mode=_n;case _n:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,i.hold=c,i.bits=h,Qi(e,d),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,c=i.hold,h=i.bits,i.mode===mn&&(i.back=-1);break}for(i.back=0;A=i.lencode[c&(1<<i.lenbits)-1],f=A>>>24,y=A>>>16&255,v=65535&A,!(f<=h);){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(y&&0==(240&y)){for(_=f,x=y,b=v;A=i.lencode[b+((c&(1<<_+x)-1)>>_)],f=A>>>24,y=A>>>16&255,v=65535&A,!(_+f<=h);){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}c>>>=_,h-=_,i.back+=_}if(c>>>=f,h-=f,i.back+=f,i.length=v,0===y){i.mode=16205;break}if(32&y){i.back=-1,i.mode=mn;break}if(64&y){e.msg="invalid literal/length code",i.mode=bn;break}i.extra=15&y,i.mode=16201;case 16201:if(i.extra){for(S=i.extra;h<S;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.length+=c&(1<<i.extra)-1,c>>>=i.extra,h-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;A=i.distcode[c&(1<<i.distbits)-1],f=A>>>24,y=A>>>16&255,v=65535&A,!(f<=h);){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(0==(240&y)){for(_=f,x=y,b=v;A=i.distcode[b+((c&(1<<_+x)-1)>>_)],f=A>>>24,y=A>>>16&255,v=65535&A,!(_+f<=h);){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}c>>>=_,h-=_,i.back+=_}if(c>>>=f,h-=f,i.back+=f,64&y){e.msg="invalid distance code",i.mode=bn;break}i.offset=v,i.extra=15&y,i.mode=16203;case 16203:if(i.extra){for(S=i.extra;h<S;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}i.offset+=c&(1<<i.extra)-1,c>>>=i.extra,h-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=bn;break}i.mode=16204;case 16204:if(0===l)break e;if(p=d-l,i.offset>p){if(p=i.offset-p,p>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=bn;break}p>i.wnext?(p-=i.wnext,g=i.wsize-p):g=i.wnext-p,p>i.length&&(p=i.length),m=i.window}else m=r,g=s-i.offset,p=i.length;p>l&&(p=l),l-=p,i.length-=p;do{r[s++]=m[g++]}while(--p);0===i.length&&(i.mode=_n);break;case 16205:if(0===l)break e;r[s++]=i.length,l--,i.mode=_n;break;case xn:if(i.wrap){for(;h<32;){if(0===a)break e;a--,c|=n[o++]<<h,h+=8}if(d-=l,e.total_out+=d,i.total+=d,4&i.wrap&&d&&(e.adler=i.check=i.flags?zt(i.check,r,d,s-d):St(i.check,r,d,s-d)),d=l,4&i.wrap&&(i.flags?c:wn(c))!==i.check){e.msg="incorrect data check",i.mode=bn;break}c=0,h=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;h<32;){if(0===a)break e;a--,c+=n[o++]<<h,h+=8}if(4&i.wrap&&c!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=bn;break}c=0,h=0}i.mode=16208;case 16208:k=sn;break e;case bn:k=cn;break e;case 16210:return hn;default:return ln}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,i.hold=c,i.bits=h,(i.wsize||d!==e.avail_out&&i.mode<bn&&(i.mode<xn||t!==tn))&&In(e,e.output,e.next_out,d-e.avail_out),u-=e.avail_in,d-=e.avail_out,e.total_in+=u,e.total_out+=d,i.total+=d,4&i.wrap&&d&&(e.adler=i.check=i.flags?zt(i.check,r,d,e.next_out-d):St(i.check,r,d,e.next_out-d)),e.data_type=i.bits+(i.last?64:0)+(i.mode===mn?128:0)+(i.mode===vn||i.mode===yn?256:0),(0===u&&0===d||t===tn)&&k===on&&(k=un),k},inflateEnd:e=>{if(An(e))return ln;let t=e.state;return t.window&&(t.window=null),e.state=null,on},inflateGetHeader:(e,t)=>{if(An(e))return ln;const i=e.state;return 0==(2&i.wrap)?ln:(i.head=t,t.done=!1,on)},inflateSetDictionary:(e,t)=>{const i=t.length;let n,r,o;return An(e)?ln:(n=e.state,0!==n.wrap&&n.mode!==gn?ln:n.mode===gn&&(r=1,r=St(r,t,i,0),r!==n.check)?cn:(o=In(e,t,i,i),o?(n.mode=16210,hn):(n.havedict=1,on)))},inflateInfo:"pako inflate (from Nodeca project)"},Dn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Rn=Object.prototype.toString,{Z_NO_FLUSH:Bn,Z_FINISH:jn,Z_OK:Nn,Z_STREAM_END:Fn,Z_NEED_DICT:Zn,Z_STREAM_ERROR:qn,Z_DATA_ERROR:Un,Z_MEM_ERROR:Vn}=Mt;function Hn(e){this.options=Pi.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oi,this.strm.avail_out=0;let i=On.inflateInit2(this.strm,t.windowBits);if(i!==Nn)throw new Error(Pt[i]);if(this.header=new Dn,On.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Ii.string2buf(t.dictionary):"[object ArrayBuffer]"===Rn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=On.inflateSetDictionary(this.strm,t.dictionary),i!==Nn)))throw new Error(Pt[i])}function Wn(e,t){const i=new Hn(t);if(i.push(e),i.err)throw i.msg||Pt[i.err];return i.result}Hn.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=t===~~t?t:!0===t?jn:Bn,"[object ArrayBuffer]"===Rn.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),o=On.inflate(i,s),o===Zn&&r&&(o=On.inflateSetDictionary(i,r),o===Nn?o=On.inflate(i,s):o===Un&&(o=Zn));i.avail_in>0&&o===Fn&&i.state.wrap>0&&0!==e[i.next_in];)On.inflateReset(i),o=On.inflate(i,s);switch(o){case qn:case Un:case Zn:case Vn:return this.onEnd(o),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||o===Fn))if("string"===this.options.to){let e=Ii.utf8border(i.output,i.next_out),t=i.next_out-e,r=Ii.buf2string(i.output,e);i.next_out=t,i.avail_out=n-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(r)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(o!==Nn||0!==a){if(o===Fn)return o=On.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},Hn.prototype.onData=function(e){this.chunks.push(e)},Hn.prototype.onEnd=function(e){e===Nn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Pi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Kn={Inflate:Hn,inflate:Wn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Wn(e,t)},ungzip:Wn,constants:Mt};const{Deflate:Gn,deflate:Qn,deflateRaw:Yn,gzip:Jn}=Ki,{Inflate:Xn,inflate:$n,inflateRaw:er,ungzip:tr}=Kn;var ir,nr,rr,or,sr,ar,lr=Qn,cr=$n;!function(e){e.free=function(e,t){return Math.floor(e/[1,2,4,8,16,32,64,128][t-1])%2!=0}}(ir||(ir={})),function(e){e.eq=function(e,t){return d.eq2(e.tile,t.tile)&&e.direction==t.direction}}(nr||(nr={}));class hr{async fetch(e,t,i){let n=await fetch(`map/collision/collision-${e}-${t}-${i}.bin`);return new Uint8Array(cr(await n.arrayBuffer()))}constructor(){this.meta={chunks_per_file:20,chunks_x:100,chunks_z:200,chunk_size:64},this.chunks=[null,null,null,null].map((()=>Array(this.meta.chunks_x*this.meta.chunks_z/(this.meta.chunks_per_file*this.meta.chunks_per_file))))}static get(){return hr._instance}async getTile(e){let t=e.level||0,i=Math.floor(e.x/(this.meta.chunk_size*this.meta.chunks_per_file)),n=Math.floor(e.y/(this.meta.chunk_size*this.meta.chunks_per_file)),r=n*this.meta.chunks_per_file+i;if(!this.chunks[t][r]){let e=this.fetch(i,n,t);this.chunks[t][r]=e,e.then((e=>{this.chunks[t][r]=e}))}let o=e.x%(this.meta.chunk_size*this.meta.chunks_per_file),s=e.y%(this.meta.chunk_size*this.meta.chunks_per_file)*(this.meta.chunk_size*this.meta.chunks_per_file)+o;return(await this.chunks[t][r])[s]}}function ur(e,t){return{x:e.x+t.x,y:e.y+t.y,level:e.level}}async function dr(e,t,i){return ir.free(await e.getTile(t),i)}hr._instance=new hr,function(e){e.cardinals=[1,2,3,4],e.ordinals=[5,6,7,8],e.all=[1,2,3,4,5,6,7,8];const t=[{x:0,y:0},{x:-1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:-1},{x:-1,y:1},{x:1,y:1},{x:1,y:-1},{x:-1,y:-1}];function i(e){return t[e]}function n(e){let t=h.clampInto(e,{topleft:{x:-11,y:11},botright:{x:11,y:-11}});return[[5,5,5,5,5,5,2,2,2,2,2,2,2,2,2,2,2,6,6,6,6,6,6],[5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,2,6,6,6,6,6,6,6],[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,6,6,6,6,6,6,6,6],[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,6,6,6,6,6,6,6,6],[5,5,5,5,5,5,5,5,5,2,2,2,2,2,6,6,6,6,6,6,6,6,6],[5,5,5,5,5,5,5,5,5,2,2,2,2,2,6,6,6,6,6,6,6,6,6],[1,5,5,5,5,5,5,5,5,2,2,2,2,2,6,6,6,6,6,6,6,6,3],[1,1,5,5,5,5,5,5,5,5,2,2,2,6,6,6,6,6,6,6,6,3,3],[1,1,1,1,5,5,5,5,5,5,2,2,2,6,6,6,6,6,6,3,3,3,3],[1,1,1,1,1,1,1,5,5,5,5,2,6,6,6,6,3,3,3,3,3,3,3],[1,1,1,1,1,1,1,1,1,5,5,2,6,6,3,3,3,3,3,3,3,3,3],[1,1,1,1,1,1,1,1,1,1,1,0,3,3,3,3,3,3,3,3,3,3,3],[1,1,1,1,1,1,1,1,1,8,8,4,7,7,3,3,3,3,3,3,3,3,3],[1,1,1,1,1,1,1,8,8,8,8,4,7,7,7,7,3,3,3,3,3,3,3],[1,1,1,1,8,8,8,8,8,8,4,4,4,7,7,7,7,7,7,3,3,3,3],[1,1,8,8,8,8,8,8,8,8,4,4,4,7,7,7,7,7,7,7,7,3,3],[1,8,8,8,8,8,8,8,8,4,4,4,4,4,7,7,7,7,7,7,7,7,3],[8,8,8,8,8,8,8,8,8,4,4,4,4,4,7,7,7,7,7,7,7,7,7],[8,8,8,8,8,8,8,8,8,4,4,4,4,4,7,7,7,7,7,7,7,7,7],[8,8,8,8,8,8,8,8,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7],[8,8,8,8,8,8,8,8,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7],[8,8,8,8,8,8,8,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7],[8,8,8,8,8,8,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7]][11-t.y][t.x+11]}e.invert=function(e){return[0,3,4,1,2,7,8,5,6][e]},e.isCardinal=function(e){return e>=1&&e<=4},e.isOrdinal=function(e){return e>=5},e.toVector=i,e.fromDelta=function(e){return[[8,4,7],[1,0,3],[5,2,6]][e.y+1][e.x+1]},e.fromVector=n,e.toString=function(e){return["Center","West","North","East","South","North-West","North-East","South-East","South-West"][e]},e.toShortString=function(e){return["C","W","N","E","S","NW","NE","SE","SW"][e]},e.center=0,e.west=1,e.north=2,e.east=3,e.south=4,e.northwest=5,e.northeast=6,e.southeast=7,e.southwest=8,e.transform=function(e,t){return n(l.snap(l.transform(i(e),t)))},e.split=function(t){return[[e.north,e.west],[e.north,e.east],[e.south,e.east],[e.south,e.west]][t-5]},e.rotate=function(t,i){return t==e.center?e.center:(t-1+i)%4+1+4*Math.floor(t/5)},e.continuations=function(t){return[[],[e.west],[e.north],[e.east],[e.south],[e.north,e.west,e.northwest],[e.north,e.east,e.northeast],[e.south,e.east,e.southeast],[e.south,e.west,e.southwest]][t]}}(rr||(rr={})),function(e){function t(e,t){let n=function t(i){var n,r;let o=null===(n=e.tiles.get(i))||void 0===n?void 0:n.parent;if(null==(null===(r=e.tiles.get(i))||void 0===r?void 0:r.parent))return[i];let s=t(o);return s.push(i),s}(t).map((e=>m.clone(e.coords)));return n.forEach((t=>t.level=e.start.level)),i(n)}function i(e){let t=[],i=rr.center,n=e[0];for(let r=1;r<e.length;r++){let o=rr.fromDelta(l.sign(l.sub(e[r],n)));o!=i&&(t.push(n),n=e[r],i=o),n=e[r]}return t.push(n),t}e.init_djikstra=function(e,t=hr.get()){let i={data:t,start:e,tiles:new Ke,queue:[Ke.split(e)],next:0};return i.tiles.set(i.queue[0],{parent:null}),i},e.find=async function(e,i){if(i.origin.level!=e.start.level)return null;if(ar.isSingleTile(i)){let t=Ke.split(i.origin);if(!rr.cardinals.some((t=>dr(e.data,ur(i.origin,rr.toVector(t)),rr.invert(t)))))return e.tiles.set(t,{parent:null,unreachable:!0}),null}let n=ar.activate(i);{let r=n.size;for(let o=0;o<r.x;o++)for(let s=0;s<r.y;s++){const r={x:i.origin.x+o,y:i.origin.y+s,level:i.origin.level};if(n.query(r)){let i=Ke.split(r),n=e.tiles.get(i);if(null!=n)return n.unreachable?null:t(e,i)}}}let r=await async function(e,t,i){for(;e.blocked;)await new Promise((e=>setTimeout(e,100)));function r(t,i){let n=Ke.split(t);null==e.tiles.get(n)&&(e.tiles.set(n,{parent:i}),e.queue.push(n))}for(e.blocked=!0;e.queue.length<5e3&&e.next<e.queue.length;){let t=e.queue[e.next++];const i=[1,2,3,4,5,6,7,8];for(let n of i)await dr(e.data,t.coords,n)&&r(ur(t.coords,rr.toVector(n)),t);if(o=t.coords,n.query(o))return e.blocked=!1,t.coords}var o;return e.blocked=!1,null}(e);if(!r){let t=ar.size(i);for(let r=0;r<t.x;r++)for(let o=0;o<t.y;o++){const t={x:i.origin.x+r,y:i.origin.y+o,level:i.origin.level};n.query(t)&&e.tiles.set(Ke.split(t),{parent:null,unreachable:!0})}return null}return t(e,Ke.split(r))},e.idealPath=function(e,t){if(e.level!=t.level)return null;let i=l.sub(t,e),n=l.abs(i),r=l.add(e,n.x>=n.y?{x:Math.sign(i.x)*(n.x-n.y),y:0}:{x:0,y:Math.sign(i.y)*(n.y-n.x)});return[e,d.lift(r,e.level),t]},e.cleanWaypoints=i,e.pathLength=function(e){let t=0;for(let i=0;i<e.length-1;i++)t+=d.distance(e[i],e[i+1]);return t}}(or||(or={})),function(e){async function t(e,t,i){if(t.level!=i.level)return null;let n=l.sign(l.sub(i,t)),r=h.from(t,i),o=[];for(0!=n.x&&0!=n.y&&o.push({delta:n,dir:rr.fromDelta(n)}),0!=n.x&&o.push({delta:{x:n.x,y:0},dir:rr.fromDelta({x:n.x,y:0})}),0!=n.y&&o.push({delta:{x:0,y:n.y},dir:rr.fromDelta({x:0,y:n.y})});;){if(l.eq(t,i))return{tile:t,direction:rr.fromVector(l.sub(i,t))};let n=null;for(let i of o){let o=ur(t,i.delta);if(h.containsTile(r,o)&&await dr(e,t,i.dir)){n=o;break}}if(!n)return null;t=n}}async function i(e,i,n,r){let o=rr.toVector(n);for(let n=r;n>0;n--){let r=await t(e,i,ur(i,l.scale(n,o)));if(r)return r}return null}async function n(e,n,r=hr.get()){let o=l.sub(n,e);if(l.max_axis(o)>10){let t=rr.fromVector(o);return await i(r,e,t,10)}return t(r,e,n)}async function r(e,t,i=hr.get()){return n(e,t,i)}async function o(e,t=hr.get()){return i(t,e.tile,e.direction,10)}async function s(e,t=hr.get()){let n=await i(t,e.tile,rr.invert(e.direction),7);return n?{tile:n.tile,direction:e.direction}:null}e.possibility_raster=async function(e,t=[]){const i=ar.activate(ar.init(d.move(e,{x:-10,y:-10}),{x:21,y:21},!1));async function n(t){i.set(t.position,!0);let r=l.abs(l.sub(t.position,e)),o=r.x<10,s=r.y<10;if(rr.isCardinal(t.movement))s&&o&&await dr(hr.get(),t.position,t.movement)&&await n({position:d.move(t.position,rr.toVector(t.movement)),movement:t.movement});else{let[e,i]=rr.split(t.movement);o&&s&&await dr(hr.get(),t.position,t.movement)?(await n({position:d.move(t.position,rr.toVector(t.movement)),movement:t.movement}),await dr(hr.get(),t.position,e)&&await n({position:d.move(t.position,rr.toVector(e)),movement:e}),await dr(hr.get(),t.position,i)&&await n({position:d.move(t.position,rr.toVector(i)),movement:i})):o&&await dr(hr.get(),t.position,i)?(await n({position:d.move(t.position,rr.toVector(i)),movement:t.movement}),await dr(hr.get(),t.position,e)&&await n({position:d.move(t.position,rr.toVector(e)),movement:e})):s&&await dr(hr.get(),t.position,e)&&await n({position:d.move(t.position,rr.toVector(e)),movement:t.movement})}}for(let t of rr.ordinals)await n({position:e,movement:t});function r(t,n){if(0==n)return e;const o=d.move(e,l.scale(n,rr.toVector(t)));return i.query(o)?o:r(t,n-1)}return{targets:t.map((e=>({direction:e,surge:r(e,10),escape:r(rr.invert(e),7)}))),data:i}},e.dive=n,e.barge=r,e.surge=o,e.escape=s,e.generic=async function(e,t,i,a){switch(t){case"surge":return o({tile:i,direction:rr.fromVector(l.sub(a,i))},e);case"dive":return n(i,a,e);case"escape":return s({tile:i,direction:rr.fromVector(l.sub(i,a))},e);case"barge":return r(i,a,e)}},e.cooldown=function(e,t,i){switch(e){case"surge":case"dive":return t?2:i?17:34;case"escape":return i?17:34;case"barge":return 34}}}(sr||(sr={})),function(e){var t=We.todo;class i{constructor(e){var t;this.parent=e,this.size=null!==(t=m.cloneDeep(e.size))&&void 0!==t?t:{x:1,y:1},e.data?this.data=(0,Be.K9)(e.data):this.data=new Uint8Array(Math.ceil(this.size.x*this.size.y/8)).fill(255),this.origin=m.cloneDeep(e.origin)}resize(e){t()}save(){const e=p.from(this.origin,d.move(this.origin,l.sub(this.size,{x:1,y:1}))),t=(()=>{for(let t=e.topleft.x;t<=e.botright.x;t++)for(let i=e.botright.y;i<=e.topleft.y;i++)if(!this.query({x:t,y:i,level:e.level}))return!1;return!0})();return this.parent.data=t?void 0:(0,Be.J2)(this.data),1==this.size.x&&1==this.size.y?this.parent.size=void 0:this.parent.size=m.cloneDeep(this.size),this.parent.origin=m.cloneDeep(this.origin),this}disconnect(){this.parent&&(this.parent._active=null,this.parent=null)}index(e){const t=l.sub(e,this.origin),i=t.x+t.y*this.size.x;return[Math.floor(i/8),i%8]}query(e){const t=this.size;if(e.x<this.origin.x||e.y<this.origin.y||e.x>=this.origin.x+t.x||e.y>=this.origin.y+t.y)return!1;const[i,n]=this.index(e);return 0!=(this.data[i]>>n&1)}set(e,t){const[i,n]=this.index(e);return t?this.data[i]|=1<<n:this.data[i]&=255-(1<<n),this}add(e){return this.set(e,!0),this}remove(e){return this.set(e,!1),this}setRectangle(e,t=!0){for(let i=e.topleft.x;i<=e.botright.x;i++)for(let n=e.botright.y;n<=e.topleft.y;n++)this.set({x:i,y:n,level:e.level},t);return this}rect(){return p.from(this.origin,d.move(this.origin,l.add(this.size,{x:-1,y:-1})))}center(){let e=[{pos:p.center(this.rect()),dirs:rr.all}],t=0;for(;t<e.length&&t<50;){const i=e[t];if(this.query(i.pos))return i.pos;for(let t of i.dirs)e.push({pos:d.move(i.pos,rr.toVector(t)),dirs:rr.continuations(t)});t++}return null}getTiles(){const e=[];for(let t=0;t<this.size.x;t++)for(let i=0;i<this.size.y;i++){const n=d.move(this.origin,{x:t,y:i});this.query(n)&&e.push(n)}return e}}function n(e){var t;return e?(null===(t=e._active)||void 0===t?void 0:t.query)?e._active:e._active=new i(e):null}function r(e,t={x:1,y:1},i=!0){return{origin:e,size:t,data:i?void 0:(0,Be.J2)(new Uint8Array(Math.ceil(t.x*t.y/8)).fill(0))}}function o(e,t=!0){return r(p.bl(e),{x:h.tileWidth(e),y:h.tileHeight(e)},t)}e.ActiveTileArea=i,e.activate=n,e.init=r,e.fromTiles=function(e){const t=n(o(p.from(...e),!1));for(let i of e)t.add(i);return t.save(),t.parent},e.fromRect=o,e.toRect=function(e){return p.from(e.origin,d.move(e.origin,l.add(e.size?e.size:{x:1,y:1},{x:-1,y:-1})))},e.size=function(e){return e.size||{x:1,y:1}},e.isSingleTile=function(e){return!e.size||1==e.size.x&&1==e.size.y},e.isRectangle=function(e){return!e.data},e.transform=function(e,t){return{origin:d.transform(e.origin,t),size:e.size?l.abs(l.snap(l.transform(e.size,t.matrix))):void 0}},e.normalize=function(t){return"x"in t?e.init(t):t}}(ar||(ar={}));var pr=ar.activate,gr=We.index;function mr(e,t={}){return s.polygon([{x:e.x-.5,y:e.y-.5},{x:e.x-.5,y:e.y+.5},{x:e.x+.5,y:e.y+.5},{x:e.x+.5,y:e.y-.5}].map(l.toLatLong),t)}function fr(e,t=[{},{}]){return[s.polygon([{x:e.x-.5,y:e.y-.5},{x:e.x-.5,y:e.y+.5},{x:e.x+.5,y:e.y+.5}].map(l.toLatLong),t[0]),s.polygon([{x:e.x-.5,y:e.y-.5},{x:e.x+.5,y:e.y+.5},{x:e.x+.5,y:e.y-.5}].map(l.toLatLong),t[1])]}function yr(e){return s.polygon([{x:e.topleft.x-.5,y:e.topleft.y+.5},{x:e.botright.x+.5,y:e.topleft.y+.5},{x:e.botright.x+.5,y:e.botright.y-.5},{x:e.topleft.x-.5,y:e.botright.y-.5}].map(l.toLatLong))}function vr(e){if(!e.data&&!e.size)return mr(e.origin);if(!e.data)return yr(ar.toRect(e));const t=pr(e),i=(()=>{const e=rr.northwest,t=rr.northeast,i=rr.southeast,n=rr.southwest;return[[],[[e,t]],[[t,i]],[[e,t,i]],[[i,n]],[[e,t],[i,n]],[[t,i,n]],[[e,t,i,n]],[[n,e]],[[n,e,t]],[[n,e],[t,i]],[[n,e,t,i]],[[i,n,e]],[[i,n,e,t]],[[t,i,n,e]],[[e,t,i,n,e]]].map((e=>e.map((e=>e.map((e=>l.scale(.5,rr.toVector(e))))))))})(),n=[];for(let r=0;r<e.size.x;r++)for(let o=0;o<e.size.y;o++){const s=d.move(e.origin,{x:r,y:o});if(!t.query(s))continue;const a=(t.query(d.move(s,{x:0,y:1}))?0:1)+(t.query(d.move(s,{x:1,y:0}))?0:2)+(t.query(d.move(s,{x:0,y:-1}))?0:4)+(t.query(d.move(s,{x:-1,y:0}))?0:8);n.push(...i[a].map((e=>e.map((e=>d.move(s,e))))))}const r=[];for(;n.length>0;){const[e]=n.splice(0,1);for(;n.length>0;){const t=gr(e,-1);if(l.eq(e[0],t)){e.pop();break}const i=n.findIndex((e=>l.eq(t,e[0])));if(i<0)break;const[r]=n.splice(i,1);e.push(...r.slice(1))}r.push(e)}return s.polygon(r.map((e=>e.map(l.toLatLong))))}function _r(e){return e instanceof xr||e instanceof De}class xr extends s.FeatureGroup{constructor(){super(),this.handler_pool=new Me,this.parent=null,this.map=null,this.hovered_entity=null,this.active_entity={entity:null},this.rendering=new xr.RenderingLock,this.quad_tree_debug_rendering=!1,this.debug_layer=s.featureGroup().addTo(this),this.on("layeradd",(e=>{var t;_r(e.layer)&&(e.layer.parent=this),e.layer instanceof De&&(null===(t=this.entity_quadtree)||void 0===t||t.insert(e.layer),this.map&&e.layer.setFloorAndZoom(this.map.floor.value(),this.map.getZoom()),e.layer.requestRendering())})),this.on("remove",(()=>{var e;(null===(e=this.activeEntity())||void 0===e?void 0:e.parent)==this&&this.requestEntityActivation(null)})),this.on("layerremove",(e=>{_r(e.layer)&&e.layer.parent==this&&(e.layer.parent=null)})),this.entity_quadtree=Re.init({topleft:{x:0,y:16384},botright:{x:16384,y:0}})}removeEntity(e){e.spatial&&e.spatial.remove(e),e==this.activeEntity()&&this.requestEntityActivation(null),e.parent=null,this.removeLayer(e)}isRootLayer(){return null==this.parent}getRoot(){return this.isRootLayer()?this:this.parent.getRoot()}getMap(){return this.map}remove(){return this.parent?this.parent.removeLayer(this):super.remove(),this}add(e){return this.addLayer(e),this}addTo(e){return e instanceof jr?(e.addGameLayer(this),this):super.addTo(e)}onAdd(e){return this.map=e,this.eachEntity((e=>{e.setFloorAndZoom(this.map.floor.value(),this.map.getZoom()),e.requestRendering()})),super.onAdd(e)}onRemove(e){return this.map=null,this.handler_pool.kill(),super.onRemove(e)}eachEntity(e){return this.eachLayer((t=>{t instanceof De&&e(t)})),this}async createActiveEntityTooltip(e=void 0){if(this.active_entity.entity){const t=await this.active_entity.entity.renderTooltip();if(t){const i=null!=e?e:t.interactive,n=await this.active_entity.entity.tooltip_hook.value()||document.body;this.active_entity.tooltip_instance=pe(n,{content:c("<div class='ctr-entity-tooltip'></div>").append(t.content).raw(),arrow:!0,animation:!1,zIndex:10001,delay:0,followCursor:!i,plugins:[de],interactive:i,onHide:()=>{if(this.active_entity.locked)return!1},onClickOutside:e=>{e.destroy()},hideOnClick:!1,onHidden:()=>{this.requestEntityActivation(null)},trigger:"manual",placement:"top",offset:[0,10],appendTo:document.body}),this.active_entity.tooltip_instance.show()}}}async requestEntityActivation(e,t=void 0){var i;return this.isRootLayer()?!this.active_entity.locked&&(e!=this.active_entity.entity&&(this.active_entity.entity&&(this.active_entity.entity.highlighted.set(!1),null===(i=this.active_entity.tooltip_instance)||void 0===i||i.destroy(),this.active_entity.tooltip_instance=null,this.active_entity.entity=null),e&&(e.highlighted.set(!0),this.active_entity.entity=e,await this.createActiveEntityTooltip(t))),!0):this.parent.requestEntityActivation(e)}activeEntity(){return this.getRoot().active_entity.entity}async lockEntity(e){this.active_entity.entity&&(this.active_entity.locked=!1,await this.requestEntityActivation(null)),e&&(await this.requestEntityActivation(e,!0),this.active_entity.locked=!0)}updateHovering(e,t){this.isRootLayer()||this.getRoot().updateHovering(e,t),t?(this.hovered_entity=e,this.requestEntityActivation(e)):this.hovered_entity==e&&(this.hovered_entity=null,this.requestEntityActivation(null,!1))}getHoveredEntity(){return this.getRoot().hovered_entity}eventContextMenu(e){}eventClick(e){}eventHover(e){}eventMouseUp(e){}eventMouseDown(e){}eventKeyDown(e){}eventKeyUp(e){}eventViewChanged(e){e.onPre((()=>{if(this.rendering.lock(),this.quad_tree_debug_rendering?wr("Culling",(()=>this.entity_quadtree.cull(e.new_view.rect,!1))):this.entity_quadtree.cull(e.new_view.rect,!1),this.quad_tree_debug_rendering){function t(e){if(e.isLeaf()){e.getElements().some((e=>e.culled.value()));const t=e.getElements().some((e=>!e.getDesiredRenderProps().render_at_all));return[yr(e.bounds()).setStyle({stroke:!0,color:e.isCulled()?"red":t?"purple":"green",fillOpacity:.2})]}return e.getChildren().flatMap(t)}this.debug_layer.clearLayers(),t(this.entity_quadtree).forEach((e=>e.addTo(this.debug_layer))),console.log("Queued: "+this.rendering.entity_rendering_lock_queue.length)}this.entity_quadtree.forEachVisible((t=>{t.setFloorAndZoom(e.new_view.rect.level,e.new_view.zoom)})),this.rendering.unlock()}))}}async function br(e,t){let i=(new Date).getTime();console.log(`Starting task ${e}: `);let n=await t();const r=(new Date).getTime()-i;return console.log(`Task ${e} took ${r}ms\n`),n}function wr(e,t){let i=(new Date).getTime();console.log(`Starting task ${e}: `);let n=t();const r=(new Date).getTime()-i;return console.log(`Task ${e} took ${r}ms\n`),n}!function(e){e.RenderingLock=class{constructor(){this.entity_render_locked=!1,this.entity_rendering_lock_queue=[]}lock(){this.entity_render_locked=!0}unlock(){this.entity_rendering_lock_queue.forEach((e=>e.render())),this.entity_rendering_lock_queue=[],this.entity_render_locked=!1}request(e){this.entity_render_locked?this.entity_rendering_lock_queue.push(e):e.render()}}}(xr||(xr={}));class kr extends s.FeatureGroup{constructor(e={x:0,y:0}){super(),this.position=e,this._polygon=null,this.update()}setPosition(e){l.eq(e,this.position)||(this.position=e,this.update())}update(){this._polygon&&(this._polygon.remove(),this._polygon=null),this._polygon=mr(this.position).setStyle({fillOpacity:.2,opacity:.8,color:"#F0780C",fillColor:"#F0780C",interactive:!1}).addTo(this)}}class Ar extends xr{constructor(){super(...arguments),this.tile_highlight=new kr({x:0,y:0}).addTo(this)}eventHover(e){e.onPre((()=>{this.tile_highlight.setPosition(e.tile())}))}}class Tr{constructor(e,t,i){this.map=e,this.leaflet=t,this.original=i,this.active_entity=null,this.propagation_state={phase:"pre",trickle_stopped_immediate:!1,trickle_stopped:!1,trigger_post_order:!0}}handleFiltered(e,t){e(this)&&t(this)}onPre(e){this.handleFiltered((e=>"pre"==e.propagation_state.phase),e)}onPost(e){this.handleFiltered((e=>"post"==e.propagation_state.phase),e)}stopAllPropagation(){this.original.stopPropagation(),this.propagation_state.trickle_stopped=!0,this.propagation_state.trickle_stopped_immediate=!0,this.propagation_state.trigger_post_order=!1}}class Cr extends Tr{constructor(e,t,i){super(e,t,t.originalEvent),this.leaflet=t,this.coordinates=i}tile(){return d.snap(this.coordinates)}}class Sr extends Tr{constructor(e,t){super(e,t,t.originalEvent),this.leaflet=t}}class Er extends Tr{constructor(e,t,i){super(e,t,t.originalEvent),this.leaflet=t,this.coordinates=i,this.entries=[],this.title="",this.for_entity_entries=[]}add(...e){this.entries.push(...e)}addForEntity(...e){if(!this.active_entity)throw new TypeError("Adding entity actions for context menu without entity");this.for_entity_entries.push(...e)}tile(){return d.snap(this.coordinates)}async getMenu(){var e;const t=await(null===(e=this.active_entity)||void 0===e?void 0:e.contextMenu(this));return t&&t.children.length+this.for_entity_entries.length>0?(t.children.push(...this.for_entity_entries),0==this.entries.length?t:{type:"submenu",text:this.title,children:this.entries.concat({type:"submenu",text:t.text,children:t.children})}):{type:"submenu",text:this.title,children:this.entries}}setTitle(e){this.title=e}}class zr extends Tr{constructor(e,t,i){var n,r,o,s,a,l;super(e,void 0,void 0),this.old_view=t,this.new_view=i,this.floor_changed=(null===(r=null===(n=this.old_view)||void 0===n?void 0:n.rect)||void 0===r?void 0:r.level)!=(null===(s=null===(o=this.new_view)||void 0===o?void 0:o.rect)||void 0===s?void 0:s.level),this.zoom_changed=(null===(a=this.old_view)||void 0===a?void 0:a.zoom)!=(null===(l=this.new_view)||void 0===l?void 0:l.zoom)}}class Pr extends xr{constructor(e,t){switch(super(),this.config=e,this.content=t,this.parent=null,this.config.no_default_styling||this.content.addClass("gamemap-ui-control-default-styling"),this.config.type){case"gapless":this.content.addClass("gamemap-ui-control-gapless");break;case"floating":this.content.addClass("gamemap-ui-control-floating")}this.content.container.on("contextmenu blur change click dblclick error focus focusin focusout hover keydown keypress keyup load mousedown mouseenter mouseleave mouseout mouseover resize select submit mousewheel",(e=>e.stopPropagation()))}onAdd(e){return e.addControl(this),super.onAdd(e)}onRemove(e){return this.content.detach(),super.onRemove(e)}setContent(e){return this.content.empty().append(e),this}}class Mr extends s.TileLayer{constructor(e,t){super(e[0].urls[0],t),this.zoomurls=e,this.zoomurls=e,this.on("tileerror",(e=>{let t=e.sourceTarget,i=1+(e.tile.dataset.errcount?+e.tile.dataset.errcount:0);e.tile.dataset.errcount=i+"";let n=t.getTileUrl(e.coords,i);n&&(e.tile.src=n)}))}getZoomConfig(e){return this.zoomurls.find((t=>{var i,n;return(null!==(i=t.from)&&void 0!==i?i:-1/0)<=e&&(null!==(n=t.to)&&void 0!==n?n:1/0)>=e}))}getTileUrl(e,t=0){var i;let n=this.getZoomConfig(e.z),r=null!==(i=null==n?void 0:n.urls[t])&&void 0!==i?i:"";return s.Util.template(r,{x:e.x,y:e.y,z:e.z})}}class Lr extends Pr{constructor(){super({position:"bottom-left",type:"floating"},c("<div style='display: flex' class='nis-map-control'>")),this.down=c("<div style='cursor: pointer'><img src='assets/icons/stairdown.png' style='width: 20px; padding: 4px'></div>").tooltip("Go down (PageDown)").tapRaw((e=>e.on("click",(e=>{e.stopPropagation(),this.goDown()})))).appendTo(this.content.container),this.current=c("<div style='border-left: 1px solid rgb(5, 56, 66); border-right: 1px solid rgb(5, 56, 66); padding-left: 4px; padding-right: 4px; line-height: 20px'>Floor 0</div>").appendTo(this.content.container),this.up=c("<div style='cursor: pointer'><img src='assets/icons/stairup.png' style='width: 20px; padding: 4px'></div>").tooltip("Go up (PageUp)").tapRaw((e=>e.on("click",(e=>{e.stopPropagation(),this.goUp()})))).appendTo(this.content.container),this.content.container.on("click",(e=>e.stopPropagation()))}goUp(){this.parent.getMap().floor.set(g.clamp(this.parent.getMap().floor.value()+1))}goDown(){this.parent.getMap().floor.set(g.clamp(this.parent.getMap().floor.value()-1))}onAdd(e){return e.floor.subscribe((e=>this.current.text(`Floor ${e}`))),super.onAdd(e)}eventKeyDown(e){e.onPre((()=>{"PageUp"==e.leaflet.originalEvent.key?this.goUp():"PageDown"==e.leaflet.originalEvent.key&&this.goDown()}))}}const Ir="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAYAAAAWy4frAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UqInYQcchQnSyIinSUKhbBQmkrtOpgcukXNGlIUlwcBdeCgx+LVQcXZ10dXAVB8APE1cVJ0UVK/F9SaBHjwXE/3t173L0DhGaVqWbPJKBqlpFOxMVcflUMviIAAYOIISwxU09mFrPwHF/38PH1LsqzvM/9OfqVgskAn0g8x3TDIt4gnt20dM77xGFWlhTic+IJgy5I/Mh12eU3ziWHBZ4ZNrLpeeIwsVjqYrmLWdlQiWeII4qqUb6Qc1nhvMVZrdZZ+578haGCtpLhOs1RJLCEJFIQIaOOCqqwEKVVI8VEmvbjHv4Rx58il0yuChg5FlCDCsnxg//B727N4vSUmxSKA4EX2/4YA4K7QKth29/Htt06AfzPwJXW8deaQOyT9EZHixwBA9vAxXVHk/eAyx1g+EmXDMmR/DSFYhF4P6NvygNDt0Dfmttbex+nD0CWulq+AQ4OgfESZa97vLu3u7d/z7T7+wGLgXKxrUFktAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFAhIAOwvVWFsAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAARoUlEQVR42u1aW49c1ZX+1tr7VFdVV1+M3eC42xcMDs6FgAPm4ozGijRSRiSaF/IQOVKQZkLykuf8iLzwkocogpF4y0PygESQIiFlSIAQQnBImNi0sT1uugy4u91dfavL2Wt983Dq1t1cbU8Sjbys7ao6Xaf2+va67LW+fYCbclNuyk25KTflptyUm3JTbspNuSk35f+VyPXc/PLLL6uIRkAyVS2pahSRKIogIioQEREBAJJk8b/TYSSTuyd37wDMSU8nTpzwvzmQP/zhDzHP87KI3gLIjKruU9W9IrJbFGMiUhVISURCF4gR7JDcpGON5JK7v+fulwHOk341y7LW8ePH0/85kB/96Ef6xS/eHW+5ZfdICFojeAuAGVCOisgRVTksItMishsi4ypSBpB1b8+d3gKxSnKJZN2dF0ieg/CsAPMQuWru61eXltpv/uUv6Yc//KHfcCA/+9nPwvT0dMyykVtF5C5V+awGvVNFZ0Rkj4jcIqITqjIqImURGRGRCEC7P+EkE8k2yZaTG6Q36LxKcpH0eXN/28lZkm/l7faVer2evvWtb9kNAfLjH/9YarVaOHjwYLlWq+0C5AiJr6jq/SHolzToXlXNVFVVFKoKEYUWEYItMULC3UESToe7wwvJ3f09M/+z018T4CWS5zbW15cvXbrUWl9ftx/84Af8KD3jxwE5cOBANjo6OlYuV+4A5ISq3q2qd6iG6RDCrhA0qqpoUPSAFGAKIIO1IrrhXgDoATEXd49mtkvVP29mE+5+iPS/jJQrL+/fv//8xsbGGoDONQH56U9/KiEErdVqtZGRkekQ9B4R+VcRuTeEMBFCHIkxIISIEBSqKj0QPSDbDC49MF1LFCM4zCyo6rikNA5ghuRREZkOQTdGyuWWiMw/9dRTDTPz733ve/xUQGZmZkojIyO1arX62RDiV0MIx0MId4QQajHGGEJAjBEhBGjoApACgKoCEBRONWyR4rXvXl0wffCq0JSiitTM7A5zeURFpkIIvz506NBsu91eB9D+IH3DB138yU9+onv37q2VSqXPxJjdF2P4N9XwUIxxKsuycpZlmmWZxBglxlC8hgJUCAGqihC0/34wpA90aEhPBu8kIzhGch8gFYDvi8iyqLYefvjhzrPPPsuPDfZf/epXCiCbmJi4M4TwLyGEr4QQj8UYZ2KWZTFGzQpLSN8asj0uMHjf/QwOYqQb/DvcLKUEM2OecqSUPOUpT5bmzey0mb1kZs+vNhpvA8i/9rWv+Ue6VrlciSIyqqoHVfWfRfThEMJkjHEkixExy4ZWf5ClCsULhWFeKL59mVgARCjciGRxnyrErLcAAgEEoiBGSE67+6iqBpLnKpXquyTXtwf/DiAhxF2q+kURvV81zMQYx2IhiDEidt2nB2IQ2ADMYOvr6CwsIl9ZgW1swvNiPs1KCKNVZJOTKE3tQajVIKFYBJA7XYN9q0WCYymlGTrvjzFru/ubAN7/UCBPPvmkisguVb1HRO5T1ekQwmgXhPSCe9j/pecmeQ5vbqJzZQEbb59Hq15HZ3EJtrlZLFC1itKe3ShPTwN0lEBopQqJESoCqu5wexIgEZ0e3X3axe9T1XWS9SeffHLhu9/9ru8A8sILL8Q8z8sh6q0h6OdCCEdCCLXQt0ARD30A3RiwzU10rlxB89IcNs6eRXPuHXQWF5FW12DNFpiK0kliRKiUEcfHUNqzB5UD+zF69CgqBw+gNDUFrVaLbNePISAEgnS4B9C9RucRglcgfO3QoUPzL7zwQuvkyZNpC5AYswigpqq3qeoRDXo4hBAHVggIOpRqIYA7bG0NzYsXsfLqa1j69X9h4+0LYN4BnYXvd92OJOgOUYFkJYzeeRi7v9oA3BAqFYRKpXAvDSAEIfRcyxFjhLvXzP2wUq+QvC3LslqMWQKwFYhqGM2ycLuIHlbVCVUNIQQpUmnXCiro/bNms3Cjt97C1Rdfxtqb/43OwiJAB0QhykHGKqIYolpco6OzsIjlV15FWt+Ad3KM3nUXSlN7CstAQApCUJAKs4AQgmixcU6483CWledFMAugtQWIiFZFcLtADqvoWNAQuiAGO7YMudTGJpqXLmH19J9w9bcvYvP8BUgIO9PucJ7vXXOis3QV7SsLyJeXEUer0HIZYXQUYXS0v9eQhGqQELwAoyG4+JjAD6vqOwDmASyhV5mSlBC0qiozqjKtqhVV5fCG1lNQADAl5IuLaLz2RzReP43UaBSr/Wl7CFWkRgON10+j8dofkS8ugilBwP58vfm7urDQTaZVZSYErfY9avCbUlWVfSIyrarl7SD6aZYEU0JncRGN109j9U9vIK2ubYmHTwSi62ppdQ2rf3oDjddPo9MFgu7+Mjz3EJhyoaPsU5UqWexWOogRLYnqpKhOimipb4Ftw5tNtObraM7NIa2uwfME+jV3qKA7PE9Iq2tozs2hNV+HN1voeecH6FASkUkRmRTV0haLkBQpeorJ7pdKReWjg5236+febKJVr6P1zjzS6lqxgtcBBO5gKoC03plHq16HN5v9pLLFrQspdUHsEpFsu0VUi966JJCsXyb0VqQXqCLwlJAaDeSNVdDSBwb2pwuUQklaQt5YRWo04Cn15xuu2/qNmkgGIFPVAEDcXfpARCQIUBJBJoIi0Q79UJE+uxOuNJAajSIwu9a6HvZDVAurNBrIVxrFAqn0QfZ16KZXEcm6lgk9Yyj+IUU+vAvv1i29CmB71urdzSGLb1kJGSrmeh/k+mixbarLDi0E23TY6sIEB/V1n+HwguFIJHOSzqH+oT+ckBiRTUwgTk4AMYB08DoAEADpQAyIkxPIJiYgMYLdLnL7KLZT5AQSyQTAtwJxNwIdEnnvni3W617QmCGbnCwmzGL3x68PCklIVixQNjlZABlqwoYbsS5hmQPoOGkAqKrUrslIMqf7CskG6Z3CKA53wp3oqauVMsr79qE8M404NgaJEZDrCDVRSIyIY2Moz0xjZN8+aKU8lJ19iEIiSXZINrq65iLCLTFC9w7JFdKXu1/+QNNqpYKR6WlU9u9HHBuDxuyaypPhMkVjhjg2hsr+/ShPTyNUKjvm9cFrh+QyyRW6d7b3I3Ryk2RdwctOv9XMuqthIBXuOthXsojS1BQmjt0LdjrYePs88qvLW9LlxzpU11WzyQmM3nkHJo7di9LUFCSLgAi2kHldPcwMdG+RvOzOugg2t1hERGj0poN1J+vu3nJ3MfMh03aDDwIJEdme3Zi4/35M3PdlxPFx0O0ayhNDHB/HxH1fxsT99yPbsxsSQjcBDMgJc4MXuoi5t9xZd2fdzJs7OkSSGyQvQnU/ncfd3dxNzQNCAUZEvNiFBQjVUVQPHYS3mkjrG8hu2YXW3DvdDc2K5CAyxGphcC0ElCYnUD6wH2Nf+ALG770H1UMHEaqjfRADdsXo5jA3upuTXCV4wd0visjGDiCe0mZK6WKmYcbFV93dzF2CmVifg3KQAlIRqhWE/TPQ8gh0ZARxvIalVgv56iqQet2gbqWDetdUULp1CrsefhCTx4+j9rmjKE1NAar9WOhbwwq3cjOyQLUK+oU8b1+MMW7uAJLyPM/zfM1Hyu+JyKy7T5nZdFId28nnFi2phoAwPo7K7YcAFcSxcTTn3kG+tIS0ugprNrf17BXE8XFku3ejcmA/ap8/isrBgwjj40AIWzguM+uPlAxmvmHudXfOuvO9PO+sAcx3ADl58mR6+umnN48cqV0B5IyITYnquIqMpT53pRDp80+FZSoVlPfPYGTvbRi7+250FhbQvHARrXod7YUF2EaXRRmtYmRqCuXpaVQO347S1BRCtQLJMoiGbVboAUjFKD6vmfmsmZ8x8yv1en3zscce8w+kg55//nkePnznsqq+QaLmbvuSyYSkNCKQWFCevQJUBukzRIgGaFaChMJSpT17kK+vwztdXqtUQlarIds1iWxqCrFWA7qu53TQCXMvRqE4u0CSpdQ298sgXyf5hpktP//88/xIyvSXv3xuZPfu3bUY44OA/EcI+lCMcVeWZeVSqYQu57uF5y34Lemxav0ujx/Ez4p0N1HpJwHfCgApz5HnOfPitZWnfNnMXgHwlCX7/dLS0vrXv/5I+yOZxkZjJa/VRtdVq5dE9LfudHc7lkymNWlWUIMDcrCoIqS7uN2eoVTa0k/sqFyH0ysJK7ISLBlSynuW8JRS7m6X6TxN8iWSl9rt1nqjsZJ/LBv/i1/8gidPnuTExHhHBIuq0gFwgMBUF3jorW3v6GBLS7q9fP6IYrEHwgcgkFJCnudIKU8ppaa7vUX6M8nsN51Op37h/Pnmd77zHf9ExwrPPPMMT506RRHphBB60Z0AKZEc6d7XPVWToSwrH1Zyb6t2uWXHTsmQUmKeJ6SUW56nppnV3f01d3/R3X/fabcvtdvtzUcffTR9qoOey5cvd2KMjZmZmdlSqbQZgStOZE6Oggykh541ilJr0Azpx9ReJNErgYq4SEgpR553kFLK8zytmdk50p9NKX+10+nMz8/PN1JKds2Hoc8++2ypVquNlSvVwyHGrwTVLwXVIyGEmSzLprIsq5ZKWZfkzrZww8OW6ZXkRTW9Jb2yk+dIeb6Z52nBivOQc2b+Z7P0UqvVvLC+vr72jW9849rOEHtSr9fzWq3WmJ6ZOVutjl4x+ptu+Cf3+ACAEQDVfnyo9g2j2Mlz9bjcXpZKZsi7MZHn+WrK0xmz9CqJF0k/12q1rtbr9eb6+vrHFnIfC+T73/8+AaSf//znG/v3lzsQoZNBRGFme0SkpkHLmiR2Sbpin1HBIKsNW6O/c/f3iZRSy8zm3f1VM/+diMyS/v7i4kL+7W9/+xNxTfGTVqrf/OY3/ezZs/nq6ur7eZ6vqkZPyY8CtleD7VbRqGpQGRDdRSWw82jazGApwVJCylNuKa1YShfc+VKe538olbLmxMRE/uCDD35iwuxTdURHjx71Bx54oD03N9cg8a7T33L6BTNbH66Nthw/bxnWj4/Bd23d3S+4+1ukvzs39z+NBx443j569OinYv2uqbU7deoUKVx1t7PufsbN1pIlmKVicxso2R3er2R714fArLn7GXeeJbF66tSpayIArrlHJblm7udIzrr7VTdrJzNPlmhmLJTePgxmzpSMZuZm1nb3q07OGu0cwbVr1Sde643NTd8geT4G3uZiC2ZoarLi+QcpHhjondpiqFkasoSZW9PpC4TPttg8Lxg0Sn8zIFeXkAOyNlrl+y48LyLT5nZATSd7Tz5sYfPALW5nbhvuPufu5wl/f1mvrgGwvzmQRx99kC+//JaRKysp4a8AproM+eRgQ/xwi7j5mpufMUt/BbDymcnP2Im7TlwzQXZd3O+JE3fRLK2626yTZ919xc2tiJFerNigvxhcM3dfIf2sm89astXrAXFdFunJ2traerVaPRdivM3Nlw2Wq2omgkBuLVGsyFZubrm5LZOcTSmd29zcXL9ePa6bjV9cXOw0m80lOi+TvOTu77pbq08a9FKv92Oj5e7v0nnJycvNZnNpcXGx83cH0mw2rdFodIqHLTlL4pwZuxvkcEwUn918nc5z7pylc6nRaHSazab93YE8/vjjXFhYMBIrJM+QPEt6w93dig2R7kbrPfZHNorv8AyJlYWFBXv88cd5vXrcsAOO3/3ulXEA+0II/6yq/y6qXw5Bi4PIgpN1c3e6v+7u/2lmvwFw+eGHH1q9EfPfsBOrELRF+nsA50hepvuSu3esT7J5h+5LJC8X3/H3QtDWjZo/3qgfyrIsicgGyQV3Py8i0wDvQPHsL0BuunOO5HkRLGRZthFjtH84IMeOHXMA/sorv18GMAtgrztvA2RXd2dfJzFLcpbE8kMPPZDfyFPHG3oY+sQTT0iedxru/mYx2BiU8Oxfz/NO44knnpAbOXe8kT+2srKCdrvdHBnBXAjxYvcpt33dP79P8qJZmmu3282VlZUbfg58Q+W5554LpVJppFyuHFPVxwDc0/3TG+7+dKvVPN3pdNqPPPKI3ch5/xf6qZV7oufn3AAAAABJRU5ErkJggg==",Or="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAYAAAAWy4frAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UqInYQcchQnSyIinSUKhbBQmkrtOpgcukXNGlIUlwcBdeCgx+LVQcXZ10dXAVB8APE1cVJ0UVK/F9SaBHjwXE/3t173L0DhGaVqWbPJKBqlpFOxMVcflUMviIAAYOIISwxU09mFrPwHF/38PH1LsqzvM/9OfqVgskAn0g8x3TDIt4gnt20dM77xGFWlhTic+IJgy5I/Mh12eU3ziWHBZ4ZNrLpeeIwsVjqYrmLWdlQiWeII4qqUb6Qc1nhvMVZrdZZ+578haGCtpLhOs1RJLCEJFIQIaOOCqqwEKVVI8VEmvbjHv4Rx58il0yuChg5FlCDCsnxg//B727N4vSUmxSKA4EX2/4YA4K7QKth29/Htt06AfzPwJXW8deaQOyT9EZHixwBA9vAxXVHk/eAyx1g+EmXDMmR/DSFYhF4P6NvygNDt0Dfmttbex+nD0CWulq+AQ4OgfESZa97vLu3u7d/z7T7+wGLgXKxrUFktAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFAhISAiwkoIAAABGWSURBVHja7Vrdj1zVkf9VnXN7unt6Pow94HjG2BgcnA8CDt9ktVaklbIi0b6Qh8iRgrQbkpc854/ICy95iCJYibc8JA9IBCkSUpYECCEEh8QbmzG218OMAc+MPT1f/XFP1W8f7u2PGRsMtjeJVq7Rmenp7ntP/U5Vnar6nQvclJtyU27KTbkpN+Wm3JSbclNuyk25Kf+vRK7n4tdee01VJAqQqWpFVaOIRKgEEVGBiIgIAJAki98Op5FM7p7cvUsgdzI99thj/jcH8oc//CHmeV5VkVsEmFHVPaq6W0R2QmVMROoCqYhIKIEYwS7JTTjXSC67+wfufp7AvJMXsyxrP/jgg+n/HMiPfvQjveeLX4w7b7llRENoELwFwIwQh0TkoKgeEJFpEdkpgnERrQLIystzp7dBrJJcJrlA9zMkT1FwEpB5EVx0t/Xl5Yudv/zlePrhD3/oNxzIz372szA9PR1HsuxWEblbVD+rQe9S0RkR2SUit6jIhKiOikhVREZEJALQ8hZOMpHskGyTvuFkk86LJJecnHe3d0mfJflOp5NfWFhYSN/61rfshgD58Y9/LI1GI+zbt6/aaDR2CHAQ5FdU9QEN4UsadLeqZqqqKgpVhYpAVCFSREk/Rki4O0jC6XB3eCG5u3/gZn92+puAvEry1Pr6xqVz586119fX7Qc/+AE/Ts94NSC33357Njo6OlarVu8U4DFVvUdV7wyq0yGEHRpCVFXRoOgDGYDorxQLMOiB6QMxF3ePZrbDVT9vZhPuvt/Jv9SqI6/t3bv39MbGxhqA7jUB+elPfyohBG00Go2RkZFpDeFeEflXEbkvhDARQxgJMSKGAA0Bqio9EH0g26zfA1NaohjBYWZBVcdTknEAMyQPici0hrBRrY60RWT+2WefbZqZf+973+OnAjIzM1MZGRlp1Ov1z8YQvhpCeDCEcGcIoRFjjCEExBgRQoCGnksVAFS1ALHNIiBBYOBeJZjBAghS0iiiDTO7U9weF9GpEMKv9+/fP9vpdNYBdK6kb7jSmz/5yU909+7djUql8pksxvtDjP8WVB+JMU5lWVbNskyzLJMYo4QYJcYoMRSgQmEd6PDrnpV0AHRoyED6rzOCYyT3CFAj8KGIXFKV9qOPPtp94YUXeNVg/9WvfqUAsomJibtCCP8SQvhKDOFwjHEmy2IWY9QYM4QQpG8N2RoXhTHKGClnIAcxgu3xUo6UEsyMecqRUvKUpzxZmjezY2b2qpm91Gyuvgsg/9rXvuYf61q1ajWKyKiq7lPVf1aRR0MIkzHGkRgzZNlg9bW34j0AIiABt0LxIiqGhAVADYCqgGRpIYFZfwEEAghEQYyQnHb3UVUNJE/Va7X3Sa5vD/7LgMQQdqjqF1XkgaA6E2Mci4WUMbENRGkJADAD1tcNS4tdrKzk2NwwdPNi4SqZoj4aMDmZYddUBY1GgAaBluAvc46BBSPBsZTSDJ0PZDF23P04gA8/EsgzzzyjIrJDVe8Vkfu12GJHSxAyCO6B/wPFyuY5sdlyLF7o4vS7G1hYaGN5qYvNzSKf1esBO3dVMD1dhRMgKqjXFDEKRBSqV3D7wh+j06O7T7v4/aq6TnLhmWeeWfzud7/rlwF5+eWXi9ophls1hM+FEA6GEBq9AO7FQw9ALwY2Nw0XLnQxd66Fkyc38N5cC0tLXaytJrRbhpQKBWMUVGsBY+MRu3ZVsPf2Gg4dGsXt+2qYmqqgXi+syx4eEgwBTiK4w50NOg8SvEDBm/v3759/+eWX20eOHElbgGQxRgANVb1NVQ9q0AMhhNizQggBQQdbrUDhDqytGc6ebeHNN1bwX79expl3N9DNCTqhOgj+IrAJUUElExy4axTNr+6EOVCrBdRqAYAgKCAgEEJZARAxRrh7w90OKPUCyduyLGtkMSYAW4EE1dGQZXeoyAFVnVDVEEIQ1SErqKD302oZFi908c47G3jtlYv47+NrWFrswgmoANTBjlWmlBIY4ASWFrt44/VL2FhPyLuOu+8exa7SMgKFkEUckghmCCGImQZVnaD7gWqWzUNkFkB7CxAVqUPkDoEcUNGxoCGUIAYZW4ZcasNw7lwLfzq2ild+exFnTm8iBLls2x12+f5W7MDF5S4WL3Rw6VKO+mhEtaoYHQ0YHQ39XEMSQVU8hAKMhuDiYw45oKrvAZgHsIxeZUpSNIS6qM6I6rSq1lSVYdvOVLiJICViaSnHH99s4thbTTSbCaqfvrVRFTSbCcfeauKPbzaxtJQjJYIYLEhv/lIXqmpNVKdFdUZDqPfv1be8al1U94jItKpWt4Po/SVRAuni2FtNvP2nVaytpi3x8InK7jJ/rK0mvP2nVRx7q4mlpW4BpJdvtlUCpU5VEZkW1T2iWicpw0BQtKoyqSqTKlIZuMjW0Wo5FubbmJtrYW01IeUOd15zu+xOpNyxtpowN9fCwnwb7ZYXQXVlHSoiMikik6pS2WIRkqIqmapOll+qaFH59FeuSFglkIU25t9rF0AS4dfcaQPuhYXXVhPm32tjYaGNVsv7m8qWlqCQSglih4hk2y2iIhoAVASS9coEDMVFuUBIydFsJqw2cyTjRwT2p+i1pXCjZMRqM0ezmZCS9+fbWrf16YwMBeERAIi7yxAQCYBUIJJByo12SwEIiBYTNld6E3LIWtfOfxTlO9FsJjRXygVS6YPs6VACVxHJSsuEnjH0H5Wj+qilKaoWDCqAbbtW73pusfnQSvRvzcFLuT5abHuWuYIW260hWzFxoMAQw+GpZDlykt7rF7YMJ2IUTExkmJiMCBFwcgv+Ty9FGRIiMDEZMTGRIUaB+xXmL8zgAHOAiWQq/h8C4u4GsAsyL6/aYr/ev1lUTE5mxYRZUfleH4xiaWNWLNDkZAFkuAkbbsRKMiYH0CXdAFBVqaXJSDJ35wrJppNdL8wCuoPuvSlRrSn27KlieqaKsbGIGAV6HR6mUlTGY2MR0zNV7NkzgmpNh7Zn7/f4haOwS7JZ6pqLFN2bDiWmLskVJy+VX76iaWs1xfT0CPburWFsLCKLek3lyXCZkkXF2FjE3r01TE9XUauFK8zdB9NloeOKO7vb+xGSvklygdDzTr/VzODuMHcoCXXv55WYCaamKrjv8AS6XeL0uxu4dDHfsl1e1aVK752YzHDnXaO47/AEpqYqiFmx7W4h80o9Cp3YJnme7gsQ2dxiERGh01qEL5C+4O5tdxcvwRSEGsttgohBsHNXhgcemMCX75/A+HiEXUOZYk6Mj0d8+f4JPPDABHbuyhBCsW0NkxPmBjeHu4u7tem+QPcFN2td1iGS3CB5VhV76XzQ3c3cNbjBPRQ36ZMMxGg9YN/+Olptx8Z6wo5bMrw310ZzJYdZr/Ab7sUH74UgmJisYO/tVXzhC2O4975x7Ntfx2g99EH0FtDc6eYwN5q7k1wleMbdz4rIxmVAUvLNlNLZoNmMi6+6u7mbmAVRNagqXMuGh0StHjCzN2CkqhgZUTTGI9rtZayu5mAqikHVrXRQ/z0Fpm6t4OFHd+DBBydx6HMNTE1VoIqhWCjBmJVu5XSnmXPViTOdPD8bY9y8DEiepzzP87XqiH8gIrPuPmVm06pp7PKeBAgKhKAYHw/Yf0cNosD4WMR7cy0sL+dYXU1obevZa7WA8fGInTuzomf/fAP79tUwPh4QArZwXGY2GCnBzTbcbYHus3T/oJvnawTyy4AcOXIkPffcc5uNgwcvCHDCRKZUZVxEx1QTtChyYENZVknUagEze6u4bfcI7rlnDIuLXZw908LCQhuLix1sbpQsymjA1NQIpqeruONAQTjU6gFZJggqW2OiBJBSKkm7BDNbc7NZNzvhZhcWFhY2n3zySb8iHfTSSy/xrgMHLqnq2yAb5r5HLE2kJCMCiaKKXvnZs4yqIAZFUEElU4QgCEGxa1cF6+s5ut2S16ooGo0MkzsyTE1laDQiitsBTgedcDe49y3BEkhKyTrudp7EWyTfNrNLL730Ej+WMn3xl78c2blzZyPG+LAA/6EhPBJj3JFlWbVSqaDkfLfyvKqQgvvod5BFUuYV+/aCyxoqUdyHASDPE/I8Z57nyPO8naf8kpm9DuBZS/b75eXl9ce//vXOxzKNK81mPtporNdVz6nIb1lE/WGxNK1JM5EyiZYNDXqV21AMVSqypZ/YXuZsLTl6AW2wZMhT6lnCU0q5uZ+n8xjJV0mea3c66yvNZn5VNv4Xv/gFjxw5wvGJiS5ElkS1C+B2gFMl8CDD9fG2lnRQsV69yhqA8B4IpJSQ5znywqda5v6Ok8+bpd90u92F06fPtL7zne/4JzpWeP7553n06FGKSDeEYKViSYAKyZHyugHfXDq7fHTJvQ0At2bsAgBTAcBSnrfMbMHd33T3V9z9951O91yn09l84okn0qc66Dl//nw3xticmZmZrVQqm0C8AHpG+iiJ4GTo+095sCMDIuOq5Um/BDJDssIa3TxHSilPeb5mZqecfCFP6Y1utzs/Pz/fTCnZNR+GvvDCC5VGozFWr1UPxBi+ohq+pBoOhhBmsiybyrKsnlUqiDFK1iO5hxj6Ycq0IOcGdVMZC8zzLvI8baY8X0xm82Z2ys3+nMxebbXbZ9bX19e+8Y1vXNsZYk8WFhbyRqPRnJmZPjlar19w2nGY/1N0fwjACIC6DLMtpWkUepl79bjcwS6VkFKOcndaTXk6kczeAPmKk6fa7fbFhYWF1vr6+lWPqK8K5Pvf/z4BpJ///Ocb1b17uyIg6UFFYGa7RKShQauSNGr/oQ2B6KA26RPsWzP3UJ5IbTObd/c33Ox3IjLr5IeLS0v5t7/97U9ENsVPWql+85vf9JMnT+arq6sf5nm+GlXdUzpkwG4LulNFo6lCRAecVO8Ua9tRW+FW5chTnpKtpGRn6P5qnud/yCqV1sTERP7www9/YsbsU7Eohw4d8oceeqgzNzfXBPm+099x+hkzWx+ujbYcPw9bYSg++sN93d3PeLHNvv8/c3PNBx96qHPo0KFPRftdEx109OhRUrhq7ifd/YSZryVLSGZFXhgoCRsGM/z+4Htr7n6C7idBrh49evSaKIBr5rVIrrnbKZKz7n7RzDtmyZMlmhm9BDU8rPhLS4lm5mbWcfeLpM8a7RTBtWvVJ17rhb7Z2iB5miHeZuKLMGtZKp9/kCKv9E5tMfTEw5AlzNxaTl90cLbF9mnBoFH6mwHB8sVcgDXWRz+k+GkRmTa329V0svfkA7f0h9jmdrbh7nPuftrBDy/qpTUA9jcH8vATT/Cd116zFXIFKf0VwFTJkE/2z1K2JcRhi7j5mpufSGZ/BbDymcnP2GN3P3bNFNl1cb93P/YYk9mquc+SftLdV9zczIzJjFaMQX9Rxo+ZmbuvOHnSzWct2er1gLg+1yplbW1tvV6vn4ox3ObmlwyWq2oGkYBtMWJFz+HmlpvbJZKzKaVTm5ub69erx3Wz8UtLS91Wq7VM53mS59z9fXNv98rzQQ7px0bb3d+n8xzp51ut1vLS0lL37w6k1WpZs9nsklym+yzIUywT5JbgNi+3YV+n81RBInC52Wx2W62W/d2BPPXUU1xcXDSQKyRPkDzpZNPd3dxg7jR3Fv24O+lNkidJngC5sri4aE899RSvV48bdsDx+u9+Nw5gTwjhn1X131XlyxqCihSnYvSyaXa+5e7/aWa/AXD+kUcfXb0R89+wEysNoe3kBwTmSJ5357K7d93LzO7edecyyfME5pz8QENo36j54426UZZlSUQ2SC66FwmSwJ0iqJbV/Cbd50iehshilmUbMUb7hwNy+PBhB+C/f/31SwBmAeym+20C7Cgz+zrIWZKzIC899Mgj+Y08d7yhh6FPP/20dPO86e7H3f043Zv9g5ri9XF3P97N8+bTTz8tN3LueCNvtrKygk6n08LIyFwM4Wz5lNue8uMPSZ5NZnOdTqe1srJyw0+Cb6i8+OKLoVKpjNSq1cOq+iSAe8uP3nb351rt9rFut9t5/PHH7UbO+78cNpV7h6OdZgAAAABJRU5ErkJggg==",Dr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAYAAAAWy4frAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UqInYQcchQnSyIinSUKhbBQmkrtOpgcukXNGlIUlwcBdeCgx+LVQcXZ10dXAVB8APE1cVJ0UVK/F9SaBHjwXE/3t173L0DhGaVqWbPJKBqlpFOxMVcflUMviIAAYOIISwxU09mFrPwHF/38PH1LsqzvM/9OfqVgskAn0g8x3TDIt4gnt20dM77xGFWlhTic+IJgy5I/Mh12eU3ziWHBZ4ZNrLpeeIwsVjqYrmLWdlQiWeII4qqUb6Qc1nhvMVZrdZZ+578haGCtpLhOs1RJLCEJFIQIaOOCqqwEKVVI8VEmvbjHv4Rx58il0yuChg5FlCDCsnxg//B727N4vSUmxSKA4EX2/4YA4K7QKth29/Htt06AfzPwJXW8deaQOyT9EZHixwBA9vAxXVHk/eAyx1g+EmXDMmR/DSFYhF4P6NvygNDt0Dfmttbex+nD0CWulq+AQ4OgfESZa97vLu3u7d/z7T7+wGLgXKxrUFktAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+cFAhIVCfS3788AABGbSURBVHja7VrNj1zVlf+dc++rrqqu/jB2g+NuY2NwcD4IOHyT0ViRRsqIRLMhi8iRgjQTkk3W+SOyYZNFFMFI7LJIFkgEKRJShgQIAYJD4olNG9vjpsuAu9vu6q/6ePec3yzeq+out4PB9iTRyKd1VdVV9d49v3u+z3nATbpJN+km3aSbdJNu0k26STfpJt2km/T/iuR6Ln7ttddURaIAmapWVDWKSIRoEBEVgYiIAABJkiBJB91IJndP7t4jkDuZHnvsMf+bA3nzzTdjnudVFblFgBlV3aOqu0VkJ0THRKQugoqIhBKIkeiR3AB9leSSu3/o7ucJzDt5McuyzoMPPpj+z4H86Ec/0nu++MW485ZbRjSEBolbAMwIeEhEDorqARGZFpGdAhkXlSqArLw8d2cH4ArJJZJNup8heYqQkxDMC+Sim68tXVzq/vn4n9MPf/hDv+FAfvazn4Xp6ek4kmW3isjdovpZ1XCXqsyIyC4RuUVFJkR1VESqIjIiIhGAlrdwkolkl2SHznUnW6RfJLno5Lybv0fnLMl3u3n3QrPZTN/61rfshgD58Y9/LI1GI+zbt6/aaDR2CHAQ5FdU9QEN4UuqYbeqZqqqqgJVhYpAVCGlkWzaCOHuKF6L915Q7u4futmf3PkWBK+SPLW2vnbp3LlznbW1NfvBD37Aj+MzXg3I7bffno2Ojo7VqtU7BXhMVe9R1TuD6nQIYYeGEFVVVAMGQDZBDE6KBRj0wWwCMXH3aGY7XPXzZjbh7vud/HNtpPra3r17T6+vr68C6F0TkJ/+9KcSQtBGo9EYGRmZ1hDuFZF/FZH7QggTMYSRECNiCNAQUIDRYSCXSb8PppREuQLMLKjqeJI0DmCG5CERmdYQ1qsj1Y6IzD/77LMtM/Pvfe97/FRAZmZmKiMjI416vf7ZGMJXQwgPhhDuDCE0YowxhIAYI0IIKKShUC2koKoFiMskAhIEtqhXAWZwAKJImqKoNMzsTjF/XFSmQgi/3r9//2y3210D0L0Sv+FKH/7kJz/R3bt3NyqVymeyGO8PMf5bUH0kxjiVZVk1yzLNskxijBJilBijxBgQQiiBKXTr+76USklt/UxVZUCbbzMSYyT3CFAj8JGIXFLRzqOPPtp74YUXeFVj/9WvfqUAsomJibtCCP8SQvhKDOFwjHEmi1kWY9SYRYQQZFMaMmQXhTD6NiKlRDiwEWyzl2KllGBmzPOElJKnlOcp2byZHTOzV83spdZK6z0A+de+9jX/WNWqVatRREZVdZ+q/rOKPBpCmIwxjsQsIovZ4PS1f+J9ACIgCIeBIMDLz4mFRBCgoiDL/0VhYv0DEEAgAgU4QnLa3UdVNZA8Va/VPiC5drnxbwMSQ9ihql9UkQeC6kyMcSwWVNjE5SBKSQCAwbBma1jsLWA5X8aGraPnOQCgohnqYRST2SR2VabQCA2oBGgJfrtuDCQYSYyllGZIfyCLsevuxwF89FeBPPPMMyoiO1T1XhG5XwsXO1qCkIFxb9F/SKEmOXNseBsLvQs4vf4emp0mlnqL2LANAEA91LGzsgvT1Wk4CFaAutYQJUJUoNTtak8CZHRndPdpd7lfVddINp955pmF7373u74NyMsvv1zkTiHeqiF8LoRwMITQ6Btw3x76APo2sGEbuNC7gLn2OZxcP4n323NY7C1iNa2gY20kFqlTlIhqqGEsjmNXZRf21m7HodFDuL22D1OVKdS1DlUtpNP3cCHASQR3OL1B+kESFwh5a//+/fMvv/xy58iRI2kISBZjBNBQ1dtU9aBqOBBCiH0pFEsHrlYUcDhWbRVn22fx1vIb+K+lX+PM+nvoMQfpUNlUO5JwOkQUFclwYPQutHZ+FQZHLdRQCzVAgAAtAk4I5TVEjBHu3nDzA6q8QPK2LMsaWYwJwDCQoDoasuwOFTmgqhOqGkIIoqpbpKAobRptK9To3fV38drFV/Dfq8ex2FuAg1AIKIqtIVFQGLVA4CAWewt449LrWE9ryL2Hu0fvxq5SMqKAkIUdkghmCCGIqQVVnaD7gWqWzUNkFkBnCIiK1CFyhwgOqMpYCBpKEFsitmxRqXWca5/DH1eO4ZWLv8WZjdMIEra53a2OftMVOy72lrDQvYBL+SXU4yiqWsVoGMVoGB3EGpIIquIhlGA0uMuYCw6o6vsA5gEsoZ+ZkhQNoS6qM6I6rao1VWW4zDOVnhGJCYv5Iv7QegvHWm+jlVpQ0U9dQ6goWqmFY6238YfWW1jMF5GYQNmMQ/39S16oqjVRnRbVGQ2hPrhX/7xEtS6qe0RkWlWrl4PovxIsgPQWcaz1Nt5Z+SNW08qQPXyitLuMH6tpBe+s/BHHWm9jsVcC6cebyzKBkqeqiEyL6h5RrZNFsBoco6pWVHSyWFIZqMhlq+1tNDvzmGvPYTWtIHkO5zVXqHA6kudYTSuYa8+h2ZlHx9voG+MVeKiIyKSITKpoZUgiJEVFM1WdLH9U0c2iu1AbKfS8ANLEfOf9AggTHNcBBI7EhNW0gvnO+2h2mmh7e+BUhkqCgioliB1FTjYsERWVAKAigqyfJmCLXUj5lzyhlVpYyVtItCsb9qeqtYs9Eg0reQut1ELyNNhvKG8bdDMkQ9HwCADE3WUTiEiAoAKRDIUwhhNACEQUiYZWvlxsyLQpretof6goEosDauXL5QHpAGSfhxK4ikhWSib0haH4ByT5mBqcW/6GPOBl13OLWxk6ic07c/CPyA1kXq7AhmBYGsMbklvS680OhzOVXY6cpPfrheHliBIxkU1gIk4iIMJJgNeBgCjyKURMxElMZBOIEuF0XIkHAA4iB5FIJqDwNAMg7m4geiDz8iqA3CbSTCMms/6GWfHT68MBkoiSYSKbwGQ2iShxqAjbWoiVDcscQI9OA0DVMncWEZLMnb5MsuVkzwuxgO6ge7kjUNUa9lT3YLo6g7E4higReh3WrhBEiRiLY5iuzmDPyB5UtbbpnsvqkSToJMlewaMvk8xFhEM24vQeyWUnL5U/vqJoa1rD9Mg09tb2YiyOIdN4TenJ1jQl0wLI3tpeTFenUQu17Xv74LXHgsdlp/cur0dI5wbJJhXn3XmrmcHdYe5QEuo+iCtRMkxVpnDfxGH02MPp9fdwKb845C6vqlIsVHUim8Sdo3fhvonDmKpMIUoGgWC4mVfwYWZweofkebo3IbIxJBERoRvbdDTpbLp7x93FSzDuDi9PRghECdiZ7cIDEw/gyxP3YzyOw64hTTE6xuM4vjxxPx6YeAA7s10IEgAONyfMHO6Ggifv0L1J96abtbdViCTXSZ5V6F7SH3R3M3cN5vDgxU36kZ6C0VDHvvp+tL2D9bSGHdkteL8zh1a+DGPRfJAiJRhYdf+zIAETlUnsrd6OL4x9AfeO34d99f0YDfUBiP4BmjvdDWZOc3eSKyTOuPtZEVnfBiR52kgpnQ2ZzrjLirubm4sFE7Ui+3TVouAhUQt1zIS9GNEqRnQEjTiOzlIHK/kKiATvV4hb2kGbnymmKrfi4R2P4sHJB3Go8TlMVaag0E1b6IMxK9TKjU43o684eKab52djjBvbgOQpz/M8X636yIciMuvuU2Y2rUnHttUkKErSoAHjYRz7a3dAoBiPY3i/PYelfAkraQXty2r2WqhhPI5jZ7azqNkbn8e+2j6Mh3EEhKEel5ltrpTgZutu3qT7LN0/7OX5KoF8G5AjR46k5557bqNx8OAFAU6YyJSKjovKmKaid6UisC1RtpBMDTPVvbhtZDfuGbsHC70FnG2fQbPTxEJ3ARu2XnZRRjE1MoXp6jTuqB3AVGUKtVBHJhlC2ePatIkCQEqpaNolg5mtutmsm51wswvNZnPjySef9Cu2g1566SXedeDAJVV9B2TD3PdIsokkaUQEUVRR5tIDyagoogYEUVQ0Q5CAoAG7Kruwlq+hV3rIilbQyBqYzHZgKptCIzagKGt4L7IGt2KVQFgCSclS183PE3yb5Dtmdumll17ix7ZMX/zlL0d27tzZiDE+LMB/aAiPxBh3ZFlWrVQqKHu+w31eLZoSLG2hX+VtC/llORAlbqb+LIPeJgDkKUee58zzHHmed/I8XTKz1wE8a5Z+v7S0tPb417/e/dhO43KrlY82Gmt11XMq8lu6u7kflmTTqikTlNGvLGhAFixtsaGKVIbqicvTnKGUw1kYtDnMEvKU+pLwlFJu7udJP0byVZLnOt3u2nKrlV+1G/+LX/yCR44c4fjERA8ii6LaA3A7iKkSeJCtCetlJekgY71a2kJsgvABCKSUkOc58pRSSqlt7u86+bwl+02v12uePnO6/Z3vfMc/0Vjh+eef59GjRykivRCClYwlASokR8rrpBzmCArbKeqIK6fcwwC2GrY7rADAVACwlOdtM2u6+1vu/oq7/77b657rdrsbTzzxRPpUg57z58/3YoytmZmZ2UqlsoGIC3BmdI4SDE6GLYX1UDGkqldNTwYpkBmSGfKU0MtzpJTylOerZnbKyRfylN7o9Xrz8/PzrZSSXfMw9IUXXqg0Go2xerV2IIb4FQ36JQ16MIQwk2XZVJZl9axSQYxRssEES7dJZjAX2ZI3lbbAvJcjT/lGyvOFZDZvZqfc7E/J7NV2p3NmbW1t9Rvf+Ma1zRD71Gw280aj0ZqZnjk5Wq9fcONxuP1TdH8IwAiAumzttpSyKT31Nkn4IGI7LBlSXtpEnq+klJ9IZm+AfMXJU51O52Kz2Wyvra1ddUR9VSDf//73CSD9/Oc/X6/u3dsTCOkMKgIz2yUiDdVQFU2xbNKVcUY3C9I+kOHIvRknUuqY2by7v+FmvxORWSc/WlhczL/97W9/omw0ftJM9Zvf/KafPHkyX1lZ+SjP85Wo6p7SIQN2m4adqhJNFaKyaTqDKRa2Re5kqVgpz5Ol5WTpDN1fzfP8zaxSaU9MTOQPP/ywf/IC7VPQoUOH/KGHHurOzc21QH7gznfdecbM1rbmRsPjZ9+ayQ7sY7Dc19z9jBdu9oP/mZtrPfjQQ91Dhw75p6s0r4GOHj1KUlbM/aS7nzC31ZQK7+PDTMK2gtn6+ebvVt39BN1Pglw5evToNbUArrlGJbnq5qdIzrr7RXPrWjJPyWhm9BLU1mXFKy0lmpmbWdfdL9I5a8ZTJFavlZ94rRd6e2Od5GnGcJu5LMCsbZrKByCK4Nif2mLLEw9bJGFm3nbnghOz7Q5Pi2D9bw4EF5dyAVY5Wv+ILqdFZNrMb1e1yf6TD8RQgTisdubr7j7n7qed+OjiJV0FYH9zIA8/8QTffe01WyaXkdJfAEyVHfLJzVkK/qpE3G3V3U4ks78AWP7MZybtscfuvuYW2XX1fu9+7DEmsxVzn6XzpLsvu5uZGZMVtrJFldi3HzMzd1928qS7zZqllesBcX2qVdLq6upavV4/FUO8zd0umSFX1QwiAZfZSJGqm5t5buaXSM6mlE5tbGysXS8f192NX1xc7LXb7SXSz5M85+4fmHunn55vRvK+WnnH3T8g/Ryd59vt9tLi4mLv7w6k3W5bq9XqkVyi+yzIUywD5HBMKd2w2xrpp+g+S/pSq9Xqtdtt+7sDeeqpp7iwsGAgl0meIHnSyZYXjTGYO82dbsVjf3S2SJ4keQLk8sLCgj311FO8Xj5u2ITj9d/9bhzAnhDCP6vqv6volzUElTJ7ZFkzO/1td/9PM/sNgPOPPProyo3Y/4ZNrDSEjpMfEpgjed7pS+7eKzojBnfvOX2J5HkCc05+qCF0btT+8UbdKMuyJCLrJBfc/bSITBO4UyDVsvGwQfc5kqchspBl2XqM0f7hgBw+fNgB+O9ff/0SgFkAu+l+mwA7ysi+BnKW5CzISw898kh+I+eON3QY+vTTT0svz1vuftzdj9O9NRjUFO+Pu/vxXp63nn76abmRe8cbebPl5WV0u902RkbmYghny6fc9pRff0TybDKb63a77eXl5Rs+Cb6h9OKLL4ZKpTJSq1YPq+qTAO4tv3rH3Z9rdzrHer1e9/HHH7cbue//Ag/6lXu9bYvZAAAAAElFTkSuQmCC",Rr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAYAAAAWy4frAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TtaIVBTuIOGSoThZERRylikWwUNoKrTqYvPQPmjQkKS6OgmvBwZ/FqoOLs64OroIg+APi6uKk6CIl3pcUWsR44fE+zrvn8N59gFAvM9XsmABUzTKSsaiYya6KgVd0oRcD8EGQmKnHU4tpeNbXPfVR3UV4lnffn9Wn5EwG+ETiOaYbFvEG8cympXPeJw6xoqQQnxOPG3RB4keuyy6/cS44LPDMkJFOzhOHiMVCG8ttzIqGSjxNHFZUjfKFjMsK5y3OarnKmvfkLwzmtJUU12mNIIYlxJGACBlVlFCGhQjtGikmknQe9fAPO/4EuWRylcDIsYAKVEiOH/wPfs/WzE9NuknBKND5Ytsfo0BgF2jUbPv72LYbJ4D/GbjSWv5KHZj9JL3W0sJHQP82cHHd0uQ94HIHGHrSJUNyJD8tIZ8H3s/om7LA4C3Qs+bOrXmO0wcgTbNavgEODoGxAmWve7y7u31u//Y05/cD6/5ycY2sn3AAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfnBgsQCRam5F5TAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAEgtJREFUeNrtWltvXNd1/tbae5+Z4QxvomTZFmMnipwLFSR2Jbs1HAQKmraA39oieevv6A/qW4yibzbaJrBg1BF8i+1AphxKvsmkZFHmbci5nb0ufThnhqQk3yQlDQot4mDImeE5+ztrrW+t9e0DPLAH9sAe2AN7YA/sgT2wB/bAHtgDe2D/r4zu5Z/dnZeXl6OIpO4nVLQXJZpZFJEQY2RmJiKi+rtuZi4iFmNUZpbeapSZx72MMealpSUhIvuzA3H3uLy83Nza2jqiQ16MLX+ULD5MjAUKPk3EU1AuQqIAAJpdEax0t74r7bphw1k+kwFdC01bnZ+f31xaWhoSkfzJgYw9sLW11Wg2mx0zOyIiizD+AYAnOOIknE6QhwUKmGGmJoBU/3tWsyGUuk66AfI1E3wI4DLY3o8xrjLz5nA43Jufnx99Uw99bSC//vWvw1NPPRW3trYeGvX0+xzoe5zoFHtYDAWOEvgIgWeJ0WbmJhE1iCi6OwMAEZm7i7uPzGzojp7DdtxtU0t8jqCrIn7FzFcajfDH+fn59bffflt+9atf6X0B4u50/vz5AKDZbrfn88CfoODPEeMsI/44FPQwM6cQAjMxmAKYGRwIdXrQ/qkcqgY3h0FhZlBVM7Os6p+ZyR/c8aY7vZoSXe71elsAhufOnVMi8i9bZ/gqIKdPny6azeZMotb3wfYPIfIvQgxnUkrfjTEupBSbKRacikQpJqQUkVJEDAkxRjBFChwRY0TggBgDQmCEEBBCACOAmYiJAgduw3HU3RfNdQESh2Jl/6233pIXXnhB78oj7k4vvPACz8zMzE5NTS2GEP6aPPwzB3oypTQbQ2rEWC8wMoiImKtFMnPlDb/l9ORw99oTBjOFu7uqQrJCNCNnGYnkHVN/x0n/XVVf6/f7q91ud+eXv/ylfZFnvhDIiy++2CiKotNqtb7HzD9n5qdjSD8KITwSQmiklEJ1lyNCqoFQBYApAE7giH0w5DCpX10ngNzdRQSqChFFzqWq6khVr4vKRXd7w8xeHgwGK2VZ7j3//POjO603fhE7nT9/vhVCOO7Cp7nJfxs4PhVCaKdYpFREhBBo7A3mOkTqvDh4HDpvqDzizhUQdZgrVd+tbwJTyDlPgfCYmi/AMeOu60VR7IQQ1N3zndgs3gnESy+9lGZmZk4w8y9C4OdiSI/FGFspFSHGiBQTQqzinAMjcJiE03jxk98r0gLIahA+vg6YHWZUA2CIVK8gwIFAoJYoPQbC35tpm5l/89JLLw3uBOY2IMvLy3Fubq5tZo8z88/Iw7PMPBdDaqQUEUKqPBECYqoBoAbBAOCAG+COQ8Hs1UEggBhElVfG3lBRIAJERA4HgbgEGmZ2gojaRBwAuzw3N3d9eXl5D0D5pUB2d3fnReRHMcazjLiYijgdY4ypqJkohYp9ahCTxAYAKES6GPTXUZZbEOlBrbpe4AIxtlEU82hNPYQYZ0DMIGcADkoA8sHkpXEeRRCmyzIvMvNZERnt7u5eBHDjC4G4O5//zwvzsRV+QuAzIfKJEEK7KIoqJ1JFmRWFjsMJdbxnGPYwGNxAd3cF/f4qRqMNiPSqC8U2Go0FTE0tAmRoTTkYHXCIYCa4M+JhMGTqKBKiw2OMdiKXdoY87A22bc3dbx4Mr0k2vvzyyxFAsyiKvwL4XyKl54pmfLRIjZlGs0BKiWKq8mPsiSquexgOP8Pe3kfodpfR613FaLSBnPegOoS71DkTEUITKXXQaCyg3X4MMzNL6HS+g2bzOEJo1x5QSDaICHIWqGUflUOUZdktB3pNPL8K2L+VZfl7AMOf//znctgjl74d8cOPO0R0nIifiAWfDCHEVNQUGwICRXBdJ5gIgEGki729K/j85utYv/kK9nqfwL2s438/7KpEtzonCnTaj+OhYzsAFDFOIcYpEAHwgBCoSrPogDhSSlDVTmz4SSt53d2PA+jg0rcFwGEgU2fW24Nu8R0v6GSMPEtEIcZEzLyfD5Ew/hHpYzi4gZ3ue1i/8Sp2ussYlRsADACjqlt0qGQRcf2eYVRu4PONN5BzD6olZmdOo9l6CCG0wSAEEJwYYIYOA2JMJKIhBJ7N2U6SFKutM+srAIaHgBDRVGzQd8jpJBNPxxBDCAymQOMiNy54RATJPez1PsTW1u/x+cbv0Ot/AqJwgIIP15Bb2i6U5XYdgttIRQshtBBjBzF2JnTMFGAwYqoJJsRgatPkdDI26FMiWgWwAQA8bkeIaIqIFkOiE8zcYmYPIdQFjw8UO8BdMBqtY+PzN7C5+S6y7NZ3+xvOEMTIsovNzXex8fkbGI3W4S4grmiZQwVoUrOYnZlbIdEJIlokoqnxufhA0k8R0aMEPhFCaMYYD9HrPs06zDKGw3Vsbr2Nne57ENk7lA9fD0QVaiJ72Om+h82ttzEcrsMsV3R84JrjddT1q0ngE0T0KIAp96oH4gMnLoh5jjnMEbggov1Ch/2QUu2jt3cVvf7HENmDmcDd7mFcNpgJRPbQ63+M3t5VqAxAjOq4fQ0FM88R0RwRFbd7RGKKaf8LBKZJ/xOqekEEqPbRH3yKfv9TiOzV9Hr3QACDewWk3/8U/cGnUO1PSKXurEFMoMoKIpoj5vl6+jzkEebCAowKAiU4EQjggEleVN8nmGXkvI1ytAszvWNif9Npm4hgpihHu8h5uw6v/fPWzeSBQY0SgMTMAQC5+yRDOYQQABTESByICYcbQIBAzDAXjIbbyLJTJSYx6B5wVJ5muAuy7GA03Ia5gJgnIPfXAMADE1Fi4qJeMx/Kkb8o8zsMZQdCseo+D4cz3zJkTRrWsa/278h+F3vrZ/dFYBtfh/dXMT79bV6pV6LlfkyPgZiqisPE3bO52nh2OHSYgTmiKOaQ0gyAAHeD+72IfKhZLyClGRTFHJgSvJ4ibz1Abu7I7hAEnTDNBIiZqRlKN2Q4uRtgevtAwVSgKOZRpDlwCPWg5PcSR9WQFQKKNIeimAdxPDSEVQuc/O2AZ3eUZqYAnIg8HlhlBmzb3XccFh0W3Y1MHQoHc3X3QmyhPbWIXvsEYuiAKN5jUFVDVgwdTLVPoNVcRIityacqVs325jBzd/fS3XcA2wZCHt9FPjCLlO6+ba5b9e9w2G2uDWEKrdZjaLcfR4wdMKe7ak8OtinMCTF20G4/jnb7McQ4tX/Neg3m9at5aWZb7r7t7uWtOeIA+ua+Zm7X1HQoIjCzSvEghamjKuAEDgnNxnEcmX8SszM/RIydOlf8G+RG1dbH2MHszA9xZP5JNBvHwaGqcQdUlsk6qjXp0MyumfoagP5YHhrLmT4a0cAda+6+ZmZDMyMVm7h2fFI3AiGi0TyGhYVncOTIk0ixA3e9i0RXpNjBkSNPYmHhGTSax0AUagKoVRYziApMDWZGqjZ09zU3rI12aHDbqJuS9oZD/yhG+pabP62qqqYcPNSuVTKr2gUHEEMH09MnodZHLvtIaQ6D4Rpy3q1BeV3Q9tlp/72AophGq3kCszNLmJ9/CtPTJxFDZx/EOBpg7uYQVVcTc/euAx9q9o+a09q7DYiq9onkI/e0aGZdd1fJSjEqSa5aESMDh/F8PYWYHkeIjWqELdpYXx8h572aiezAIIXb3msUR3H06NM4evRvMDd3Gs3mwwB4wk4Tb5QVINXsgKtDu0T+IRXykSr6twEZjUYZwG4I4TMwVszCMYWeENFpZgFrrT/ZpFUAh4AY59DpfBcAIcVZ9HqfoswbyHkXqgM46pkdESG0kNI0irSAdvtbmJ1bQqdzEjHOAQiTEDYzqFXqo5ogjxQq1svZ1sxsxcw+U9VdVc13lEzdnS9cuPA9V3o+RP5ZSsXZlOKjRdFADJGKokBMYTwX7KsoUJiVkNzHcHgDe3tX0O+vYjhah+TqpsU0hWbjIUxNLaLTOYVm8zhimgJzAUKVF7U6DxGBiKAsS4iIj0YlRPK10Si/6WavUPAXn3322ZWDKsqtRcD7N3irmLV3ibyjQR4loVmgbFBBUVUrbe2QoshgrpT20GiAKYI5oNl4CGXehWol1YbQQJGmUTTm0Ww8jFRM11xDFbVateUgopUnxFxVUZalqMpIRK/B/fea/d3yc966tQrHW/odf/HFF7en2wvvuHtDRX8CoxOAzzNT5EBVE12DqKZIwJ0nCmIqZhDTFNB22C1jStXQUl1ED6grExBVOOVSamU+Q0SkzLlrpp9ypDcbKbyzN9zYu1WVpztpv1euXElbW1unpLS/40DPxRSeijGdKFIjpZQ4pYTAtWBXS0UHZ/rqRIzb+nvf71rHBc/MoVJRrIpCRFw0oxxly1Jm0bwmWd8211fN4n8fPz5/5dSpU1+t/dZbZPn8+fNrRVH8xsE9VSwAtFCruwwHjOsbkuqR1MPt3fCXFMgqJyoQahWInDPUBOUoQ6xUERmq6VWH/Ze7X8i5t3bq1NN3VOP5C1pqG1R23cwumtlvRfQVUblalmVvNCxVNLtkdckVs5hrXTS/dP0TAJMNH5Nqkyeri4iPhqXmnHuS9apkfcXMfmtmFweDwfXBYDD4og1S+qq9Q1WdbTQaizHGZ2DhH2MKT8YY5lJKzUajgRgTFY2IQOmwsP0FM5vDJuxUhVRGzgKR7KPRCDnnYS5lW03eAfl/iMjro9FoNYSw82V7ifFLBh0HIO+9997u9evXV5m5IKK2Kn1GhCeIsYghHUMTUyESEEBc73X4gVwYA/JaoKg2d2wCQkQ954xyVPZF5aaqrprZZTf8wcneGY1Gq4888sju6dOnv3T//St78KWlpby+vr7j7u+jX6x7Z3QxC35qFp/xhAaNaIqIUDQAIploBozbda5xN1uF1HirLaMcZZS57EqplxTl69D4P8562d03QwiDpaWlr2zk4tcYQR2AuHvvypUr5c6OeVmWQcUQgh0VzR0WanKgyBygWm+lMU10K9TRMPGGKurHOZBzFtE8VLVVNXndyS8ULVqZnX3oxp3Y6a6B3MpmV65cubG6utpttVqWR/oDNzxMxAuBQ2TSSvvKDEpjUW1/CnTULKUKyQJVQS5zFsnbavlDCnh1uNZ649iPO4NvAuIbARmDATBy9/J359+8Tsn/6O4Pm2tDRFshCFgBClztDY4FA9ofkgz7PZRkhcP2zOxDE/zRSa+f+6cnd77q4YA7z5l3p3i4J+qC5X0Ru6Siu6JVDZByv19S1Qktqxgk6wTEBIzIropdAtv7Pmh07wbEPela7sWumV0G24qpb5rpKGc1dXFV8/0Q0n0AqlBxVzGXrCZZR2a2CWDFzC57v9i92/XctXJw5EjobW76B1biuDbyTVYMmISVmZkEbkAIfmjHStVgPvGGGnRgrjct6oqX/sGR74be3UsYd2lLS0tZ/vWnu2644e4fiMhVNe2NQ0pVJhQrolCr3xuHnWlPVa6q+gcOvyE/ld2lpaX8Z/cIEbm764ULuq1qywCOqco8Ec2xBMQIQA94xCrq3W/TddfUL7nrMitvn8NXPwH0J/HIATBdVV0xw/siuq2iqipurm5WzRTjuqGmriouIqrZt0H+vqquuHv3XkDck0fGtrm5uTczM3OZyI+725ZkzcySiBGYcEh8qFnKRDUbyZa7rwC4vLm5uXev67hnNb7T6ZTdbndDhrjmSp847LrDhip1YteS0phyzW3obtdd6RMRXOt2uxudTqf8Pwdy7tw57XQ6ZWj4hruvmOCylLY37m7VpGrzrf5bdM/EL7v7Sgi+0el0ynPnzum9ruOeQ2uc9K+99tq2iF+i4Mcc9m1VHAOBmavYN/X6sT/fAdv7nulSTGH76zzm92fxyIHGssvJl8G2bGbbqmaqaqrV03IqamZm7rYNYJmTLwPo3g8Q98UjY5uenh6WZfnZYDC46u7XAHtc1Wfd0XQFHFq6+467XwPhaqvV+qwoiuH9uv5923pbWloSVe0x801z/cDMrrpbX1VgEDisb2ZXzfUDZr6pqr2lpSX5iwNCRHb27Nmcc96yTCvuvmJme6bmpuZmtufuK5ZpJee8dfbs2Xwvj5D/yYCM5/yiKHZMcNFhF81s54AMuuOwiya4WBTFzviJhftlEffZQggD5b2rlBsfgfwGyB6td2pvwOkj5eHVEGYH9/u69xVITcWjt956a6u72V/jiI+JMFt762MTX5s9Mrt15syZ0f1iq7H9L++aogOC/6lQAAAAAElFTkSuQmCC";function Br(e,t=1){return s.icon({iconUrl:["assets/icons/marker_red.png","assets/icons/marker_blue.png","assets/icons/marker_green.png","assets/icons/marker_yellow.png"][e],iconSize:[18*t,24*t],iconAnchor:[9*t,24*t],className:"marker-icon"})}s.icon({iconUrl:Ir,iconSize:[18,30],iconAnchor:[9,30],className:"marker-icon"}),s.icon({iconUrl:Or,iconSize:[18,30],iconAnchor:[9,30],className:"marker-icon"}),s.icon({iconUrl:Dr,iconSize:[18,30],iconAnchor:[9,30],className:"marker-icon"}),s.icon({iconUrl:Rr,iconSize:[18,30],iconAnchor:[9,30],className:"marker-icon"});class jr extends s.Map{constructor(e){super(e,jr.gameMapOptions()),this.floor=Ae(0),this.viewport=Ae(null).equality(jr.View.equals),this._lastHoveredTile=null,this.container=$(e),this.ui_container=c().addClass("gamemap-ui-container").appendTo(this.container);for(let e in jr.position_layer_class_mapping)c().addClass(jr.position_layer_class_mapping[e]).appendTo(this.ui_container);this.internal_root_layer=new xr,this.addLayer(this.internal_root_layer),this.addGameLayer(new Lr).addGameLayer(new Ar),this.on("contextmenu",(async e=>{let t=this.event(new Er(this,e,this.eventCoordinate(e)),(e=>t=>e.eventContextMenu(t)));t.active_entity&&await this.internal_root_layer.lockEntity(t.active_entity),new Pe(await t.getMenu()).show(this.container.get()[0],{x:e.originalEvent.clientX,y:e.originalEvent.clientY}).onClosed((async()=>{this.container.focus(),await this.internal_root_layer.lockEntity(null)}))})),this.on("click",(e=>{this.event(new Cr(this,e,this.eventCoordinate(e)),(e=>t=>e.eventClick(t)))})),this.on("mousemove",(e=>{let t=this.eventCoordinate(e);d.eq2(t,this._lastHoveredTile)||(this._lastHoveredTile=t,this.event(new Cr(this,e,t),(e=>t=>e.eventHover(t))))})),this.on("mouseup",(e=>{this.event(new Cr(this,e,this.eventCoordinate(e)),(e=>t=>e.eventMouseUp(t)))})),this.on("mousedown",(e=>{this.event(new Cr(this,e,this.eventCoordinate(e)),(e=>t=>e.eventMouseDown(t)))})),this.on("keydown",(e=>{this.event(new Sr(this,e),(e=>t=>e.eventKeyDown(t)))})),this.on("keyup",(e=>{this.event(new Sr(this,e),(e=>t=>e.eventKeyUp(t)))})),this.viewport.subscribe(((e,t)=>{this.event(new zr(this,t,e),(e=>t=>e.eventViewChanged(t)))})),this.on("moveend",(()=>this.updateView())),this.on("zoomend",(()=>this.updateView())),this.floor.subscribe((()=>this.updateView())),new f({intervals:[{min_zoom:-1/0,interval:64},{min_zoom:.5,interval:8},{min_zoom:1,interval:4},{min_zoom:2,interval:1}],lineStyle:{weight:1,color:"#111111",opacity:.25,interactive:!1}}).setZIndex(10).addTo(this),this.updateBaseLayers(),this.floor.subscribe((()=>this.updateBaseLayers()))}updateView(){const e=this.getBounds();return this.viewport.set({rect:p.lift(h.extend(h.from(l.fromLatLong(e.getNorthEast()),l.fromLatLong(e.getSouthWest())),1),this.floor.value()),zoom:this.getZoom()}),this}fitView(e,t={}){var i;return null!==(i=t.maxZoom)&&void 0!==i||(t.maxZoom=Math.max(this.getZoom(),4)),this.invalidateSize(),this.fitBounds(We.convert_bounds(h.toBounds(e)).pad(.1),t),this.floor.set(e.level),this}getClientPos(e){return l.add(this.latLngToContainerPoint(l.toLatLong(e)),{x:this.container.get()[0].getBoundingClientRect().left,y:this.container.get()[0].getBoundingClientRect().top})}addGameLayer(e){return this.internal_root_layer.add(e),this}addControl(e){if(e instanceof Pr){let t=this;function i(e){return t.ui_container.container.children(`.${jr.position_layer_class_mapping[e]}`)}e.content.appendTo(i(e.config.position))}else super.addControl(e);return this}updateBaseLayers(){const e='<a href="https://runeapps.org/" title="Creator of Alt1 and RuneApps.org">Skillbert</a>';function t(e){return[`https://runeapps.org/s3/map4/live/${e}`,`https://runeapps.org/node/map/getnamed?mapid=4&version=${me.map_version}&file=${e}`]}let i=[new Mr([{urls:t(`topdown-${this.floor.value()}/{z}/{x}-{y}.webp`)}],{attribution:e,tileSize:512,maxNativeZoom:5,minZoom:-5}),new Mr([{to:2,urls:t(`walls-${this.floor.value()}/{z}/{x}-{y}.webp`)},{from:3,to:3,urls:t(`walls-${this.floor.value()}/{z}/{x}-{y}.svg`)}],{attribution:e,tileSize:512,maxNativeZoom:3,minZoom:-5}),new Mr([{urls:t(`collision-${this.floor.value()}/{z}/{x}-{y}.png`)}],{attribution:e,tileSize:512,maxNativeZoom:3,minZoom:-5,className:"map-collisionlayer"})],n=this.baseLayers;n&&n.length>0&&(n.forEach((e=>e.on("tileloadstart",(e=>e.target.src="")))),i[0].on("load",(()=>setTimeout((()=>n.forEach((e=>e.remove()))),2e3)))),this.baseLayers=i,i.forEach((e=>e.addTo(this)))}eventCoordinate(e){return{x:e.latlng.lng,y:e.latlng.lat,level:this.floor.value()}}event(e,t){return e.active_entity=this.internal_root_layer.getHoveredEntity(),function i(n){n&&(e.propagation_state.phase="pre",t(n)(e),e.propagation_state.trickle_stopped||e.propagation_state.trickle_stopped_immediate||n.eachLayer((e=>{e instanceof xr&&i(e)})),e.propagation_state.trigger_post_order&&(e.propagation_state.phase="post",t(n)(e)),e.propagation_state.trickle_stopped_immediate=!1)}(this.internal_root_layer),e}}!function(e){let t;e.gameMapOptions=function(){return{crs:function(){let e=s.CRS.Simple;return e.transformation=s.transformation(1,16.5,-1,12783.5),e}(),zoomSnap:.25,minZoom:-5,maxZoom:7,zoomControl:!1,dragging:!0,doubleClickZoom:!1,boxZoom:!1,attributionControl:!0,preferCanvas:!1}},e.position_layer_class_mapping={"bottom-center":"gamemap-ui-layer-bc","bottom-left":"gamemap-ui-layer-bl","bottom-right":"gamemap-ui-layer-br","left-bottom":"gamemap-ui-layer-lb","left-center":"gamemap-ui-layer-lc","left-top":"gamemap-ui-layer-lt","right-bottom":"gamemap-ui-layer-rb","right-center":"gamemap-ui-layer-rc","right-top":"gamemap-ui-layer-rt","top-center":"gamemap-ui-layer-tc","top-left":"gamemap-ui-layer-tl","top-right":"gamemap-ui-layer-tr"},function(e){e.equals=function(e,t){return p.equals(null==e?void 0:e.rect,null==t?void 0:t.rect)&&(null==e?void 0:e.zoom)==(null==t?void 0:t.zoom)}}(t=e.View||(e.View={}))}(jr||(jr={}));class Nr extends ge{constructor(e=$("<div>")){super(e),this.map=new jr(e.get()[0]).setView([3200,3e3],0)}}function Fr(e,t=0){let i=3735928559^t,n=1103547991^t;for(let t,r=0;r<e.length;r++)t=e.charCodeAt(r),i=Math.imul(i^t,2654435761),n=Math.imul(n^t,1597334677);return i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(i^i>>>13,3266489909),4294967296*(2097151&n)+(i>>>0)}var Zr,qr,Ur;!function(e){var t=We.compose;function i(e){return btoa(JSON.stringify(e))}e.exp=function(e=null,n=!1,r=!1){return t(e?(o=e.type,s=e.version,e=>({_payload_type:"typed",type:o,version:s,value:e})):m.identity,n||r?function(e=!0,t=!0){return i=>{let n={_payload_type:"envelop",value:JSON.stringify(i)};return e&&(n.value=(0,Be.J2)(lr(n.value)),n.compressed=!0),t&&(n.hash=Fr(n.value)),n}}(n,r):m.identity,i);var o,s},e.imp=function(e=null){const i=e=>"string"==typeof e?function(e){return["{","["].indexOf(e.charAt(0))>=0}(e)?JSON.parse(e):JSON.parse(atob(e)):e,n=e=>{if("envelop"==(null==e?void 0:e._payload_type)){let t=e;if(null!=t.hash&&Fr(t.value)!=e.hash)throw new Error;return t.compressed?JSON.parse(cr((0,Be.K9)(e.value),{to:"string"})):JSON.parse(e.value)}return e},r=t=>{if("typed"==(null==t?void 0:t._payload_type)){let i=t,n=i.version,r=i.value;for(;null==e?void 0:e.migrations;){let t=e.migrations.find((e=>e.from==n));if(!t)break;r=t.f(r),n=t.to}if(e&&i.type!=e.expected_type||n!=e.expected_version)throw new Error;return r}return t};return e=>{try{return t(i,n,r)(e)}catch(e){return console.error(e),null}}}}(Zr||(Zr={})),function(e){let t,i;!function(e){e.invocation=function(e,t){let i=m.clone(t);for(let n of Object.keys(e.serializer))i[n]=(e.serializer[n]||m.identity)(t[n]);return{name:e.name,arg:i}}}(t=e.Commands||(e.Commands={})),function(e){var t=Zr.imp;e.toQuery=function(e,t=!0){if(t)return new URLSearchParams({ctr_query:n(null,!0,!1)(e)});{let t={ctr_query:e.name};for(let i of Object.keys(e.arg)){let n=e.arg[i];t[i]="string"==typeof n?n:JSON.stringify(n)}return new URLSearchParams(t)}},e.fromQuery=function(e,i){let n=i.get("ctr_query");return n?e.find((e=>e.name==n))?{name:n,arg:Object.fromEntries(i.entries())}:t()(n):null},e.resolve=function(e,i){let n=e.find((e=>e.name==i.name)),r=m.clone(i.arg);for(let e of Object.keys(n.parser))r[e]=null==i.arg[e]?n.default[e]:(n.parser[e]||t)(i.arg[e]);return n.instantiate(i.arg)}}(i||(i={})),e.link=function(e,n,r=!0){return`${window?window.location.origin+window.location.pathname:"https://leridon.github.io/rs3scantrainer/"}?${i.toQuery(t.invocation(e,n),r).toString()}`},e.get_from_params=function(e,t){let n=i.fromQuery(e,t);return n?i.resolve(e,n):null};var n=Zr.exp}(qr||(qr={})),function(e){e.all=function(){return[{type:"generic",icon_url:"assets/icons/cursor_generic.png",description:"Click",short_icon:"cursor_generic"},{type:"chop",icon_url:"assets/icons/cursor_chop.png",description:"Chop",short_icon:"cursor_chop"},{type:"talk",icon_url:"assets/icons/cursor_talk.png",description:"Talk to",short_icon:"cursor_talk"},{type:"open",icon_url:"assets/icons/cursor_open.png",description:"Open",short_icon:"cursor_open"},{type:"enter",icon_url:"assets/icons/cursor_enter.png",description:"Enter",short_icon:"cursor_enter"},{type:"spellonentity",icon_url:"assets/icons/cursor_alchemy.png",description:"Use spell",short_icon:"cursor_spell"},{type:"agility",icon_url:"assets/icons/cursor_agility.png",description:"Use",short_icon:"cursor_agility"},{type:"ladderdown",icon_url:"assets/icons/cursor_ladderdown.png",description:"Climb down ladder",short_icon:"cursor_ladderdown"},{type:"ladderup",icon_url:"assets/icons/cursor_ladderup.png",description:"Climb up ladder",short_icon:"cursor_ladderup"},{type:"read",icon_url:"assets/icons/cursor_read.png",description:"Read",short_icon:"cursor_read"},{type:"fish",icon_url:"assets/icons/cursor_fish.png",description:"Fish",short_icon:"cursor_fish"},{type:"search",icon_url:"assets/icons/cursor_search.png",description:"Search",short_icon:"cursor_search"},{type:"attack",icon_url:"assets/icons/cursor_attack.png",description:"Attack",short_icon:"cursor_attack"},{type:"craft",icon_url:"assets/icons/cursor_craft.png",description:"Craft at",short_icon:"cursor_craft"},{type:"build",icon_url:"assets/icons/cursor_build.png",description:"Build",short_icon:"cursor_build"},{type:"mine",icon_url:"assets/icons/cursor_mine.png",description:"Mine",short_icon:"cursor_mine"},{type:"trade",icon_url:"assets/icons/cursor_trade.png",description:"Trade",short_icon:"cursor_trade"},{type:"use",icon_url:"assets/icons/cursor_use.png",description:"Use",short_icon:"cursor_use"},{type:"cook",icon_url:"assets/icons/cursor_cook.png",description:"Cook",short_icon:"cursor_cook"},{type:"divine",icon_url:"assets/icons/cursor_divine.png",description:"Divine",short_icon:"cursor_divine"},{type:"loot",icon_url:"assets/icons/cursor_loot.png",description:"Loot",short_icon:"cursor_loot"},{type:"picklock",icon_url:"assets/icons/cursor_picklock.png",description:"Pick Lock",short_icon:"cursor_picklock"},{type:"shovel",icon_url:"assets/icons/cursor_shovel.png",description:"Shovel",short_icon:"cursor_shovel"},{type:"equip",icon_url:"assets/icons/cursor_equip.png",description:"Equip",short_icon:"cursor_equip"},{type:"discover",icon_url:"assets/icons/cursor_discover.png",description:"Discover",short_icon:"cursor_discover"},{type:"smith",icon_url:"assets/icons/cursor_smith.png",description:"Smith",short_icon:"cursor_smith"},{type:"herblore",icon_url:"assets/icons/cursor_herblore.png",description:"Herblore",short_icon:"cursor_herblore"},{type:"hunt",icon_url:"assets/icons/cursor_hunt.png",description:"Hunt",short_icon:"cursor_hunt"},{type:"burn",icon_url:"assets/icons/cursor_burn.png",description:"Burn",short_icon:"cursor_burn"},{type:"pray",icon_url:"assets/icons/cursor_pray.png",description:"Pray",short_icon:"cursor_pray"},{type:"runecraft",icon_url:"assets/icons/cursor_runecraft.png",description:"Runecraft",short_icon:"cursor_runecraft"},{type:"thieve",icon_url:"assets/icons/cursor_thieve.png",description:"Thieve",short_icon:"cursor_thieve"}]},e.meta=function(e){return[{type:"generic",icon_url:"assets/icons/cursor_generic.png",description:"Click",short_icon:"cursor_generic"},{type:"chop",icon_url:"assets/icons/cursor_chop.png",description:"Chop",short_icon:"cursor_chop"},{type:"talk",icon_url:"assets/icons/cursor_talk.png",description:"Talk to",short_icon:"cursor_talk"},{type:"open",icon_url:"assets/icons/cursor_open.png",description:"Open",short_icon:"cursor_open"},{type:"enter",icon_url:"assets/icons/cursor_enter.png",description:"Enter",short_icon:"cursor_enter"},{type:"spellonentity",icon_url:"assets/icons/cursor_alchemy.png",description:"Use spell",short_icon:"cursor_spell"},{type:"agility",icon_url:"assets/icons/cursor_agility.png",description:"Use",short_icon:"cursor_agility"},{type:"ladderdown",icon_url:"assets/icons/cursor_ladderdown.png",description:"Climb down ladder",short_icon:"cursor_ladderdown"},{type:"ladderup",icon_url:"assets/icons/cursor_ladderup.png",description:"Climb up ladder",short_icon:"cursor_ladderup"},{type:"read",icon_url:"assets/icons/cursor_read.png",description:"Read",short_icon:"cursor_read"},{type:"fish",icon_url:"assets/icons/cursor_fish.png",description:"Fish",short_icon:"cursor_fish"},{type:"search",icon_url:"assets/icons/cursor_search.png",description:"Search",short_icon:"cursor_search"},{type:"attack",icon_url:"assets/icons/cursor_attack.png",description:"Attack",short_icon:"cursor_attack"},{type:"craft",icon_url:"assets/icons/cursor_craft.png",description:"Craft at",short_icon:"cursor_craft"},{type:"build",icon_url:"assets/icons/cursor_build.png",description:"Build",short_icon:"cursor_build"},{type:"mine",icon_url:"assets/icons/cursor_mine.png",description:"Mine",short_icon:"cursor_mine"},{type:"trade",icon_url:"assets/icons/cursor_trade.png",description:"Trade",short_icon:"cursor_trade"},{type:"use",icon_url:"assets/icons/cursor_use.png",description:"Use",short_icon:"cursor_use"},{type:"cook",icon_url:"assets/icons/cursor_cook.png",description:"Cook",short_icon:"cursor_cook"},{type:"divine",icon_url:"assets/icons/cursor_divine.png",description:"Divine",short_icon:"cursor_divine"},{type:"loot",icon_url:"assets/icons/cursor_loot.png",description:"Loot",short_icon:"cursor_loot"},{type:"picklock",icon_url:"assets/icons/cursor_picklock.png",description:"Pick Lock",short_icon:"cursor_picklock"},{type:"shovel",icon_url:"assets/icons/cursor_shovel.png",description:"Shovel",short_icon:"cursor_shovel"},{type:"equip",icon_url:"assets/icons/cursor_equip.png",description:"Equip",short_icon:"cursor_equip"},{type:"discover",icon_url:"assets/icons/cursor_discover.png",description:"Discover",short_icon:"cursor_discover"},{type:"smith",icon_url:"assets/icons/cursor_smith.png",description:"Smith",short_icon:"cursor_smith"},{type:"herblore",icon_url:"assets/icons/cursor_herblore.png",description:"Herblore",short_icon:"cursor_herblore"},{type:"hunt",icon_url:"assets/icons/cursor_hunt.png",description:"Hunt",short_icon:"cursor_hunt"},{type:"burn",icon_url:"assets/icons/cursor_burn.png",description:"Burn",short_icon:"cursor_burn"},{type:"pray",icon_url:"assets/icons/cursor_pray.png",description:"Pray",short_icon:"cursor_pray"},{type:"runecraft",icon_url:"assets/icons/cursor_runecraft.png",description:"Runecraft",short_icon:"cursor_runecraft"},{type:"thieve",icon_url:"assets/icons/cursor_thieve.png",description:"Thieve",short_icon:"cursor_thieve"}].find((t=>t.type==e))},e.defaultEntity=function(e){switch(e){case"generic":case"spellonentity":case"craft":case"build":case"use":case"cook":case"divine":case"picklock":case"shovel":case"hunt":case"discover":case"smith":case"herblore":case"burn":case"pray":case"runecraft":return{kind:"static",name:"Entity"};case"chop":return{kind:"static",name:"Tree"};case"talk":case"trade":case"thieve":return{kind:"npc",name:"NPC"};case"attack":return{kind:"npc",name:"Monster"};case"open":return{kind:"static",name:"Door"};case"enter":return{kind:"static",name:"Cave"};case"agility":return{kind:"static",name:"Shortcut"};case"ladderdown":case"ladderup":return{kind:"static",name:"Stairs"};case"read":return{kind:"static",name:"Book"};case"fish":return{kind:"static",name:"Fishing Spot"};case"search":return{kind:"static",name:"Chest"};case"mine":return{kind:"static",name:"Rock"};case"loot":case"equip":return{kind:"item",name:"Item"}}},e.fromCacheCursor=function(e){return{0:"generic",44:"talk",49:"open",52:"ladderup",53:"ladderdown",59:"chop",181:"agility",208:"discover"}[null!=e?e:0]||"generic"},e.iconSize=function(e=1){return[28*e,31*e]},e.iconAnchor=function(e=1,t=!1){return t?[14*e,16*e]:[3*e,0]}}(Ur||(Ur={}));const Vr=[{type:"teleports",id:"home",name:"Lodestone Network",img:{url:"homeport.png"},animation_ticks:7,spots:[{id:"alkharid",img:{url:"lode_alkharid.png",width:28},code:"A",name:"Al-Kharid",target:{origin:{x:3297,y:3184,level:0}},facing:rr.south},{id:"anachronia",name:"Anachronia",img:{url:"lode_anachronia.png",height:28},code:"Alt+D",target:{origin:{x:5431,y:2338,level:0}},facing:rr.south},{id:"ardougne",img:{url:"lode_ardougne.png",height:28},code:"Alt+A",target:{origin:{x:2634,y:3348,level:0}},facing:rr.south,name:"Ardounge"},{id:"ashdale",name:"Ashdale",img:{url:"lode_ashdale.png",height:28},code:"Shift+A",target:{origin:{x:2474,y:2708,level:2}},facing:rr.south},{id:"banditcamp",img:{url:"lode_bandit.png",width:28},code:"Alt+B",target:{origin:{x:3214,y:2954,level:0}},facing:rr.south,name:"Bandit Camp"},{id:"burthorpe",img:{url:"lode_burthorpe.png",height:28},code:"B",target:{origin:{x:2899,y:3544,level:0}},facing:rr.south,name:"Burthope"},{id:"canifis",img:{url:"lode_canifis.png",height:28},code:"Alt+C",target:{origin:{x:3517,y:3515,level:0}},facing:rr.south,name:"Canifis"},{id:"catherby",img:{url:"lode_catherby.png",height:28},code:"C",target:{origin:{x:2811,y:3449,level:0}},facing:rr.south,name:"Cathery"},{id:"draynor",img:{url:"lode_draynor.png",height:28},code:"D",target:{origin:{x:3105,y:3298,level:0}},facing:rr.south,name:"Draynor"},{id:"eaglespeak",img:{url:"lode_eagles.png",height:28},code:"Alt+E",target:{origin:{x:2366,y:3479,level:0}},facing:rr.south,name:"Eagle's Peak"},{id:"edgeville",img:{url:"lode_edgeville.png",height:28},code:"E",target:{origin:{x:3067,y:3505,level:0}},facing:rr.south,name:"Edgeville"},{id:"falador",img:{url:"lode_falador.png",height:28},code:"F",target:{origin:{x:2967,y:3403,level:0}},facing:rr.south,name:"Falador"},{id:"fremmenik",img:{url:"lode_fremennik.png",height:28},code:"Alt+F",target:{origin:{x:2712,y:3677,level:0}},facing:rr.south,name:"Fremmenik Province"},{id:"karamja",img:{url:"lode_karamja.png",height:28},code:"K",target:{origin:{x:2761,y:3147,level:0}},facing:rr.south,name:"Karamja"},{id:"lumbridge",img:{url:"lode_lumbridge.png",height:28},code:"L",target:{origin:{x:3233,y:3221,level:0}},facing:rr.south,name:"Lumbridge"},{id:"lunarisle",img:{url:"lode_lunar.png",height:28},code:"Alt+L",target:{origin:{x:2085,y:3914,level:0}},facing:rr.south,name:"Lunar Isle"},{id:"ooglog",img:{url:"lode_ooglog.png",height:28},code:"O",target:{origin:{x:2532,y:2871,level:0}},facing:rr.south,name:"Oo'glog"},{id:"portsarim",img:{url:"lode_portsarim.png",height:28},code:"P",target:{origin:{x:3011,y:3215,level:0}},facing:rr.south,name:"Port Sarim"},{id:"prifddinas",img:{url:"lode_prifddinas.png",height:28},code:"Alt+P",target:{origin:{x:2208,y:3360,level:1}},facing:rr.south,name:"Prifddinas"},{id:"seersvillage",img:{url:"lode_seers.png",height:28},code:"S",target:{origin:{x:2689,y:3482,level:0}},facing:rr.south,name:"Seers' Village"},{id:"taverley",img:{url:"lode_taverley.png",height:28},code:"T",target:{origin:{x:2878,y:3442,level:0}},facing:rr.south,name:"Taverley"},{id:"tirannwn",img:{url:"lode_tirannwn.png",height:28},code:"Alt+T",target:{origin:{x:2254,y:3149,level:0}},facing:rr.south,name:"Tirannwn"},{id:"varrock",img:{url:"lode_varrock.png",height:28},code:"V",target:{origin:{x:3214,y:3376,level:0}},facing:rr.south,name:"Varrock"},{id:"wilderness",img:{url:"lode_wilderness.png",height:28},code:"W",target:{origin:{x:3143,y:3635,level:0}},facing:rr.south,name:"Wilderness"},{id:"yanille",img:{url:"lode_yanille.png",height:28},code:"Y",target:{origin:{x:2529,y:3094,level:0}},facing:rr.south,name:"Yanille"},{id:"menaphos",img:{url:"lode_menaphos.png",height:28},code:"M",target:{origin:{x:3216,y:2716,level:0}},facing:rr.south,name:"Menaphos"},{id:"fortforinthry",img:{url:"lode_fortforinthry.png",height:28},code:"Alt+W",target:{origin:{x:3298,y:3525,level:0}},facing:rr.south,name:"Fort Forinthry"},{id:"cityofum",img:{url:"lode_um.png",height:28},code:"U",target:{origin:{x:1084,y:1768,level:1}},facing:rr.east,name:"City of Um"}],access:[{id:"map",type:"spellbook",name:"Lodestone Network Map",menu_ticks:1},{id:"spellbook",type:"spellbook",name:"Any Spellbook",menu_ticks:0}]},{type:"teleports",id:"normalspellbook",name:"Normal Spellbook",img:{url:""},menu_ticks:0,animation_ticks:3,spots:[{id:"camelot",target:{origin:{x:2755,y:3476,level:0},size:{x:5,y:5},data:"/n3/AQ=="},img:{url:"tele-cam.png"},name:"Camelot"},{id:"camelot-seers",target:{origin:{x:2704,y:3481,level:0},size:{x:5,y:5}},img:{url:"tele-cam-seers.png"},name:"Camelot (Seer's Village)"},{id:"varrock",target:{origin:{x:3210,y:3432,level:0},size:{x:5,y:5}},img:{url:"tele-var.png"},name:"Varrock"},{id:"varrock-ge",target:{origin:{x:3162,y:3462,level:0},size:{x:2,y:5}},img:{url:"tele-var-ge.png"},name:"Varrock (Grand Exchange)"},{id:"varrock-church",target:{origin:{x:3245,y:3478,level:0},size:{x:4,y:5}},img:{url:"tele-var-church.png"},name:"Varrock (Church)"},{id:"watchtower",target:{origin:{x:2547,y:3111,level:2},size:{x:4,y:4},data:"88w="},img:{url:"tele-watch.png"},name:"Watchtower"},{id:"watchtower-yanille",target:{origin:{x:2573,y:3087,level:0},size:{x:5,y:5}},img:{url:"tele-watch-center.png"},name:"Watchtower (Yanille)"},{id:"lumbridge",target:{origin:{x:3217,y:3246,level:0},size:{x:5,y:5},data:"/3//AQ=="},img:{url:"tele-lum.png"},name:"Lumbridge"},{id:"falador",target:{origin:{x:2963,y:3376,level:0},size:{x:5,y:5}},img:{url:"tele-fal.png"},name:"Falador"},{id:"ardougne",target:{origin:{x:2659,y:3300,level:0},size:{x:5,y:5}},img:{url:"tele-ard.png"},name:"Ardougne"},{id:"southfeldiphills",target:{origin:{x:2411,y:2845,level:0},size:{x:5,y:5},data:"nP//AQ=="},img:{url:"tele-mob.png"},name:"South Feldip Hills"},{id:"taverley",target:{origin:{x:2910,y:3421,level:0},size:{x:5,y:5}},img:{url:"tele-taverley.png"},name:"Taverley"},{id:"godwars",target:{origin:{x:2908,y:3712,level:0},size:{x:3,y:4}},img:{url:"tele-god.png"},name:"God Wars"},{id:"trollheim",target:{origin:{x:2880,y:3666,level:0},size:{x:5,y:5},data:"//v/AQ=="},img:{url:"tele-troll.png"},name:"Trollheim"},{id:"apeatoll",target:{origin:{x:2795,y:2797,level:1},size:{x:5,y:3}},img:{url:"tele-ape.png"},name:"Ape Atoll"},{id:"mazcab",target:{origin:{x:4314,y:817,level:0},size:{x:5,y:5}},img:{url:"tele-mazcab.png"},name:"Mazcab"}],access:[{id:"spellbook",type:"spellbook",name:"Normal Spellbook"}]},{type:"teleports",id:"ancientspellook",name:"Ancient Spellbook",img:{url:""},menu_ticks:0,animation_ticks:3,spots:[{id:"senntisten",target:{origin:{x:3375,y:3400,level:0},size:{x:5,y:5}},img:{url:"tele-senntisten.png"},name:"Senntisten (Dig site)"},{id:"kharyll",target:{origin:{x:3499,y:3482,level:0},size:{x:5,y:4},data:"/38E"},img:{url:"tele-kharyrll.png"},name:"Kharyrll"},{id:"lassar",target:{origin:{x:3002,y:3468,level:0},size:{x:5,y:5}},img:{url:"tele-lassar.png"},name:"Lassar"},{id:"dareeyak",target:{origin:{x:2966,y:3694,level:0},size:{x:5,y:5},data:"///PAA=="},img:{url:"tele-dareeyak.png"},name:"Dareeyak"},{id:"carallaner",target:{origin:{x:3220,y:3664,level:0},size:{x:5,y:5},data:"zv9zAA=="},img:{url:"tele-carrallaner.png"},name:"Carrallanger"},{id:"annakarl",target:{origin:{x:3286,y:3884,level:0},size:{x:4,y:5},data:"//cP"},img:{url:"tele-annakarl.png"},name:"Annakarl"},{id:"ghorrock",target:{origin:{x:2974,y:3870,level:0},size:{x:5,y:5}},img:{url:"tele-ghorrock.png"},name:"Ghorrock"}],access:[{id:"spellbook",type:"spellbook",name:"Ancient Spellbook"}]},{type:"teleports",id:"lunarspellbook",name:"Lunar Spellbook",menu_ticks:0,animation_ticks:3,spots:[{id:"moonclan",target:{origin:{x:2112,y:3913,level:0},size:{x:4,y:5},data:"//8G"},img:{url:"tele-moonclan.png"},name:"Moonclan"},{id:"ourania",target:{origin:{x:2465,y:3243,level:0},size:{x:5,y:5},data:"3nv/AQ=="},img:{url:"tele-ourania.png"},name:"Ourania Altar"},{id:"southfalador",target:{origin:{x:3053,y:3308,level:0},size:{x:5,y:5},data:"+f9PAQ=="},img:{url:"tele-southfalador.png"},name:"South Falador"},{id:"waterbirth",target:{origin:{x:2544,y:3754,level:0},size:{x:5,y:5}},img:{url:"tele-waterbirth.png"},name:"Waterbirth"},{id:"barbarian",target:{origin:{x:2541,y:3567,level:0},size:{x:5,y:5}},img:{url:"tele-barbarian.png"},name:"Barbarian Outpost"},{id:"northardougne",target:{origin:{x:2663,y:3373,level:0},size:{x:4,y:5},data:"ZnYP"},img:{url:"tele-northardougne.png"},name:"North Ardougne"},{id:"khazard",target:{origin:{x:2634,y:3165,level:0},size:{x:5,y:5},data:"8P//AQ=="},img:{url:"tele-khazard.png"},name:"Port Khazard"},{id:"fishing",target:{origin:{x:2611,y:3381,level:0},size:{x:5,y:5}},img:{url:"tele-fishing.png"},name:"Fishing Guild"},{id:"catherby",target:{origin:{x:2788,y:3450,level:0},size:{x:5,y:5},data:"/v/vAQ=="},img:{url:"tele-catherby.png"},name:"Catherby"},{id:"iceplateu",target:{origin:{x:2973,y:3936,level:0},size:{x:4,y:5}},img:{url:"tele-iceplateau.png"},name:"Ice Plateau"},{id:"trollheim",target:{origin:{x:2815,y:3674,level:0},size:{x:5,y:5}},img:{url:"tele-trollheim.png"},name:"Trollheim Farm"}],access:[{id:"spellbook",type:"spellbook",name:"Lunar Spellbook"}]},{type:"teleports",id:"greenteleport",name:"Green Teleports",spots:[{id:"monastery",target:{origin:{x:2604,y:3212,level:0},size:{x:5,y:11},data:"zjn3/yeEEA=="},img:{url:"monastery.png"},name:"Kandarin Monastery",menu_ticks:0,animation_ticks:5},{id:"wars",target:{origin:{x:3294,y:10127,level:0}},img:{url:"warsretreat.png"},facing:rr.north,name:"Wars Retreat",menu_ticks:0,animation_ticks:3},{id:"manorfarm",target:{origin:{x:2665,y:3369,level:0},size:{x:9,y:11},data:"+PDh+/cvX75///DjBw=="},img:{url:"pof.png"},name:"Manor Farm",menu_ticks:0,animation_ticks:5},{id:"maxguild",target:{origin:{x:2276,y:3313,level:1}},facing:rr.south,img:{url:"max.png"},name:"Max guild",menu_ticks:0,animation_ticks:3},{id:"maxguild-garden",target:{origin:{x:2276,y:3327,level:1}},facing:rr.south,img:{url:"max.png"},name:"Max guild",menu_ticks:0,animation_ticks:3},{id:"skelettalhorror",target:{origin:{x:3362,y:3503,level:0}},img:{url:"skhorror.png"},name:"Skeletal Horror",menu_ticks:0,animation_ticks:3}],access:[{id:"spellbook",type:"spellbook",name:"Any Spellbook"}]},{type:"teleports",id:"houseteleports",name:"House Teleports",img:{url:"modhouse.gif"},spots:[{id:"rimmington",target:{origin:{x:2953,y:3222,level:0},size:{x:4,y:5}},name:"Rimmington",code:"1"},{id:"taverley",target:{origin:{x:2882,y:3450,level:0},size:{x:4,y:5}},name:"Taverley",code:"2"},{id:"pollnivneach",target:{origin:{x:3338,y:3003,level:0},size:{x:5,y:4}},name:"Pollnivneach",code:"3"},{id:"relekka",target:{origin:{x:2668,y:3631,level:0},size:{x:5,y:4},data:"//8H"},name:"Rellekka",code:"4"},{id:"brimhaven",target:{origin:{x:2757,y:3176,level:0},size:{x:4,y:5}},name:"Brimhaven",code:"5"},{id:"yanille",target:{origin:{x:2542,y:3093,level:0},size:{x:5,y:4}},name:"Yanille",code:"6"},{id:"trollheim",target:{origin:{x:2889,y:3672,level:0},size:{x:5,y:5},data:"zv//AQ=="},name:"Trollheim",code:"7"},{id:"prifddinas",target:{origin:{x:2166,y:3333,level:1},size:{x:5,y:5},data:"f///AQ=="},name:"Prifddinas",code:"8"},{id:"otot",target:{origin:{x:4193,y:919,level:0},size:{x:5,y:3}},name:"Otot (Mazcab)",code:"9"},{id:"menaphos",target:{origin:{x:3123,y:2633,level:0},size:{x:3,y:3},data:"vwA="},name:"Menaphos",code:"0,1"},{id:"anachronia",target:{origin:{x:5434,y:2374,level:0},size:{x:5,y:5},data:"5PyPAA=="},name:"Anachronia",code:"0,2"}],access:[{id:"spellbook",type:"spellbook",name:"Normal Spellbook",menu_ticks:0,animation_ticks:3},{id:"tablets",type:"item",name:{kind:"item",name:"House Teleport Tablet"},action_name:"Break",menu_ticks:0,animation_ticks:5}]},{type:"teleports",id:"teleportscrolls",name:"Teleport Scrolls",animation_ticks:5,spots:[{id:"grandexchange",target:{origin:{x:3159,y:3454,level:0},size:{x:4,y:5},data:"7u4D"},img:{url:"scroll-grandexchange.png"},name:"Grand Exchange",code:"1"},{id:"banditcamp",target:{origin:{x:3168,y:2980,level:0},size:{x:5,y:5}},img:{url:"scroll-banditcamp.png"},name:"Bandit Camp",code:"2"},{id:"clocktower",target:{origin:{x:2591,y:3250,level:0},size:{x:5,y:5},data:"/3/nAQ=="},img:{url:"scroll-clocktower.png"},name:"Clocktower",code:"3"},{id:"gutanoth",target:{origin:{x:2521,y:3060,level:0},size:{x:5,y:5},data:"hPz/AQ=="},img:{url:"scroll-gutanoth.png"},name:"Gu'Tanoth",code:"4"},{id:"lighthouse",target:{origin:{x:2511,y:3627,level:0},size:{x:5,y:3},data:"/x8="},img:{url:"scroll-lighthouse.png"},name:"Lighthouse",code:"5"},{id:"fortforinthry",target:{origin:{x:3301,y:3548,level:0},size:{x:5,y:5},data:"UP//AQ=="},img:{url:"scroll-fortforinthry.png"},name:"Forintry Teleport",code:"6"},{id:"miscellania",target:{origin:{x:2511,y:3858,level:0},size:{x:5,y:5},data:"//8/AQ=="},img:{url:"scroll-miscellania.png"},name:"Miscellania",code:"7"},{id:"phoenixlair",target:{origin:{x:2291,y:3620,level:0},size:{x:5,y:5},data:"/v//AA=="},img:{url:"scroll-phoenixlair.png"},name:"Phoenix Lair",code:"8"},{id:"pollnivneach",target:{origin:{x:3357,y:2967,level:0},size:{x:5,y:5},data:"//+fAQ=="},img:{url:"scroll-pollnivneach.png"},name:"Pollnivneach",code:"9"},{id:"taibwowannai",target:{origin:{x:2802,y:3084,level:0},size:{x:5,y:5},data:"5/9/AA=="},img:{url:"scroll-taibwowannai.png"},name:"Tai Bwo Wannai",code:"0"}],access:[{id:"scroll",type:"item",name:{name:"Scroll",kind:"item"},action_name:"Teleport",menu_ticks:0},{id:"globetrotter",type:"item",name:{name:"Globetrotter arm guards",kind:"item"},action_name:"Teleport",menu_ticks:1}]},{type:"teleports",id:"teleportseed",name:"Teleport Seed",img:{url:"crystal.gif"},menu_ticks:1,animation_ticks:3,spots:[{id:"lletya",target:{origin:{x:2328,y:3169,level:0},size:{x:5,y:5},data:"EP+PAQ=="},name:"Lletya",code:"1"},{id:"templeoflight",target:{origin:{x:1938,y:4639,level:0},size:{x:5,y:5}},name:"Temple of Light",code:"2"},{id:"amlodd",target:{origin:{x:2153,y:3381,level:1},size:{x:5,y:5}},name:"Amlodd",code:"3"},{id:"cadarn",target:{origin:{x:2259,y:3337,level:1},size:{x:5,y:5}},name:"Cadarn",code:"4"},{id:"crwys",target:{origin:{x:2259,y:3381,level:1},size:{x:5,y:5}},name:"Crwys",code:"5"},{id:"hefin",target:{origin:{x:2184,y:3409,level:1},size:{x:5,y:5}},name:"Hefin",code:"6"},{id:"iorwerth",target:{origin:{x:2183,y:3309,level:1},size:{x:5,y:5}},name:"Iorwerth",code:"7"},{id:"Ithell",target:{origin:{x:2153,y:3337,level:1},size:{x:5,y:5},data:"///vAQ=="},name:"Ithell",code:"8"},{id:"Meilyr",target:{origin:{x:2228,y:3409,level:1},size:{x:5,y:5}},name:"Meilyr",code:"9"},{id:"Trahaearn",target:{origin:{x:2229,y:3309,level:1},size:{x:5,y:5},data:"7///AA=="},name:"Trahaearn",code:"0"}],access:[{id:"attunedseed",type:"item",name:{name:"Attuned crystal teleport seed",kind:"item"},action_name:"Activate"}]},{type:"teleports",id:"spirittree",name:"Spirit Tree",img:{url:"spirittree.png"},animation_ticks:7,spots:[{id:"village",target:{origin:{x:2542,y:3169,level:0}},name:"Tree Gnome Village",code:"1"},{id:"stronghold",target:{origin:{x:2462,y:3444,level:0}},name:"Tree Gnome Stronghold",code:"2"},{id:"battlefield",target:{origin:{x:2557,y:3259,level:0}},name:"Battlefield of Khazard",code:"3"},{id:"grandexchange",target:{origin:{x:3187,y:3507,level:0}},name:"Grand Exchange",code:"4"},{id:"feldiphills",target:{origin:{x:2416,y:2851,level:0}},name:"South Feldip Hills",code:"5"},{id:"sarim",target:{origin:{x:3058,y:3257,level:0}},name:"Port Sarim",code:"6"},{id:"etceteria",target:{origin:{x:2613,y:3855,level:0}},name:"Etceteria",code:"7"},{id:"brimhaven",target:{origin:{x:2800,y:3203,level:0}},name:"Brimhaven",code:"8"},{id:"poisonwaste",target:{origin:{x:2338,y:3109,level:0}},name:"Poison Waste",code:"9"},{id:"prifddinas",target:{origin:{x:2275,y:3371,level:1}},name:"Prifddinas",code:"0"}],access:[{id:"spirittreererooter",type:"item",name:{kind:"item",name:"Spirit tree re-rooter"},action_name:"Teleport",menu_ticks:2}]},{type:"teleports",id:"fairyring",name:"Fairy Ring",img:{url:"fairyring.gif"},animation_ticks:7,spots:[{id:"AIP",target:{origin:{x:2412,y:4434,level:0}},code:"",name:"Zanaris"},{id:"AIQ",target:{origin:{x:2996,y:3114,level:0}},code:"AIQ",name:"Asgarnia: Mudskipper Point"},{id:"AIR",target:{origin:{x:2700,y:3247,level:0}},code:"AIR",name:"Islands: South of Witchhaven"},{id:"AIS",target:{origin:{x:2030,y:5982,level:0}},code:"AIS",name:"Other realms: Naragi homeworld"},{id:"AJQ",target:{origin:{x:2735,y:5221,level:0}},code:"AJQ",name:"Dungeons: Dark cave south of Dorgesh-Kaan"},{id:"AJR",target:{origin:{x:2780,y:3613,level:0}},code:"AJR",name:"Kandarin: Slayer cave south-east of Relekka"},{id:"AJS",target:{origin:{x:2500,y:3896,level:0}},code:"AJS",name:"Islands: Penguins near Miscellania"},{id:"AKQ",target:{origin:{x:2319,y:3619,level:0}},code:"AKQ",name:"Piscatoris Hunter area"},{id:"AKS",target:{origin:{x:2571,y:2956,level:0}},code:"AKS",name:"Feldip Hills: Jungle Hunter area"},{id:"ALP",target:{origin:{x:2468,y:4189,level:0}},code:"ALP",name:"Feldip Hills: Near Gu´Tanoth"},{id:"ALQ",target:{origin:{x:3597,y:3495,level:0}},code:"ALQ",name:"Morytania: Haunted Woods east of Canifis"},{id:"ALR",target:{origin:{x:3059,y:4875,level:0}},code:"ALR",name:"Other realmms: Abyss"},{id:"ALS",target:{origin:{x:2644,y:3495,level:0}},code:"ALS",name:"Kandarin: McGrubor´s Wood"},{id:"BIP",target:{origin:{x:3410,y:3324,level:0}},code:"BIP",name:"Islands: Polypore Dungeon"},{id:"BIQ",target:{origin:{x:3251,y:3095,level:0}},code:"BIQ",name:"Kharidian Desert: Near Kalphite Hive"},{id:"BIR",target:{origin:{x:2455,y:4396,level:0}},code:"BIS",name:"Sparse Plane"},{id:"BIS",target:{origin:{x:2635,y:3266,level:0}},code:"BIS",name:"Kandarin: Ardougne Zoo unicorns"},{id:"BJP",target:{origin:{x:3347,y:3540,level:0}},code:"BJP",name:"Fort Forinthry"},{id:"BJQ",target:{origin:{x:1737,y:5342,level:0}},code:"BJQ",name:"Dungeons: Ancient Cavern"},{id:"BJR",target:{origin:{x:2650,y:4730,level:0}},code:"BJR",name:"Other realms: Realm of the fisher king"},{id:"BJS",target:{origin:{x:1359,y:5635,level:0}},code:"BJS",name:"The Lost Grove"},{id:"BKP",target:{origin:{x:2385,y:3035,level:0}},code:"BKP",name:"Feldip Hills: South of Castle Wars"},{id:"BKQ",target:{origin:{x:3041,y:4532,level:0}},code:"BKQ",name:"Other realms: Enchanted Valley"},{id:"BKR",target:{origin:{x:3469,y:3431,level:0}},code:"BKR",name:"Morytania: Mort Myre, south of Canifis"},{id:"BLP",target:{origin:{x:4622,y:5147,level:0}},code:"BLP",name:"Dungeons: TzHaar area"},{id:"BLR",target:{origin:{x:2740,y:3351,level:0}},code:"BLR",name:"Kandarin: Legends' Guild"},{id:"CIP",target:{origin:{x:2513,y:3884,level:0}},code:"CIP",name:"Islands: Miscellania"},{id:"CIQ",target:{origin:{x:2528,y:3127,level:0}},code:"CIQ",name:"Kandarin: North-west of Yanille"},{id:"CIS",target:{origin:{x:3419,y:4772,level:0}},code:"CIS",name:"Other realms: ScapeRune (Evil Bob´s island)"},{id:"CJR",target:{origin:{x:2705,y:3576,level:0}},code:"CJR",name:"Kandarin: Sinclair Mansion (east)"},{id:"CJS",target:{origin:{x:2901,y:2930,level:0}},code:"CJS",name:"Karamja: Kharazi Jungle"},{id:"CKP",target:{origin:{x:2075,y:4848,level:0}},code:"CKP",name:"Other realms: Cosmic entity´s plane"},{id:"CKQ",target:{origin:{x:3086,y:2704,level:0}},code:"CKQ",name:"Menaphos: Imperial District"},{id:"CKR",target:{origin:{x:2801,y:3003,level:0}},code:"CKR",name:"Karamja: South of Tai Bwo Wannai Village"},{id:"CKS",target:{origin:{x:3447,y:3470,level:0}},code:"CKS",name:"Morytania: Canifis"},{id:"CLP",target:{origin:{x:3082,y:3206,level:0}},code:"CLP",name:"Islands: South of Draynor Village"},{id:"CLS",target:{origin:{x:2682,y:3081,level:0}},code:"CLS",name:"Islands: Jungle spiders near Yanille"},{id:"CLR",target:{origin:{x:2735,y:2742,level:0}},code:"CLR",name:"Islands: Ape Atoll"},{id:"DIP",target:{origin:{x:3763,y:2930,level:0}},code:"DIP",name:"Islands: Mos Le´Harmless"},{id:"DIR",target:{origin:{x:3038,y:5348,level:0}},code:"DIR",name:"Other realms: Gorak`s Plane"},{id:"kethsi",target:{origin:{x:4026,y:5699,level:0}},code:"DIR AKS",name:"Kethsi (DIR AKS)"},{id:"DIS",target:{origin:{x:3092,y:3137,level:0}},code:"DIS",name:"Misthalin: Wizard´s Tower"},{id:"DJP",target:{origin:{x:2658,y:3230,level:0}},code:"DJP",name:"Kandarin: Tower of Life"},{id:"DJR",target:{origin:{x:2676,y:3587,level:0}},code:"DJR",name:"Kandarin: Sinclair Mansion (west)"},{id:"DJS",target:{origin:{x:2130,y:3369,level:0}},code:"DJS",name:"Tirannwn: Prifddinas (Clan Amlodd)"},{id:"DKP",target:{origin:{x:2900,y:3111,level:0}},code:"DKP",name:"Karamja: South of Musa Point"},{id:"DKQ",target:{origin:{x:4183,y:5726,level:0}},code:"DKQ",name:"Dungeons: Glacor Cave"},{id:"DKR",target:{origin:{x:3129,y:3496,level:0}},code:"DKR",name:"Misthalin: Edgeville"},{id:"DKS",target:{origin:{x:2744,y:3719,level:0}},code:"DKS",name:"Kandarin: Snowy Hunter area"},{id:"DLQ",target:{origin:{x:3423,y:3016,level:0}},code:"DLQ",name:"Kharidian Desert: North of Nardah"},{id:"DLR",target:{origin:{x:2213,y:3099,level:0}},code:"DLR",name:"Islands: Poison Waste south of Isafdar"},{id:"DLS",target:{origin:{x:3501,y:9821,level:3}},name:"Dungeons: Myreque Hideout under The Hollows",code:"DLS"},{id:"resistance",target:{origin:{x:2254,y:4426,level:0}},name:"Fairy Resistance HQ"},{id:"rift",target:{origin:{x:1626,y:4176,level:0}},name:"Ork´s Rift (BIR, DIP, CLR, ALP)"},{id:"BLQ",target:{origin:{x:2229,y:4244,level:1}},name:"Yu´biusk",code:"BLQ"}],access:[{id:"portable_fairy_ring",type:"item",name:{kind:"item",name:"Portable Fairy Ring"},action_name:"Teleport",menu_ticks:2}]},{type:"teleports",id:"slayercape",name:"Slayer Cape",menu_ticks:1,animation_ticks:3,spots:[{id:"mandrith",target:{origin:{x:3050,y:3949,level:0},size:{x:5,y:5}},code:"1",name:"Mandrith"},{id:"laniakea",target:{origin:{x:5667,y:2136,level:0},size:{x:5,y:5},data:"///PAQ=="},code:"2",name:"Laniakea"},{id:"morvran",target:{origin:{x:2195,y:3327,level:1},size:{x:3,y:3},data:"TwA="},code:"3",name:"Morvran"},{id:"kuradal",target:{origin:{x:1738,y:5310,level:1},size:{x:5,y:5},data:"/v/nAA=="},code:"4",name:"Kuradal"},{id:"lapalok",target:{origin:{x:2868,y:2979,level:1},size:{x:3,y:5},data:"0nc="},code:"5",name:"Lapalok"},{id:"sumona",target:{origin:{x:3357,y:2991,level:0},size:{x:5,y:5},data:"5nxjAA=="},code:"6",name:"Sumona"},{id:"chealdar",target:{origin:{x:2443,y:4429,level:0},size:{x:5,y:5},data:"/H/KAQ=="},code:"7",name:"Chealdar"},{id:"mazchna",target:{origin:{x:3506,y:3504,level:0},size:{x:5,y:5}},code:"8",name:"Mazchna"},{id:"raptor",target:{origin:{x:3290,y:3542,level:0},size:{x:5,y:5}},code:"9",name:"The Raptor"},{id:"vannaka",target:{origin:{x:3092,y:3476,level:0},size:{x:4,y:5}},code:"0,1",name:"Vannaka",menu_ticks:2},{id:"jacquelyn",target:{origin:{x:3219,y:3222,level:0},size:{x:5,y:5},data:"//8/AQ=="},code:"0,2",name:"Jacquelyn",menu_ticks:2},{id:"spria",target:{origin:{x:2888,y:3545,level:0},size:{x:5,y:5},data:"///9AQ=="},code:"0,3",name:"Spria",menu_ticks:2}],access:[{id:"cape",type:"item",name:{name:"Slayer cape",kind:"item"},img:{url:"capeslay.png"},action_name:"Teleport"}]},{type:"teleports",id:"dungcape",name:"Dungeoneering Cape",animation_ticks:4,spots:[{id:"edgevilledungeon",target:{origin:{x:3130,y:9914,level:0},size:{x:5,y:4},data:"/z8H"},code:"1",name:"Edgeville Dungeon",menu_ticks:1},{id:"dwarvenmine",target:{origin:{x:3034,y:9769,level:0},size:{x:4,y:7},data:"4v/vDw=="},code:"2",name:"Dwarven mine",menu_ticks:1},{id:"hillgiants",target:{origin:{x:3101,y:9823,level:0},size:{x:7,y:7},data:"s9//////AQ=="},code:"3",name:"Hill giants",menu_ticks:1},{id:"karamjavolcano",target:{origin:{x:2842,y:9554,level:0},size:{x:6,y:7},data:"huA8z/YD"},code:"4",name:"Karamja volcano",menu_ticks:1},{id:"daemonheimpeninsula",target:{origin:{x:3510,y:3663,level:0},size:{x:4,y:7},data:"d///Dw=="},code:"5",name:"Daemonheim Peninsula",menu_ticks:1},{id:"firegiants",target:{origin:{x:2575,y:9895,level:0},size:{x:7,y:4},data:"////Bw=="},code:"6",name:"Waterfall fire giants",menu_ticks:1},{id:"miningguild",target:{origin:{x:3019,y:9738,level:0},size:{x:7,y:4},data:"Zr7/Dw=="},code:"7",name:"Mining guild",menu_ticks:1},{id:"braindeath",target:{origin:{x:2123,y:5144,level:0},size:{x:5,y:4},data:"730O"},code:"8",name:"Braindeath Island",menu_ticks:1},{id:"hellhounds",target:{origin:{x:2854,y:9838,level:0},size:{x:4,y:7},data:"7/+/Dw=="},code:"9",name:"Taverley dungeon hellhounds",menu_ticks:1},{id:"bluedragons",target:{origin:{x:2909,y:9807,level:0},size:{x:7,y:4},data:"+7+fAw=="},code:"0,1",name:"Taverley dungeon blue dragons",menu_ticks:2},{id:"varrocksewers",target:{origin:{x:3162,y:9877,level:0},size:{x:6,y:5},data:"kP/7Pg=="},code:"0,2",name:"Varrock sewers",menu_ticks:2},{id:"dragontooth",target:{origin:{x:3812,y:3528,level:0}},code:"0,3",name:"Dragontooth island",menu_ticks:2},{id:"chaostunnels",target:{origin:{x:3157,y:5521,level:0},size:{x:7,y:4},data:"vP//Dw=="},code:"0,4",name:"Chaos Tunnels",menu_ticks:2},{id:"alkharidmine",target:{origin:{x:3298,y:3304,level:0},size:{x:4,y:7},data:"7v//Dw=="},code:"0,5",name:"Al Kharid mine",menu_ticks:2},{id:"metaldragons",target:{origin:{x:2696,y:9439,level:0},size:{x:5,y:7},data:"/3vv/Qc="},code:"0,6",name:"Brimhaven metal dragons",menu_ticks:2},{id:"polypore",target:{origin:{x:4658,y:5488,level:3},size:{x:5,y:5},data:"/7/3AA=="},code:"0,7",name:"Polypore dungeon",menu_ticks:2},{id:"frostdragons",target:{origin:{x:3031,y:9596,level:0},size:{x:5,y:4},data:"3zkH"},code:"0,8",name:"Frost dragons",menu_ticks:2},{id:"kalgeriondemons",target:{origin:{x:3398,y:3662,level:0},size:{x:5,y:7},data:"/7333gE="},code:"0,9",name:"Daemonheim demons",menu_ticks:2},{id:"gorajohoardstalker",target:{origin:{x:2231,y:3419,level:1},size:{x:6,y:6},data:"3///jwM="},code:"0,0,1",name:"Gorajo hoardstalker",menu_ticks:3},{id:"slayertower",target:{origin:{x:3431,y:3528,level:0},size:{x:7,y:5},data:"////MwA="},code:"0,0,2",name:"Slayer tower dungeon",menu_ticks:3},{id:"edimmu",target:{origin:{x:2231,y:3393,level:1},size:{x:7,y:7},data:"j4fDj8fhAA=="},code:"0,0,3",name:"Edimmu dungeon",menu_ticks:3}],access:[{id:"cape",type:"item",name:{name:"Dungeoneering cape",kind:"item"},img:{url:"capedung.png"},action_name:"Teleport"}]},{type:"teleports",id:"questcape",name:"Quest Cape",menu_ticks:1,animation_ticks:3,spots:[{id:"guthixtemple",target:{origin:{x:2538,y:5771,level:0},size:{x:5,y:5}},code:"1",name:"Ancient Guthix Temple"},{id:"behindthescenes",target:{origin:{x:1181,y:5394,level:1},size:{x:5,y:5},data:"//8/AQ=="},code:"2",name:"Behind the scenes"},{id:"championsguild",target:{origin:{x:3188,y:3359,level:0},size:{x:4,y:4},data:"d+8="},code:"3",name:"Champion's Guild"},{id:"emptythroneroom",target:{origin:{x:2825,y:12626,level:2},size:{x:5,y:5},data:"4f9zAA=="},code:"4",name:"The empty throne room"},{id:"glacorcavern",target:{origin:{x:4194,y:5750,level:0},size:{x:5,y:5}},code:"5",name:"Glacor cavern"},{id:"heroesguild",target:{origin:{x:2918,y:9892,level:0},size:{x:5,y:5},data:"x/szAA=="},code:"6",name:"Heroes's Guild - Fountain of Heroes"},{id:"legensguild",target:{origin:{x:2726,y:3346,level:0},size:{x:5,y:4}},code:"7",name:"Legends' Guild"},{id:"tearsofguthix",target:{origin:{x:3249,y:9515,level:2},size:{x:4,y:5},data:"9/8P"},code:"8",name:"Tears of Guthix"},{id:"museum",target:{origin:{x:3252,y:3446,level:0},size:{x:5,y:5},data:"/7//AQ=="},code:"9",name:"Varrock Museum"},{id:"worldgate",target:{origin:{x:2365,y:3358,level:0},size:{x:5,y:5},data:"7v//AQ=="},code:"0",name:"The World Gate"}],access:[{id:"cape",type:"item",name:{name:"Quest cape",kind:"item"},img:{url:"capequest.png"},action_name:"Teleport"}]},{type:"teleports",id:"desertamulet",name:"Desert Amulet",menu_ticks:2,animation_ticks:6,spots:[{id:"nardah",target:{origin:{x:3427,y:2912,level:0},size:{x:11,y:11},data:"5z////3vf////////Of/AQ=="},code:"1",name:"Nardah"},{id:"uzer",target:{origin:{x:3475,y:3093,level:0},size:{x:9,y:11}},code:"2",name:"Uzer"}],access:[{id:"amulet",type:"item",name:{name:"Desert amulet",kind:"item"},img:{url:"desertamulet.gif"},action_name:"Teleport"}]},{type:"teleports",id:"amuletofglory",name:"Amulet of Glory",img:{url:"jewellry_amuletofglory.png"},menu_ticks:2,animation_ticks:4,spots:[{id:"edgeville",target:{origin:{x:3087,y:3496,level:0}},code:"1",name:"Edgeville"},{id:"karamja",target:{origin:{x:2918,y:3176,level:0}},code:"2",name:"Karamja"},{id:"draynor",target:{origin:{x:3080,y:3250,level:0}},code:"3",name:"Draynor"},{id:"alkharid",target:{origin:{x:3305,y:3123,level:0}},code:"4",name:"Al Kharid"}],access:[{id:"necklace",type:"item",name:{name:"Amulet of glory",kind:"item"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"combatbracelet",name:"Combat bracelet",menu_ticks:2,animation_ticks:4,spots:[{id:"warriors",target:{origin:{x:2880,y:3542,level:0}},code:"1",name:"Warriors' Guild"},{id:"champions",target:{origin:{x:3191,y:3365,level:0}},code:"2",name:"Champions' Guild"},{id:"monastery",target:{origin:{x:3052,y:3488,level:0}},code:"3",name:"Edgeville Monastery"},{id:"ranging",target:{origin:{x:2655,y:3441,level:0}},code:"4",name:"Ranging Guild"}],access:[{id:"ring",type:"item",name:{name:"Combat bracelet",kind:"item"},img:{url:"jewellry_combatbracelet.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"digsitependant",name:"Dig Site pendant",menu_ticks:2,animation_ticks:4,spots:[{id:"digsite",target:{origin:{x:3358,y:3396,level:0}},code:"1",name:"Digsite"},{id:"senntisten",target:{origin:{x:3378,y:3444,level:0}},code:"2",name:"Senntisten"},{id:"exam",target:{origin:{x:3362,y:3345,level:0}},code:"3",name:"Exam Centre"}],access:[{id:"ring",type:"item",name:{name:"Dig Site pendant",kind:"item"},img:{url:"jewellry_digsitependant.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"enlightenedamulet",name:"Enlightened amulet",menu_ticks:2,animation_ticks:3,spots:[{id:"nexus",target:{origin:{x:3215,y:3180,level:0},size:{x:5,y:5},data:"//+/AQ=="},code:"1",name:"Nexus"},{id:"graveyard",target:{origin:{x:3231,y:3655,level:0},size:{x:4,y:5},data:"//cP"},code:"2",name:"Graveyard of Shadows"},{id:"banditcamp",target:{origin:{x:3169,y:2994,level:0},size:{x:5,y:5}},code:"3",name:"Bandit camp"}],access:[{id:"ring",type:"item",name:{name:"Enlightened amulet",kind:"item"},img:{url:"jewellry_enlightenedamulet.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"gamesnecklace",name:"Games necklace",img:{url:"jewellry_gamesnecklace.png"},menu_ticks:2,animation_ticks:4,spots:[{id:"trollinvasion",target:{origin:{x:2874,y:3567,level:0}},code:"1",name:"Troll invasion"},{id:"barbarianoutpost",target:{origin:{x:2520,y:3571,level:0}},code:"2",name:"Barbarian Outpost"},{id:"gamersgrotto",target:{origin:{x:2967,y:9678,level:0}},code:"3",name:"Gamer's grotto"},{id:"agoroth",target:{origin:{x:3860,y:6827,level:0}},code:"4",name:"Agoroth"},{id:"corporealbeast",target:{origin:{x:2885,y:4372,level:2}},code:"5",name:"Corporeal Beast"},{id:"burghderott",target:{origin:{x:3487,y:3237,level:0}},code:"6",name:"Burgh De Rott"},{id:"tearsofguthix",target:{origin:{x:3250,y:9517,level:2}},code:"7",name:"Tears of Guthix"}],access:[{id:"necklace",type:"item",name:{name:"Games necklace",kind:"item"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"ringofduelling",name:"Ring of duelling",img:{url:"jewellry_duelring.png"},menu_ticks:2,animation_ticks:4,spots:[{id:"hetsoasis",target:{origin:{x:3313,y:3235,level:0},size:{x:5,y:5},data:"+/v/AQ=="},code:"1",name:"Het's oasis"},{id:"castlewars",target:{origin:{x:2442,y:3088,level:0},size:{x:4,y:5}},code:"2",name:"Castle wars"},{id:"warforge",target:{origin:{x:2411,y:2845,level:0},size:{x:5,y:5},data:"nP//AQ=="},code:"3",name:"The Warforge"},{id:"fistofguthix",name:"Fist of Guthix",target:{origin:{x:1690,y:5598,level:0},size:{x:5,y:5}},code:"4"}],access:[{id:"ring",type:"item",name:{name:"Ring of duelling",kind:"item"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"ringofrespawn",name:"Ring of respawn",menu_ticks:2,animation_ticks:3,spots:[{id:"lumbridge",target:{origin:{x:3219,y:3217,level:0},size:{x:5,y:5},data:"7f/2AQ=="},code:"1",name:"Lumbridge"},{id:"falador",target:{origin:{x:2969,y:3337,level:0},size:{x:5,y:4},data:"//sP"},code:"2",name:"Falador"},{id:"camelot",target:{origin:{x:2756,y:3478,level:0},size:{x:5,y:5},data:"/39rAA=="},code:"3",name:"Camelot"},{id:"soulwars",target:{origin:{x:1888,y:3176,level:0},size:{x:5,y:4},data:"//8M"},code:"4",name:"Soul Wars"},{id:"burthorpe",target:{origin:{x:2887,y:3535,level:0},size:{x:3,y:4},data:"/g8="},code:"5",name:"Burthorpe"}],access:[{id:"ring",type:"item",name:{name:"Ring of respawn",kind:"item"},img:{url:"jewellry_ringofrespawn.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"ringofslaying",name:"Ring of slaying",menu_ticks:2,animation_ticks:4,spots:[{id:"sumona",target:{origin:{x:3359,y:2991,level:0},size:{x:4,y:5},data:"zM0M"},code:"1",name:"Sumona"},{id:"slayertower",target:{origin:{x:3419,y:3522,level:0},size:{x:3,y:4},data:"/ww="},code:"2",name:"Slayer Tower"},{id:"slayerdungeon",target:{origin:{x:2788,y:3614,level:0},size:{x:5,y:3},data:"/2M="},code:"3",name:"Fremennik Slayer Dungeon"},{id:"tarnslair",target:{origin:{x:3183,y:4599,level:0},size:{x:5,y:3},data:"hHw="},code:"3",name:"Tarn's Kair"}],access:[{id:"ring",type:"item",name:{name:"Ring of slaying",kind:"item"},img:{url:"jewellry_ringofslaying.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"ringofwealth",name:"Ring of Wealth",menu_ticks:2,animation_ticks:4,spots:[{id:"miscellania",target:{origin:{x:2505,y:3858,level:1},size:{x:5,y:5}},code:"1",name:"Miscellania"},{id:"grandexchange",target:{origin:{x:3162,y:3462,level:0},size:{x:2,y:5}},code:"2",name:"Grand Exchange"}],access:[{id:"ring",type:"item",name:{name:"Ring of Wealth",kind:"item"},img:{url:"jewellry_ringofwealth.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"luckofthedwarves",name:"Luck of the Dwarves",menu_ticks:1,animation_ticks:4,spots:[{id:"keldagrim",target:{origin:{x:2856,y:10197,level:0},size:{x:5,y:5},data:"7v3nAA=="},code:"3",name:"Keldagrim"},{id:"outpost",target:{origin:{x:2550,y:3473,level:0},size:{x:5,y:5},data:"//+vAQ=="},code:"4",name:"Dwarven Outpost"}],access:[{id:"ring",type:"item",name:{name:"Luck of the Dwarves",kind:"item"},img:{url:"luck_of_the_dwarves.png"},action_name:"Rub"}]},{type:"teleports",id:"hazelmeressignetring",name:"Hazelmere's signet ring",menu_ticks:1,animation_ticks:4,spots:[{id:"hazelmere",target:{origin:{x:2422,y:3394,level:0},size:{x:5,y:5},data:"+v//AQ=="},code:"4",name:"Hazelmere"}],access:[{id:"ring",type:"item",name:{name:"Hazelmere's signet ring",kind:"item"},img:{url:"Hazelmeres_signet_ring.webp"},action_name:"Rub"}]},{type:"teleports",id:"skillsnecklace",name:"Skills necklace",menu_ticks:2,animation_ticks:4,spots:[{id:"fishing",target:{origin:{x:2615,y:3385,level:0}},code:"1",name:"Fishing Guild"},{id:"mining",target:{origin:{x:3016,y:3338,level:0}},code:"2",name:"Mining Guild"},{id:"crafting",target:{origin:{x:2933,y:3290,level:0}},code:"3",name:"Crafting Guild"},{id:"cooking",target:{origin:{x:3143,y:3442,level:0}},code:"4",name:"Cooking Guild"},{id:"invention",target:{origin:{x:2997,y:3437,level:0}},code:"5",name:"Invention guild"},{id:"farming",target:{origin:{x:2646,y:3355,level:0}},code:"6",name:"Farming Guild"},{id:"runecrafting",target:{origin:{x:3102,y:3152,level:3}},code:"7",name:"Runecrafting Guild"}],access:[{id:"ring",type:"item",name:{name:"Skills necklace",kind:"item"},img:{url:"jewellry_skillsnecklace.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"travellersnecklace",name:"Traveller's necklace",menu_ticks:2,animation_ticks:3,spots:[{id:"wizardstower",target:{origin:{x:3101,y:3178,level:0},size:{x:5,y:5}},code:"1",name:"Wizard's Tower"},{id:"outpost",target:{origin:{x:2445,y:3343,level:0},size:{x:5,y:5}},code:"2",name:"The Outpost"},{id:"deserteagle",target:{origin:{x:3422,y:3138,level:0},size:{x:5,y:5},data:"//8fAQ=="},code:"3",name:"Desert Eagle's Eyrie"}],access:[{id:"ring",type:"item",name:{name:"Traveller's necklace",kind:"item"},img:{url:"jewellry_travellersnecklace.png"},action_name:"Rub",can_be_in_pota:!0}]},{id:"davesspellbook",type:"teleports",name:"Dave's spellbook",img:{url:"davebook.gif"},spots:[{id:"watchtower",target:{origin:{x:2443,y:3180,level:0}},code:"1",name:"Watchtower"},{id:"camelot",target:{origin:{x:2794,y:3418,level:0}},code:"2",name:"Camelot"},{id:"falador",target:{origin:{x:3006,y:3319,level:0}},code:"3",name:"Falador"},{id:"ardougne",target:{origin:{x:2538,y:3306,level:0}},code:"4",name:"Ardounge"},{id:"lumbridge",target:{origin:{x:3168,y:3199,level:0}},code:"5",name:"Lumbridge"},{id:"varrock",target:{origin:{x:3254,y:3449,level:0}},code:"6",name:"Varrock"}],access:[{img:{url:"davebook.gif"},id:"spellbook",type:"item",name:{kind:"item",name:"Dave's spellbook"},action_name:"Teleport",menu_ticks:2,animation_ticks:3}]},{type:"teleports",id:"arctabs",name:"Arc Journal",img:{url:"arcjournal.png"},menu_ticks:1,animation_ticks:3,spots:[{id:"sarim",target:{origin:{x:3050,y:3245,level:0},size:{x:4,y:4},data:"/64="},name:"Port Sarim",code:"1"},{id:"waiko",target:{origin:{x:1820,y:11613,level:0},size:{x:5,y:5}},name:"Waiko",code:"2"},{id:"whalesmaw",target:{origin:{x:2058,y:11797,level:0},size:{x:5,y:4},data:"778P"},name:"Whale's Maw",code:"3"},{id:"aminishi",target:{origin:{x:2085,y:11273,level:0},size:{x:5,y:5},data:"//83AA=="},name:"Aminishi",code:"4"},{id:"cyclosis",target:{origin:{x:2314,y:11222,level:0},size:{x:5,y:5}},name:"Cyclosis",code:"5"},{id:"tuaileit",target:{origin:{x:1797,y:11959,level:0},size:{x:5,y:5}},name:"Tuai Leit",code:"6"},{id:"turtleislands",target:{origin:{x:2277,y:11502,level:0},size:{x:3,y:4},data:"/wc="},name:"Turtle Islands",code:"7"},{id:"goshima",target:{origin:{x:2459,y:11546,level:0},size:{x:4,y:2},data:"Lw=="},name:"Goshima",code:"8"}],access:[{id:"journal",type:"item",name:{name:"Arc journal",kind:"item"},action_name:"Teleport"}]},{type:"teleports",id:"quiver",name:"Tirannwn quiver",menu_ticks:1,animation_ticks:5,spots:[{id:"lletya",target:{origin:{x:2344,y:3169,level:0},size:{x:5,y:5},data:"5fx/AA=="},name:"Lletya",code:"1"},{id:"islwyn",target:{origin:{x:2174,y:3349,level:1},size:{x:4,y:5},data:"1/8D"},name:"Islwyn",code:"2"},{id:"tyras",target:{origin:{x:2184,y:3144,level:0},size:{x:5,y:5},data:"5P3/AQ=="},name:"Tyras Camp",code:"3"},{id:"poisonwaste",target:{origin:{x:1987,y:4172,level:0},size:{x:5,y:4}},name:"Poison Waste",code:"4"},{id:"deathaltar",target:{origin:{x:1858,y:4637,level:0},size:{x:2,y:5}},name:"Death Altar",code:"5"},{id:"elfcamp",target:{origin:{x:2201,y:3252,level:0},size:{x:4,y:5},data:"/+4O"},name:"Elf Camp",code:"6"},{id:"mushroompatch",target:{origin:{x:2225,y:3132,level:0},size:{x:5,y:5},data:"+P/3AQ=="},name:"Mushroom Patch",code:"7"},{id:"harmonypillars",target:{origin:{x:2217,y:3395,level:1},size:{x:5,y:5}},name:"Harmony Pillars",code:"8"}],access:[{id:"quiver",type:"item",img:{url:"quiver.gif"},name:{name:"Tirannwn quiver",kind:"item"},action_name:"Teleport"}]},{type:"teleports",id:"sceptreofthegods",name:"Sceptre of the gods",menu_ticks:1,animation_ticks:3,spots:[{id:"pyramidpain",target:{origin:{x:1942,y:4498,level:0}},name:"Pyramid Plunder",code:"1"},{id:"agility",target:{origin:{x:3341,y:2827,level:0}},name:"Agility Pyramid",code:"2"},{id:"ancient",target:{origin:{x:3232,y:2897,level:0}},name:"Ancient Pyramid",code:"3"},{id:"palace",target:{origin:{x:3175,y:2729,level:0}},name:"Golden Palace",code:"4"}],access:[{id:"sotg",type:"item",name:{name:"Sceptre of the gods",kind:"item"},img:{url:"sotg.png"},action_name:"Teleport",menu_ticks:1}]},{type:"teleports",id:"gliders",name:"Gnome gliders",img:{url:"glider.png"},menu_ticks:2,animation_ticks:6,spots:[{id:"grandtree",target:{origin:{x:2465,y:3501,level:3}},name:"Ta Quir Priw",code:"1"},{id:"whitewolfmountain",target:{origin:{x:2850,y:3494,level:1}},name:"Sindarpos",code:"2"},{id:"digside",target:{origin:{x:3319,y:3438,level:0}},name:"Lemanto Andra",code:"3"},{id:"alkharid",target:{origin:{x:3284,y:3211,level:0}},name:"Kar-Hewo",code:"4"},{id:"karamja",target:{origin:{x:2971,y:2969,level:0}},name:"Gandius",code:"5"},{id:"feldiphills",target:{origin:{x:2549,y:2971,level:0}},name:"Lemantolly Undri",code:"6"},{id:"treegnomevillage",target:{origin:{x:2496,y:3191,level:0}},name:"Priw Gnomo Andralo",code:"7"},{id:"prifddinas",target:{origin:{x:2208,y:3445,level:1}},name:"Dylandra",code:"8"},{id:"tualeit",target:{origin:{x:1772,y:11920,level:0}},name:"Kal-Undri",code:"9"}],access:[{id:"grandtree",type:"entity",clickable_area:{origin:{x:2464,y:3502,level:3}},name:{kind:"npc",name:"Captain Errdo"},action_name:"Glider"},{id:"whitewolfmountain",type:"entity",clickable_area:{origin:{x:2850,y:3493,level:1}},name:{kind:"npc",name:"Captain Bleemadge"},action_name:"Glider"},{id:"alkharid",type:"entity",clickable_area:{origin:{x:3283,y:3212,level:0}},name:{kind:"npc",name:"Captain Dalbur"},action_name:"Glider"},{id:"karamja",type:"entity",clickable_area:{origin:{x:2970,y:2973,level:0}},name:{kind:"npc",name:"Captain Klemfoodle"},action_name:"Glider"},{id:"feldip",type:"entity",clickable_area:{origin:{x:2545,y:2972,level:0}},name:{kind:"npc",name:"Gnormadium Avlafrim"},action_name:"Glider"},{id:"gnomevillage",type:"entity",clickable_area:{origin:{x:2496,y:3190,level:0}},name:{kind:"npc",name:"Captain Belmondo"},action_name:"Glider"},{id:"prifddinas",type:"entity",clickable_area:{origin:{x:2207,y:3452,level:1}},name:{kind:"npc",name:"Captain Muggin"},action_name:"Glider"},{id:"tuaeileit",type:"entity",clickable_area:{origin:{x:1773,y:11919,level:0}},name:{kind:"npc",name:"Azalea Oakhart"},action_name:"Glider"}]},{type:"teleports",id:"wickedhood",name:"Wicked hood",menu_ticks:2,animation_ticks:3,spots:[{id:"guild",target:{origin:{x:3109,y:3156,level:3}},name:"Runecrafting Guild",menu_ticks:1},{id:"soul",target:{origin:{x:2016,y:6878,level:0}},name:"Soul",code:"Soul"},{id:"cosmic",target:{origin:{x:2405,y:4381,level:0}},name:"Cosmic",code:"Cosmic"},{id:"air",target:{origin:{x:3128,y:3407,level:0}},name:"Air",code:"Air"},{id:"body",target:{origin:{x:3050,y:3442,level:0}},name:"Body",code:"Body"},{id:"mind",target:{origin:{x:2980,y:3511,level:0}},name:"Mind",code:"Mind"},{id:"fire",target:{origin:{x:3310,y:3252,level:0}},name:"Fire",code:"Fire"},{id:"earth",target:{origin:{x:3302,y:3477,level:0}},name:"Earth",code:"Earth"},{id:"water",target:{origin:{x:3165,y:3183,level:0}},name:"Water",code:"Water"},{id:"nature",target:{origin:{x:2865,y:3022,level:0}},name:"Nature",code:"Nature"},{id:"astral",target:{origin:{x:2156,y:3866,level:0}},name:"Astral",code:"Astral"},{id:"chaos",target:{origin:{x:2269,y:4844,level:0}},name:"Chaos",code:"Chaos"},{id:"law",target:{origin:{x:2858,y:3378,level:0}},name:"Law",code:"Law"},{id:"blood",target:{origin:{x:3560,y:9779,level:0}},name:"Blood",code:"Blood"},{id:"death",target:{origin:{x:1863,y:4637,level:0}},name:"Death",code:"Death"}],access:[{id:"wickedhood",type:"item",name:{name:"Wicked hood",kind:"item"},img:{url:"wicked.gif"},action_name:"Teleport"}]},{type:"teleports",id:"gote",name:"Grace of the Elves (Max Guild Portal)",img:{url:"gote.png"},animation_ticks:3,spots:[{id:"overgrownidols",target:{origin:{x:2949,y:2977,level:0}},name:"Overgrown idols"},{id:"deepseafishing",target:{origin:{x:2135,y:7107,level:0}},name:"Deep sea fishing hub"},{id:"lavaflowmine",target:{origin:{x:2177,y:5663,level:0}},name:"Lava Flow Mine"}],access:[{id:"gote",type:"item",name:{name:"Grace of the elves",kind:"item"},action_name:"Max garden portal",menu_ticks:1}]},{type:"teleports",id:"naturessentinel",name:"Nature's sentinel outfit",animation_ticks:3,spots:[{id:"normalwestvarrock",target:{origin:{x:3135,y:3430,level:0}},code:"1,1",name:"Normal Trees - West Varrock",menu_ticks:2},{id:"normaleastvarrock",target:{origin:{x:3290,y:3475,level:0}},code:"1,2",name:"Normal Trees - East Varrock",menu_ticks:2},{id:"oakwestvarrock",target:{origin:{x:3166,y:3415,level:0}},code:"2,1",name:"Oak Trees - West Varrock",menu_ticks:2},{id:"oakeastvarrock",target:{origin:{x:3277,y:3475,level:0}},code:"2,2",name:"Oak Trees - East Varrock",menu_ticks:2},{id:"willowdraynor",target:{origin:{x:3090,y:3232,level:0}},code:"3,1",name:"Willow Trees - Draynor",menu_ticks:2},{id:"willowcathery",target:{origin:{x:2783,y:3429,level:0}},code:"3,2",name:"Willow Trees - Catherby",menu_ticks:2},{id:"willowbarbarianoutpost",target:{origin:{x:2520,y:3579,level:0}},code:"3,3",name:"Willow Trees - Barbarian Outpost",menu_ticks:2},{id:"mapleseers",target:{origin:{x:2728,y:3501,level:0}},code:"4,1",name:"Maple Trees - Seers'",menu_ticks:2},{id:"mapledaemonheim",target:{origin:{x:3500,y:3626,level:0}},code:"4,2",name:"Maple Trees - Daeomonheim Peninsula Resource Dungeon'",menu_ticks:2},{id:"yewseers",target:{origin:{x:2708,y:3463,level:0}},code:"5,1",name:"Yew Trees - Seers' Graveyard",menu_ticks:2},{id:"yewcathery",target:{origin:{x:2757,y:3431,level:0}},code:"5,2",name:"Yew Trees - West Catherby",menu_ticks:2},{id:"yewedgeville",target:{origin:{x:3087,y:3475,level:0}},code:"5,3",name:"Yew Trees - Edgeville",menu_ticks:2},{id:"yewvarrock",target:{origin:{x:3208,y:3502,level:0}},code:"5,4",name:"Yew Trees - Varrock Palace",menu_ticks:2},{id:"yewcrwys",target:{origin:{x:2261,y:3383,level:1}},code:"5,5",name:"Yew Trees - Crwys sector",menu_ticks:2},{id:"magicranging",target:{origin:{x:2694,y:3425,level:0}},code:"6,1",name:"Magic Trees - East Ranging Guild",menu_ticks:2},{id:"magicsorcerer",target:{origin:{x:2702,y:3397,level:0}},code:"6,2",name:"Magic Trees - Sorcerer's Tower",menu_ticks:2},{id:"magicmagetraining",target:{origin:{x:3357,y:3310,level:0}},code:"6,3",name:"Magic Trees - Mage Training Arena",menu_ticks:2},{id:"magictirannwn",target:{origin:{x:2287,y:3140,level:0}},code:"6,4",name:"Magic Trees - South Tirannwn",menu_ticks:2},{id:"magiccrwys",target:{origin:{x:2249,y:3367,level:1}},code:"6,5",name:"Magic Trees - Crwys sector",menu_ticks:2},{id:"eldersorcerer",target:{origin:{x:2734,y:3401,level:0}},code:"7,1",name:"Elder Trees - East Sorcerer's Tower",menu_ticks:2},{id:"elderyanille",target:{origin:{x:2572,y:3063,level:0}},code:"7,2",name:"Elder Trees - South Yanille",menu_ticks:2},{id:"eldergnomestronghold",target:{origin:{x:2425,y:3456,level:0}},code:"7,3",name:"Elder Trees - Tree Gnome Stronghold",menu_ticks:2},{id:"elderdraynor",target:{origin:{x:3094,y:3215,level:0}},code:"7,4",name:"Elder Trees - South Draynor",menu_ticks:2},{id:"elderfalador",target:{origin:{x:3052,y:3320,level:0}},code:"7,5",name:"Elder Trees - Falador Farm",menu_ticks:2},{id:"eldervarrock",target:{origin:{x:3259,y:3370,level:0}},code:"7,6",name:"Elder Trees - South Varrock",menu_ticks:2},{id:"elderlletya",target:{origin:{x:2294,y:3147,level:0}},code:"7,7",name:"Elder Trees - West Lletya",menu_ticks:2},{id:"elderpiscatoris",target:{origin:{x:2321,y:3598,level:0}},code:"7,8",name:"Elder Trees - Piscatoris",menu_ticks:2},{id:"elderedgeville",target:{origin:{x:3094,y:3451,level:0}},code:"7,9,1",name:"Elder Trees - South Edgeville",menu_ticks:3},{id:"elderrimmington",target:{origin:{x:2933,y:3227,level:0}},code:"7,9,2",name:"Elder Trees - North Rimmington",menu_ticks:3},{id:"elderfort",target:{origin:{x:3375,y:3545,level:0}},code:"7,9,3",name:"Elder Trees - Fort Forinthry Grove",menu_ticks:3},{id:"teaktai",target:{origin:{x:2815,y:3084,level:0}},code:"0,1,1",name:"Teak Trees - Tai Bwo Wannai",menu_ticks:3},{id:"teakape",target:{origin:{x:2774,y:2696,level:0}},code:"0,1,2",name:"Teak Trees - Ape Atoll",menu_ticks:3},{id:"teakcastlewars",target:{origin:{x:2334,y:3048,level:0}},code:"0,1,3",name:"Teak Trees - South-west Castle Wars",menu_ticks:3},{id:"mahoganyape",target:{origin:{x:2716,y:2708,level:0}},code:"0,2,2",name:"Mahogany Trees - Ape Atoll",menu_ticks:3},{id:"mahoganiharazi",target:{origin:{x:2932,y:2928,level:0}},code:"0,2,3",name:"Mahogany Trees - Kharazi Jungle",menu_ticks:3},{id:"arcticpine",target:{origin:{x:2355,y:3848,level:0}},code:"0,3",name:"Arctic Pine Trees",menu_ticks:2},{id:"acadia",target:{origin:{x:3186,y:2720,level:0}},code:"0,4",name:"Acadia Trees",menu_ticks:2},{id:"ivynorthvarrock",target:{origin:{x:3217,y:3499,level:0}},code:"0,5,1",name:"Choking Ivy - North Varrock Palace",menu_ticks:3},{id:"ivyeastvarrock",target:{origin:{x:3232,y:3460,level:0}},code:"0,5,2",name:"Choking Ivy - East Varrock Palace",menu_ticks:3},{id:"ivynorthfalador",target:{origin:{x:3015,y:3394,level:0}},code:"0,5,3",name:"Choking Ivy - North Falador",menu_ticks:3},{id:"ivysouthfalador",target:{origin:{x:3047,y:3326,level:0}},code:"0,5,4",name:"Choking Ivy - South Falador",menu_ticks:3},{id:"ivytaverley",target:{origin:{x:2938,y:3428,level:0}},code:"0,5,5",name:"Choking Ivy - South-east Taverly",menu_ticks:3},{id:"ivyardougne",target:{origin:{x:2623,y:3307,level:0}},code:"0,5,6",name:"Choking Ivy - East Ardougne Church",menu_ticks:3},{id:"ivyyanille",target:{origin:{x:2594,y:3112,level:0}},code:"0,5,7",name:"Choking Ivy - North Yanille",menu_ticks:3},{id:"ivycastlewars",target:{origin:{x:2429,y:3062,level:0}},code:"0,5,8",name:"Choking Ivy - South Castle Wars",menu_ticks:3},{id:"ivycrwys",target:{origin:{x:2241,y:3375,level:1}},code:"0,5,9",name:"Choking Ivy - Crwys sector",menu_ticks:3},{id:"idolsshipyard",target:{origin:{x:2932,y:3026,level:0}},code:"0,6,1",name:"Overgrown Idols - West of the Karamja shipyard",menu_ticks:3},{id:"idolsjadinko",target:{origin:{x:2949,y:2977,level:0}},code:"0,6,2",name:"Overgrown Idols - North of the Jadinko vine cave",menu_ticks:3}],access:[{id:"outfit",type:"item",name:{name:"Nature's sentinel helm",kind:"item"},action_name:"Teleport",img:{url:"sentinel.png"}}]},{type:"teleports",id:"archteleport",name:"Archaeology teleport (or outfit)",menu_ticks:1,animation_ticks:3,spots:[{id:"campus",target:{origin:{x:3336,y:3378,level:0}},code:"1",name:"Archaeology Campus"},{id:"kharidet",target:{origin:{x:3345,y:3194,level:0}},code:"2",name:"Kharid-et"},{id:"infernal",target:{origin:{x:3271,y:3504,level:0}},code:"3",name:"Infernal Source"},{id:"everlight",target:{origin:{x:3697,y:3206,level:0}},code:"4",name:"Everlight"},{id:"senntisten",target:{origin:{x:1784,y:1296,level:0}},code:"5",name:"Senntisten"},{id:"stormguard",target:{origin:{x:2680,y:3403,level:0}},code:"6",name:"Stormguard Citadel"},{id:"warforge",target:{origin:{x:2409,y:2824,level:0}},code:"7",name:"Warforge"},{id:"orthen",target:{origin:{x:5457,y:2339,level:0}},code:"8",name:"Orthen"},{id:"jacques",target:{origin:{x:3254,y:3453,level:2}},code:"9,1",name:"Collectors - Art Critic Jacques",menu_ticks:2},{id:"tess",target:{origin:{x:2550,y:2853,level:0}},code:"9,2",name:"Collectors - Chief Tess",menu_ticks:2},{id:"generals",target:{origin:{x:2957,y:3510,level:0}},code:"9,3",name:"Collectors - Generals Bentnoze & Wartface",menu_ticks:2},{id:"isaura",target:{origin:{x:2921,y:9701,level:0}},code:"9,4",name:"Collectors - Isaura",menu_ticks:2},{id:"lowse",target:{origin:{x:2985,y:3268,level:0}},code:"9,5",name:"Collectors - Lowse",menu_ticks:2},{id:"sharrigan",target:{origin:{x:5456,y:2344,level:0}},code:"9,6",name:"Collectors - Sharrigan",menu_ticks:2},{id:"atcha",target:{origin:{x:2963,y:3346,level:0}},code:"9,7",name:"Collectors - Sir Atcha",menu_ticks:2},{id:"soran",target:{origin:{x:3181,y:3417,level:0}},code:"9,8",name:"Collectors - Soran",menu_ticks:2},{id:"velucia",target:{origin:{x:3342,y:3382,level:0}},code:"9,9",name:"Collectors - Velucia",menu_ticks:2},{id:"wiseoldman",target:{origin:{x:3088,y:3254,level:0}},code:"9,0,1",name:"Collectors - Wise Old Man",menu_ticks:3}],access:[{id:"scrolls",type:"item",img:{url:"archteleport.png"},name:{name:"Archaeology teleport",kind:"item"},action_name:"Teleport"}]},{type:"teleports",id:"ringofkinship",name:"Ring of Kinship",spots:[{id:"daemonheim",name:"Daemonheim",target:{origin:{x:3441,y:3694,level:0},size:{x:11,y:11},data:"//////nPf/jDH/6gBzzAAA=="},menu_ticks:0,animation_ticks:8}],access:[{id:"ring",type:"item",img:{url:"ringofkinship.png"},name:{name:"Ring of kinship",kind:"item"},action_name:"Teleport to Daemonheim"}]},{type:"teleports",id:"ecctophial",name:"Ectophial",spots:[{id:"ectofunctus",name:"Ectofunctus",target:{origin:{x:3657,y:3522,level:0},size:{x:5,y:3},data:"/zc="},menu_ticks:0,animation_ticks:13}],access:[{id:"phial",type:"item",img:{url:"ectophial.png"},name:{name:"Ectophial",kind:"item"},action_name:"Empty"}]},{type:"teleports",id:"explorersring",name:"Explorer's ring",img:{url:"explorersring.png"},menu_ticks:0,animation_ticks:10,spots:[{id:"cabbagefield",target:{origin:{x:3053,y:3291,level:0}},name:"Cabbage field"}],access:[{type:"item",id:"ring",name:{name:"Explorer's ring 4",kind:"item"},action_name:"Cabbage-port"}]},{type:"teleports",id:"karamjagloves",name:"Karamja gloves",img:{url:"karamjagloves.gif"},spots:[{id:"gemmine",name:"Gem Mine",target:{origin:{x:2838,y:9385,level:0},size:{x:5,y:5},data:"/3/vAQ=="},menu_ticks:1,animation_ticks:5}],access:[{id:"gloves",type:"item",name:{name:"Karamja gloves 4",kind:"item"},action_name:"Teleport"}]},{type:"teleports",id:"legendscape",name:"Legends Cape",img:{url:"legendscape.png"},spots:[{id:"legendsguild",target:{origin:{x:2728,y:3348,level:0}},name:"Legend's Guild",animation_ticks:3}],access:[{id:"cape",type:"item",action_name:"Teleport",name:{kind:"item",name:"Cape of legends"},menu_ticks:1}]},{type:"teleports",id:"skullsceptre",name:"Skull Sceptre",menu_ticks:1,animation_ticks:3,spots:[{id:"outside",target:{origin:{x:3081,y:3421,level:0}},code:"1",name:"Outside"},{id:"war",target:{origin:{x:1859,y:5240,level:0},size:{x:5,y:5},data:"+f/vAQ=="},code:"2",name:"Vault of War"},{id:"famine",target:{origin:{x:2041,y:5241,level:0},size:{x:5,y:5},data:"//+vAA=="},code:"3",name:"Catacomb of Famine"},{id:"pestillence",target:{origin:{x:2121,y:5251,level:0},size:{x:5,y:5},data:"8v//AQ=="},code:"4",name:"Pit of Pestilence"},{id:"death",target:{origin:{x:2358,y:5211,level:0},size:{x:5,y:5},data:"/v//AQ=="},code:"5",name:"Sepulchre of Death"}],access:[{type:"item",img:{url:"skullsceptre.png"},name:{kind:"item",name:"Skull sceptre"},action_name:"Teleport",id:"tablet"}]},{type:"teleports",id:"dragonkinlaboratory",name:"Dragonkin Laboratory teleport",menu_ticks:1,animation_ticks:4,spots:[{id:"spot",target:{origin:{x:3367,y:3887,level:0},size:{x:5,y:5},data:"/39CAA=="},name:"Dragonkin Laboratory"}],access:[{type:"item",img:{url:"dragonkin.png"},name:{kind:"item",name:"Dragonkin Laboratory teleport"},action_name:"Break",id:"tablet"}]},{type:"teleports",id:"wildernessobelisk",name:"Portable obelisk",menu_ticks:1,animation_ticks:3,spots:[{id:"13",target:{origin:{x:3155,y:3619,level:0},size:{x:3,y:3}},code:"1",name:"Level 13"},{id:"18",target:{origin:{x:3218,y:3655,level:0},size:{x:3,y:3}},code:"2",name:"Level 18"},{id:"27",target:{origin:{x:3034,y:3731,level:0},size:{x:3,y:3}},code:"3",name:"Level 27"},{id:"35",target:{origin:{x:3105,y:3793,level:0},size:{x:3,y:3}},code:"4",name:"Level 35"},{id:"44",target:{origin:{x:2979,y:3865,level:0},size:{x:3,y:3}},code:"5",name:"Level 44"},{id:"50",target:{origin:{x:3306,y:3915,level:0},size:{x:3,y:3}},code:"6",name:"Level 50"}],access:[{id:"obelisk",type:"item",name:{name:"Portable obelisk",kind:"item"},img:{url:"portableobelisk.png"},action_name:"Teleport"}]},{type:"teleports",id:"wildernesssword",name:"Wilderness sword",img:{url:"wildernesssword.png"},spots:[{id:"edgeville",target:{origin:{x:3083,y:3499,level:0},size:{x:7,y:7},data:"fz7/////AA=="},code:"1,1",name:"Edgeville",menu_ticks:3,animation_ticks:5},{id:"herbpatch",target:{origin:{x:3140,y:3822,level:0},size:{x:7,y:7},data:"8/n/////AQ=="},code:"1,2",name:"Herb patch",menu_ticks:3,animation_ticks:5},{id:"forinthry",target:{origin:{x:3078,y:10056,level:0},size:{x:6,y:6},data:"/P//PQ4="},code:"1,3",name:"Forinthry Dungeon",menu_ticks:3,animation_ticks:5},{id:"agility",target:{origin:{x:2995,y:3910,level:0},size:{x:7,y:6},data:"//////MA"},code:"1,5",name:"Wilderness Agility course",menu_ticks:3,animation_ticks:5}],access:[{type:"item",id:"sword",name:{name:"Wilderness Sword 4",kind:"item"},action_name:"Operate"}]},{type:"teleports",id:"lyre",name:"Enchanted lyre",menu_ticks:1,animation_ticks:6,spots:[{id:"relekka",target:{origin:{x:2651,y:3689,level:0},size:{x:5,y:5},data:"///vAQ=="},code:"1",name:"Relekka",menu_ticks:1,animation_ticks:6},{id:"waterbirth",target:{origin:{x:2525,y:3738,level:0},size:{x:5,y:5},data:"/H/OAQ=="},code:"2",name:"Waterbirth Island"},{id:"neitiznot",target:{origin:{x:2310,y:3784,level:0},size:{x:3,y:5},data:"22Y="},code:"3",name:"Neitiznot"},{id:"jatizso",target:{origin:{x:2402,y:3780,level:0},size:{x:5,y:5},data:"6//3AA=="},code:"4",name:"Jatizso"},{id:"miscellania",target:{origin:{x:2515,y:3858,level:0},size:{x:5,y:5},data:"//8/AQ=="},code:"5",name:"Miscellania"},{id:"etceteria",target:{origin:{x:2591,y:3878,level:0},size:{x:5,y:5}},code:"6",name:"Etceteria"},{id:"relekkamarket",target:{origin:{x:2641,y:3675,level:0},size:{x:5,y:5}},code:"7",name:"Relekka Market"}],access:[{id:"lyre",type:"item",name:{name:"Enchanted lyre",kind:"item"},img:{url:"enchantedlyre.png"},action_name:"Play"}]},{type:"teleports",id:"dragontrinkets",name:"Dragon Trinkets",animation_ticks:3,spots:[{id:"green",target:{origin:{x:3303,y:5468,level:0}},name:"Green Dragons",code:"1,1",menu_ticks:4},{id:"brutalgreen",target:{origin:{x:2512,y:3511,level:0}},name:"Brutal Green Dragons",code:"1,2",menu_ticks:4},{id:"blue",target:{origin:{x:2891,y:9769,level:0}},name:"Blue Dragons",code:"2",menu_ticks:3},{id:"red",target:{origin:{x:2731,y:9529,level:0}},name:"Red Dragons",code:"3",menu_ticks:3},{id:"black",target:{origin:{x:1565,y:4356,level:0}},name:"Black Dragons",code:"4,1",menu_ticks:4},{id:"kbd",target:{origin:{x:3051,y:3519,level:0}},name:"King Black Dragon",code:"4,2",menu_ticks:4},{id:"qbd",target:{origin:{x:1198,y:6499,level:0}},name:"Queen Black Dragon",code:"4,2",menu_ticks:4}],access:[{id:"trinkets",type:"item",name:{name:"Dragon trinkets",kind:"item"},img:{url:"dragontrinkets.png"},action_name:"Teleport"}]},{type:"teleports",id:"metallicdragontrinkets",name:"Metallic Dragon Trinkets",animation_ticks:3,spots:[{id:"bronze",target:{origin:{x:2723,y:9486,level:0}},name:"Bronze Dragons",code:"1",menu_ticks:3},{id:"iron",target:{origin:{x:2694,y:9443,level:0}},name:"Iron Dragons",code:"2",menu_ticks:3},{id:"steel",target:{origin:{x:2708,y:9468,level:0}},name:"Steel Dragons",code:"3",menu_ticks:3},{id:"mithril",target:{origin:{x:1778,y:5346,level:0}},name:"Mithril Dragons",code:"4",menu_ticks:3},{id:"adamant",target:{origin:{x:4516,y:6046,level:0}},name:"Adamant Dragons",code:"5,1",menu_ticks:4},{id:"rune",target:{origin:{x:2367,y:3358,level:0}},name:"Rune Dragons",code:"5,2",menu_ticks:4}],access:[{id:"trinkets",type:"item",name:{name:"Metallic dragon trinkets",kind:"item"},img:{url:"metallicdragontrinkets.png"},action_name:"Teleport"}]},{type:"teleports",id:"amuletofnature",name:"Amulet of Nature",menu_ticks:1,animation_ticks:4,spots:[{id:"draynornightshade",target:{origin:{x:3084,y:3353,level:0},size:{x:4,y:4},data:"j+g="},name:"Nightshade Patch"},{id:"herblorehabitat",target:{origin:{x:2946,y:2904,level:0},size:{x:4,y:4},data:"nPk="},name:"Vine Bush Patch"},{id:"faladortree",target:{origin:{x:3002,y:3371,level:0},size:{x:5,y:5},data:"P8b4AQ=="},name:"Falador Tree Patch"},{id:"harmonyallotment",target:{origin:{x:3795,y:2833,level:0},size:{x:1,y:6}},name:"Harmony Island Allotment Patch"}],access:[{id:"cape",type:"item",action_name:"Teleport",img:{url:"amuletofnature.png"},name:{kind:"item",name:"Amulet of nature"},menu_ticks:1}]},{type:"teleports",id:"grandseedpod",name:"Grand seed pod",menu_ticks:1,animation_ticks:4,spots:[{id:"grandtree",target:{origin:{x:2465,y:3495,level:0}},name:"Grand Tree"}],access:[{type:"item",id:"pod",name:{name:"Grand seed pod",kind:"item"},img:{url:"Grand_seed_pod.png"},action_name:"Squash"}]},{type:"teleports",id:"sandseed",name:"Mystical sand seed",menu_ticks:1,animation_ticks:7,spots:[{id:"garden",target:{origin:{x:3320,y:3307,level:0}},name:"Garden of Kharid"}],access:[{type:"item",id:"seed",name:{name:"Mystical sand seed",kind:"item"},img:{url:"Mystical_sand_seed.png"},action_name:"Plant"}]},{type:"teleports",id:"passingbracelet",name:"Passing bracelet",menu_ticks:1,animation_ticks:4,spots:[{id:"gardens",target:{origin:{x:1169,y:1787,level:1}},name:"City of Um: Hanging Gardens",code:"1",facing:rr.south},{id:"haunt",target:{origin:{x:1164,y:1838,level:1}},name:"City of Um: Haunt on the Hill",code:"2",facing:rr.north},{id:"reflection",target:{origin:{x:1134,y:1723,level:1}},name:"City of Um: Reflection Pool",code:"3",facing:rr.north}],access:[{type:"item",id:"bracelet",name:{name:"Passing bracelet",kind:"item"},img:{url:"Passing_bracelet.png"},action_name:"Rub"}]},{type:"teleports",id:"tomeofum",name:"Tome of Um",menu_ticks:1,animation_ticks:4,spots:[{id:"smithy",target:{origin:{x:1145,y:1805,level:1},size:{x:5,y:5},data:"//v/AA=="},name:"Um Smithy",code:"1,1"},{id:"ritualsite",target:{origin:{x:1038,y:1760,level:1}},name:"Um Ritual Site",code:"1,2"}],access:[{type:"item",id:"tome",name:{name:"Tome of Um",kind:"item"},img:{url:"Tome_of_Um_2.webp"},action_name:"Operate"}]},{type:"teleports",id:"camulet",name:"Camulet",menu_ticks:1,animation_ticks:3,spots:[{id:"temple",target:{origin:{x:3194,y:2926,level:0}},name:"Enakhra's Temple"}],access:[{id:"amulet",type:"item",name:{name:"Camulet",kind:"item"},img:{url:"Camulet.png"},action_name:"Rub"}]}];var Hr,Wr,Kr;!function(e){let t,i,n;!function(e){var t=ar.activate;let i,n;!function(e){e.isAnywhere=function(e){return"item"==e.type||"spellbook"==e.type}}(i=e.TeleportAccess||(e.TeleportAccess={})),function(e){e.combinePrioritized=function(...e){return e.reduce(((e,t)=>{var i,n,r,o;return{img:null!==(i=null==e?void 0:e.img)&&void 0!==i?i:null==t?void 0:t.img,menu_ticks:null!==(n=null==e?void 0:e.menu_ticks)&&void 0!==n?n:null==t?void 0:t.menu_ticks,animation_ticks:null!==(r=null==e?void 0:e.animation_ticks)&&void 0!==r?r:null==t?void 0:t.animation_ticks,code:null!==(o=null==e?void 0:e.code)&&void 0!==o?o:null==t?void 0:t.code}}),{})}}(n=e.TeleportProps||(e.TeleportProps={})),e.canBeAccessedAnywhere=function(e){return e.access.some(i.isAnywhere)},e.Spot=class{constructor(e,t,i,r){var o;this.group=e,this.spot=t,this.access=i,this.settings=r;const s="item"==this.access.type&&this.access.can_be_in_pota?this.settings.potas.find((e=>e.active&&e.slots.includes(this.group.id))):null;this.props=n.combinePrioritized(null===(o=null==i?void 0:i.per_spot_props)||void 0===o?void 0:o[t.id],i,t,e,{animation_ticks:0,menu_ticks:0,code:"",img:{url:"homeport.png"}}),s&&(this.pota_slot={img:{url:`pota_${s.color}.png`},code_prefix:`${s.slots.indexOf(e.id)+1},`})}hover(){return this.group.name&&this.spot.name?`${this.group.name} - ${this.spot.name}`:this.group.name||this.spot.name}image(){return this.props.img}code(){var e,t;let i=this.props.code;if("fairyring"==this.group.id){const e=this.settings.fairy_ring_favourites.indexOf(this.spot.code);e>0&&(i=((e+1)%10).toString())}return(null!==(t=null===(e=this.pota_slot)||void 0===e?void 0:e.code_prefix)&&void 0!==t?t:"")+i}centerOfTarget(){return t(this.spot.target).center()}targetArea(){return this.spot.target}id(){return{group:this.group.id,spot:this.spot.id}}}}(t=e.TeleportGroup||(e.TeleportGroup={})),function(e){var t=ar.activate;e.findApplicable=function(e,i){return e.movement.find((e=>!e.valid_from||t(e.valid_from).query(i)))}}(i=e.EntityAction||(e.EntityAction={})),function(e){let t;e.default_interactive_area=function(e){const t=p.extend(e,1);let i=ar.activate(ar.fromRect(t,!0));return i.set(p.tl(t),!1),i.set(p.tr(t),!1),i.set(p.bl(t),!1),i.set(p.br(t),!1),i.save(),i.parent},e.isLocal=function(e){return"door"==e.type||!e.actions.some((e=>e.movement.some((e=>!t.isLocal(e)))))},function(e){e.isLocal=function(e){return!(e.fixed_target&&!e.fixed_target.relative)}}(t=e.Movement||(e.Movement={}))}(n=e.EntityTransportation||(e.EntityTransportation={})),e.normalize=function(e){if("entity"==e.type)return e;const t=rr.toVector(e.direction),i=d.move(e.position,t);return{type:"entity",source_loc:e.source_loc,entity:{kind:"static",name:e.name},clickable_area:p.extend(p.from(d.move(e.position,l.scale(.5,t))),.5),actions:[{cursor:"open",interactive_area:ar.fromRect(p.from(e.position,i),!0),name:"Pass",movement:[{time:1,offset:{...t,level:0},valid_from:{origin:e.position}},{time:1,offset:{...rr.toVector(rr.invert(e.direction)),level:0},valid_from:{origin:i}}]}]}},e.bounds=function(e){switch(e.type){case"entity":return p.lift(h.combine(e.clickable_area),e.clickable_area.level);case"door":return p.from(e.position,d.move(e.position,rr.toVector(e.direction)))}},e.position=function(e){switch(e.type){case"entity":return p.center(e.clickable_area);case"door":return d.move(e.position,l.scale(.5,rr.toVector(e.direction)))}},e.name=function(e){switch(e.type){case"entity":return e.entity.name;case"door":return e.name}},e.transform=function(e,t){switch(e.type){case"door":return{type:"door",name:e.name,position:d.transform(e.position,t),direction:rr.transform(e.direction,t.matrix)};case"entity":return{type:"entity",entity:e.entity,clickable_area:p.transform(e.clickable_area,t),actions:e.actions.map((e=>({cursor:e.cursor,interactive_area:e.interactive_area?ar.transform(e.interactive_area,t):void 0,name:e.name,movement:e.movement.map((e=>({time:e.time,valid_from:e.valid_from?ar.transform(e.valid_from,t):void 0,offset:e.offset?{...l.snap(l.transform(e.offset,t.matrix)),level:e.offset.level}:void 0,fixed_target:e.fixed_target?e.fixed_target.relative?{target:ar.transform(ar.normalize(e.fixed_target.target),t),relative:!0}:e.fixed_target:void 0,orientation:e.orientation,forced_orientation:e.forced_orientation?e.forced_orientation.relative?{dir:rr.transform(e.forced_orientation.dir,t.matrix),relative:!0}:e.forced_orientation:void 0})))})))}}}}(Hr||(Hr={}));class Gr{constructor(){this.app=null}static instance(){return Gr._instance||(Gr._instance=new Gr),Gr._instance}}function Qr(){return Gr.instance()}function Yr(e,t,i=16,n=void 0){return s.marker(l.toLatLong(e),{icon:s.icon({iconUrl:{red:"assets/icons/redclick.png",yellow:"assets/icons/yellowclick.png"}[t],iconSize:[i,i],iconAnchor:[i/2,i/2],className:n?`no-antialiasing ${n}`:"no-antialiasing"}),interactive:!1})}Gr._instance=null,function(e){var t=Hr.TeleportGroup;const i={};async function n(){return i.cache_extracted||(i.cache_extracted=await(await fetch("map/cache_transportation.json",{cache:"no-store"})).json()),i.cache_extracted}e.teleports=Vr,e.getCacheTransports=n,e.getAll=async function(){return i.all_transports||(i.all_transports=[].concat(await n(),e.teleports)),i.all_transports};let r=null;e.getAllTeleportSpots=function(i=Gr.instance().app.teleport_settings){return r||(r=e.teleports.filter(t.canBeAccessedAnywhere).flatMap((e=>e.spots.map((t=>new Hr.TeleportGroup.Spot(e,t,e.access[0],i)))))),r},e.resolveTeleport=function(t,i=Gr.instance().app.teleport_settings){var n,r;const o=e.teleports.find((e=>e.id==t.group)),s=null===(n=null==o?void 0:o.spots)||void 0===n?void 0:n.find((e=>e.id==t.spot)),a=t.access?null===(r=null==o?void 0:o.access)||void 0===r?void 0:r.find((e=>e.id==t.access)):null==o?void 0:o.access[0];if(o&&s&&a)return new Hr.TeleportGroup.Spot(o,s,a,i)}}(Wr||(Wr={})),function(e){var t=Wr.resolveTeleport;function i(e,t=""){return`<img class='text-icon' src='${e}' title="${t}">`}let n;function r(e){switch(e){case"surge":return"assets/icons/surge.png";case"escape":return"assets/icons/escape.png";case"barge":return"assets/icons/barge.png";case"dive":return"assets/icons/dive.png"}}e.text_icon=i,function(e){e.asSpan=function(e){return`<span style="position: relative" title="${e.hover()}">${i(`assets/icons/teleports/${e.image().url}`,e.hover())}<div class="tele-icon-code-overlay">${e.code()?e.code():""}</div></span>`}}(n=e.Teleport||(e.Teleport={})),e.ability_icon=r,e.asSpan=function(n){switch(n.type){case"orientation":return i("assets/icons/compass.png")+rr.toShortString(n.direction);case"ability":return i(r(n.ability));case"run":return i("assets/icons/run.png")+(n.waypoints.length-1);case"teleport":let o=t(n.id);return o?e.Teleport.asSpan(o):i("assets/teleports/homeport.png");case"transport":return i(Ur.meta(n.internal.actions[0].cursor).icon_url);case"redclick":return i("assets/icons/redclick.png");case"powerburst":return i("assets/icons/accel.png");case"cheat":return i("assets/icons/Rotten_potato.png")}}}(Kr||(Kr={}));const Jr=3.1415;function Xr(e,t){let i=l.sub(e,t);if(l.lengthSquared(i)<1)return s.polyline([]);let n=l.scale(.7,l.rotate(l.normalize(i),Jr/4)),r=l.scale(.7,l.rotate(l.normalize(i),-Jr/4)),o=l.toLatLong(t);return s.polyline([[l.toLatLong(e),l.toLatLong(t)],[o,l.toLatLong(l.add(t,n))],[o,l.toLatLong(l.add(t,r))]]).setStyle({interactive:!0})}var $r;!function(e){e.templateString=function(e){switch(e.type){case"orientation":return`Face ${rr.toString(e.direction)}`;case"run":return"{{icon run}}";case"ability":return`{{${e.ability}}}`;case"teleport":return`{{teleport ${e.id.group} ${e.id.spot}}}`;case"powerburst":return"{{icon accel}}";case"redclick":return`{{icon ${Ur.meta(e.how).short_icon}}}`;case"transport":return`{{icon ${Ur.meta(e.internal.actions[0].cursor).short_icon}}}`;case"cheat":return"{{icon Rotten_potato}}"}},e.getIcon=function(e){switch(e.type){case"orientation":return c("<img class='text-icon' src='assets/icons/compass.png'>");case"run":return c("<img class='text-icon' src='assets/icons/run.png'>");case"ability":switch(e.ability){case"surge":return c("<img class='text-icon' src='assets/icons/surge.png'>");case"escape":return c("<img class='text-icon' src='assets/icons/escape.png'>");case"barge":return c("<img class='text-icon' src='assets/icons/barge.png'>");case"dive":return c("<img class='text-icon' src='assets/icons/dive.png'>")}break;case"teleport":return c("<img class='text-icon' src='assets/icons/teleports/homeport.png'>");case"redclick":return c("<img class='text-icon' src='assets/icons/redclick.png'>");case"powerburst":return c("<img class='text-icon' src='assets/icons/accel.png'>");case"cheat":return c("<img class='text-icon' src='assets/icons/Rotten_potato.png'>")}}}($r||($r={}));class eo{constructor(){this.handler_pool=new Me,this._subBehaviours=[],this.started=we(),this.stopped=we(),this._started=!1,this._starting=!1}withSub(e){return this._subBehaviours.push(e),this._started&&e.start(),e}start(){return this._started||(this._started=!0,this._starting=!0,this.begin(),this._starting=!1,this._started&&this.started.trigger(null),this._subBehaviours.forEach((e=>e.start()))),this}stop(){this._subBehaviours.forEach((e=>e.stop())),this.handler_pool.kill(),this._started&&(this._started=!1,this.end(),this._starting||this.stopped.trigger(null))}isActive(){return this._started}onStop(e){return this.stopped.on(e),this}}class to extends eo{constructor(){super(...arguments),this.behaviour=Ae(null),this.content_stopped=we()}begin(){this.behaviour.value()&&this.behaviour.value().start()}end(){this.behaviour.value()&&this.behaviour.value().stop()}get(){return this.behaviour.value()}set(e){return this.behaviour.value()&&(this.behaviour.value().isActive()&&this.behaviour.value().stop(),this.behaviour.set(null)),e&&(this.behaviour.set(e),e.stopped.on((()=>this.content_stopped.trigger(e))),this.isActive()&&e.start()),this}}var io,no,ro=xe.spacer,oo=ve.observe_combined;class so extends ge{constructor(e,t=null){super(c("<div class='ctr-map-control-header'></div>")),this.name=Ae(e),this.close_handler=Ae(t),oo({name:this.name,close_handle:this.close_handler}).subscribe((({name:e,close_handle:t})=>{this.empty(),this.append(c().text(e)).append(ro().css("min-width","20px")),t&&this.append(c("<div class='ctr-map-control-header-close'>&times;</div>").tooltip("Close (Esc)").tapRaw((e=>e.on("click",(()=>t())))))}),!0)}}class ao extends ge{constructor(e,t=null){super(),this.header=new so(e,t).appendTo(this),this.body=c("<div class='ctr-map-control-body'></div>").appendTo(this)}setContent(e){return this.body.empty().append(e),this}}class lo extends Pr{constructor(e={}){super({type:"gapless",position:"top-center"},new ao(`Active interaction: ${e.name||"Interaction"}`,e.cancel_handler)),this._config=e,this.header_row=null,this.body=null,this.content.addClass("ctr-interaction-control"),this.header_row=c("<div class='ctr-interaction-control-header'></div>").appendTo(this.content)}setCancelHandler(e){return this._config.cancel_handler=e,this.content.header.close_handler.set(e),this}setName(e){return this.content.header.name.set(e),this}setContent(e){return this.body&&(this.body.remove(),this.body=null),e&&(e.appendTo(this.content),this.body=e),this}setText(e){return this.setContent(c().text(e))}eventKeyDown(e){this._config.cancel_handler&&e.onPre((()=>{"Escape"==e.original.key&&(e.stopAllPropagation(),this._config.cancel_handler())}))}}class co{constructor(){this.interaction=null,this.default_layer=null}setDefaultLayer(e){return this.default_layer=e,this}set(e,t=null){return this.reset(),e&&(e._guard&&e._guard.reset(),this.interaction=e,e._guard=this,e.addTo(t||this.default_layer)),e}reset(){return this.interaction&&(this.interaction._guard=null,this.interaction.cancel()),this.interaction=null,this}}class ho extends xr{constructor(){super(...arguments),this._guard=null,this.started=we(),this.ended=we()}onAdd(e){return super.onAdd(e),this.started.trigger(this),this.getMap().container.focus(),this}attachTopControl(e){return e.setCancelHandler((()=>this.cancel())).addTo(this),this}cancel(){this._guard&&this._guard.reset(),this.remove(),this.ended.trigger(this)}onEnd(e){return this.ended.on(e),this}onStart(e){return this.started.on(e),this}}class uo extends ho{constructor(e={}){super(),this.config=e,this._preview=null,this.value=Ae({value:null,committed:!1}),e.preview_render&&this.onPreview((e=>{var t;this._preview&&this._preview.remove(),null!=e&&(this._preview=null===(t=this.config.preview_render(e))||void 0===t?void 0:t.addTo(this))}))}cancel(){this.value.value().committed||this.value.set({value:null,committed:!0}),super.cancel()}commit(e){this.value.set({value:e,committed:!0}),this.cancel()}preview(e){return this.value.set({value:e,committed:!1}),this}onChange(e){return this.value.subscribe(e),this}onPreview(e){return this.value.subscribe((t=>{t.committed||e(t.value)})),this}onCommit(e){return this.value.subscribe((t=>{t.committed&&t.value&&e(t.value)})),this}onDiscarded(e){return this.value.subscribe((t=>{t.committed&&!t.value&&e()})),this}}!function(e){function t(e,t=[]){return{type:"inner",value:e,children:t}}function i(e){return{type:"leaf",value:e}}function n(e,t){let i=[e];for(let n of t){if("inner"!=e.type)break;e=e.children[n],i.push(e)}return i}e.init=function(e){return t(e,[])},e.inner=t,e.leaf=i,e.leafs=function(e){return e.map(i)},e.add=function(e,t){return e.children.push(t),t},e.index=function(e,t){return We.index(n(e,t),-1)},e.map=function e(t,n){return"leaf"==t.type?i(n(t.value)):{type:"inner",value:t.value,children:t.children.map((t=>e(t,n)))}},e.forLeafs=function e(t,i){"leaf"==t.type?i(t.value):t.children.forEach((t=>e(t,i)))},e.fixIndex=function(e,t){let i=[],n=0,r=e;for(;;){if("inner"!=(null==r?void 0:r.type))return i;{let e=n<t.length?t[n]:0;i.push(e),r=r.children[e]}n++}},e.getPath=n}(io||(io={})),function(e){var t=Wr.resolveTeleport,i=We.index,n=We.minIndex,r=sr.cooldown,o=We.capitalize,s=Hr.EntityTransportation.default_interactive_area,a=ar.activate;let c,u,g,f;function y(e){var n;for(let r=e.length-1;r>=0;r--){let o=e[r];switch(o.type){case"cheat":return o.target;case"ability":return o.to;case"run":return i(o.waypoints,-1);case"teleport":return o.spot?o.spot:t(o.id,Gr.instance().app.teleport_settings).centerOfTarget();case"transport":let e=o.assumed_start,r=o.internal.actions[0];const s=null!==(n=Hr.EntityAction.findApplicable(r,e))&&void 0!==n?n:r.movement[0];if(s.offset){let t=d.move(e,s.offset);return t.level+=s.offset.level,t}if(s.fixed_target)return a(ar.normalize(s.fixed_target.target)).center()}}return null}!function(e){function t(e,t){return Math.max(0,Math.min(...t)-e.tick)}e.start=function(e){return{tick:0,cooldowns:{escape:e.double_escape?[0,0]:[0],surge:e.double_surge?[0,0]:[0],barge:0,dive:0},acceleration_activation_tick:-1e3,position:{tile:null,direction:null},targeted_entity:null,assumptions:e}},e.surge_cooldown=function(e){return t(e,e.cooldowns.surge)},e.escape_cooldown=function(e){return t(e,e.cooldowns.escape)},e.barge_cooldown=function(e){return t(e,[e.cooldowns.barge])},e.dive_cooldown=function(e){return t(e,[e.cooldowns.dive])}}(c=e.movement_state||(e.movement_state={})),function(t){function i(t){const i=h.combine(e.Step.bounds(t.raw),h.from(t.pre_state.position.tile,t.post_state.position.tile));return i?p.lift(i,e.Step.level(t.raw)):null}t.step_bounds=i,t.bounds=function(e){return h.combine(...e.steps.map(i))},t.getState=function(e,t){return t>=e.steps.length?e.post_state:t<0?e.pre_state:(e.steps[t],e.steps[t].pre_state)}}(u=e.augmented||(e.augmented={})),e.ends_up=y,e.endsUpArea=function(e){var n;for(let r=e.length-1;r>=0;r--){let o=e[r];switch(o.type){case"cheat":return ar.init(o.target);case"ability":return ar.init(o.to);case"run":return ar.init(i(o.waypoints,-1));case"teleport":return t(o.id,Gr.instance().app.teleport_settings).targetArea();case"transport":let e=o.assumed_start,r=o.internal.actions[0];const s=null!==(n=Hr.EntityAction.findApplicable(r,e))&&void 0!==n?n:r.movement[0];if(s.offset){let t=d.move(e,s.offset);return t.level+=s.offset.level,ar.init(t)}if(s.fixed_target)return ar.normalize(s.fixed_target.target)}}return null},e.augment=async function(e,o=c.start({}),h=null){var u;let g=[];o||(o=c.start({}));let f=m.cloneDeep(o);f.position||(f.position={tile:null,direction:null});for(let o=0;o<e.length;o++){let c=e[o],h={pre_state:m.cloneDeep(f),post_state:null,issues:[],section:0,raw:c};switch(c.type){case"cheat":f.position.tile=c.target,c.orientation&&(f.position.direction=c.orientation),f.tick+=c.ticks;break;case"orientation":o>0&&h.issues.push({level:0,message:"Orientation steps should only be used as the first step!"}),f.tick+=1,f.targeted_entity=null,f.position.direction=c.direction;break;case"run":f.position.tile&&!d.eq(f.position.tile,c.waypoints[0])&&h.issues.push({level:0,message:"Running does not start where the previous step ends!"}),f.position={tile:i(c.waypoints,-1),direction:rr.fromVector(f.targeted_entity?l.sub(f.targeted_entity,i(c.waypoints,-1)):l.sub(i(c.waypoints,-1),i(c.waypoints,-2)))},f.tick+=Math.ceil(or.pathLength(c.waypoints)/2),f.targeted_entity=null;break;case"ability":if(f.position)if(f.position.tile&&!d.eq(f.position.tile,c.from))h.issues.push({level:0,message:"Ability does not start where the previous step ends!"});else{let e=f.position;switch(e.tile||(e.tile=c.from),null==e.direction&&(e.direction=rr.fromVector(l.sub(c.to,c.from)),"escape"==c.ability&&(e.direction=rr.invert(e.direction))),c.ability){case"surge":{let t=await sr.surge(e);t&&d.eq(c.to,t.tile)||h.issues.push({level:0,message:"Surge target does not match where it would end up!"});break}case"escape":{let t=await sr.escape(e);t&&d.eq(c.to,t.tile)||h.issues.push({level:0,message:"Escape target does not match where it would end up!"});break}case"dive":{let t=await sr.dive(e.tile,c.to);t&&d.eq(c.to,t.tile)||h.issues.push({level:0,message:"Dive target can't be reached!"});break}case"barge":{let t=await sr.barge(e.tile,c.to);t&&d.eq(c.to,t.tile)||h.issues.push({level:0,message:"Barge target can't be reached!"});break}}}const u=()=>f.tick-f.acceleration_activation_tick<=10;switch(c.ability){case"surge":{let e=n(f.cooldowns.surge),t=f.cooldowns.surge[e]-f.tick;t>0&&(f.assumptions.double_surge&&t<=2&&f.cooldowns.surge[1-e]>=r("surge",u(),f.assumptions.mobile_perk)-2?h.issues.push({level:1,message:`Antispam delay. Delaying for ${t} ticks.`}):h.issues.push({level:t>=4?0:1,message:`All surge charges are still on cooldown for ${t} ticks!`}),f.tick=f.cooldowns.surge[e]),f.cooldowns.surge[e]=f.tick+r("surge",u(),f.assumptions.mobile_perk);for(let e=0;e<f.cooldowns.surge.length;e++)f.cooldowns.surge[e]=Math.max(f.tick+(u()?1:2),f.cooldowns.surge[e]);f.cooldowns.escape.fill(f.tick+r("escape",u(),f.assumptions.mobile_perk));break}case"escape":{let e=n(f.cooldowns.escape),t=f.cooldowns.escape[e]-f.tick;t>0&&(f.assumptions.double_escape&&t<=2&&f.cooldowns.escape[1-e]>=r("escape",u(),f.assumptions.mobile_perk)-2?h.issues.push({level:1,message:`Antispam delay. Delaying for ${t} ticks.`}):h.issues.push({level:t>=4?0:1,message:`All escape charges are still on cooldown for ${t} ticks!`}),f.tick=f.cooldowns.escape[e]),f.cooldowns.escape[e]=f.tick+r("escape",u(),f.assumptions.mobile_perk);for(let e=0;e<f.cooldowns.escape.length;e++)f.cooldowns.escape[e]=Math.max(f.tick+2,f.cooldowns.escape[e]);f.cooldowns.surge.fill(f.tick+r("surge",u(),f.assumptions.mobile_perk));break}case"dive":{let e=f.cooldowns.dive-f.tick;e>0&&(h.issues.push({level:e>=4?0:1,message:`Dive is still on cooldown for ${e} ticks!`}),f.tick=f.cooldowns.dive),f.cooldowns.dive=f.tick+r("dive",u(),f.assumptions.mobile_perk);break}case"barge":{let e=f.cooldowns.barge-f.tick;e>0&&(h.issues.push({level:e>=4?0:1,message:`Barge is still on cooldown for ${e} ticks!`}),f.tick=f.cooldowns.barge),f.cooldowns.barge=f.tick+r("barge",u(),f.assumptions.mobile_perk);break}}switch(f.position={tile:c.to,direction:rr.fromVector(l.sub(c.to,c.from))},"escape"==c.ability&&(f.position.direction=rr.invert(f.position.direction)),c.ability){case"surge":case"dive":case"escape":break;case"barge":f.tick+=1}f.targeted_entity=null;break;case"teleport":let g=t(c.id);a(g.targetArea()).query(c.spot)||h.issues.push({level:0,message:"Teleport destination tile is outside of the teleport area."}),c.spot?f.position.tile=c.spot:f.position.tile=g.centerOfTarget(),null!=g.spot.facing&&(f.position.direction=g.spot.facing),f.tick+=g.props.menu_ticks,f.tick+=g.props.animation_ticks,f.targeted_entity=null;break;case"transport":let m=c.internal,y=m.actions[0];!f.position.tile||a(y.interactive_area||s(m.clickable_area)).query(f.position.tile)||h.issues.push({level:0,message:"Player is not in the interactive area for this shortcut!"}),f.position.tile&&!d.eq2(f.position.tile,c.assumed_start)&&h.issues.push({level:0,message:"Ability does not start where the previous step ends!"});let v=c.assumed_start,_=Hr.EntityAction.findApplicable(y,v);switch(_||(h.issues.push({level:0,message:"No applicable movement option from this tile"}),_=y.movement[0]),_.offset?(f.position.tile=d.move(v,_.offset),f.position.tile.level+=_.offset.level):_.fixed_target&&(f.position.tile=a(ar.normalize(_.fixed_target.target)).center()),_.orientation||"bymovement"){case"bymovement":f.position.direction=rr.fromVector(l.sub(f.position.tile,v));break;case"forced":f.position.direction=_.forced_orientation.dir;break;case"toentitybefore":f.position.direction=rr.fromVector(l.sub(p.center(m.clickable_area),v));break;case"toentityafter":f.position.direction=rr.fromVector(l.sub(p.center(m.clickable_area),f.position.tile))}f.tick+=_.time;break;case"redclick":let x=e[o+1];"run"!=(null==x?void 0:x.type)?h.issues.push({level:0,message:"Redclicking is not followed by a run"}):x&&rr.fromVector(l.sub(i(x.waypoints,-1),i(x.waypoints,-2)))==rr.fromVector(l.sub(c.where,i(x.waypoints,-1)))&&h.issues.push({level:1,message:"Redclicking orientation is the same as natural orientation."}),f.targeted_entity=c.where;break;case"powerburst":f.position.tile&&!d.eq(f.position.tile,c.where)&&(h.issues.push({level:0,message:"Position of powerburst does not match where the player is at that point."}),f.position.tile=c.where),f.tick-f.acceleration_activation_tick<120&&(h.issues.push({level:1,message:`Powerburst of acceleration still on cooldown for ${f.acceleration_activation_tick+120-f.tick} ticks!`}),f.tick=f.acceleration_activation_tick+120),f.cooldowns.surge=f.assumptions.double_surge?[f.tick,f.tick]:[f.tick],f.cooldowns.escape=f.assumptions.double_surge?[f.tick,f.tick]:[f.tick],f.cooldowns.dive=f.tick,f.acceleration_activation_tick=f.tick}h.post_state=m.cloneDeep(f),g.push(h)}let y=(null===(u=i(g,-1))||void 0===u?void 0:u.post_state)||o,v=[];return!h||f.position.tile&&h.query(f.position.tile)||v.push({level:0,message:"Path does not end in target area"}),{pre_state:o,post_state:y,raw:e,steps:g,issues:v,target:h}},e.title=function(e){switch(e.type){case"orientation":return`Face ${rr.toString(e.direction)}`;case"ability":return`${o(e.ability)}`;case"run":return`Run ${or.pathLength(e.waypoints)} tiles`;case"teleport":return"Teleport";case"transport":return"Use entity";case"redclick":return"Redclick";case"powerburst":return"Use Powerburst";case"cheat":return"Custom Movement"}return"MISSING"},e.collect_issues=function(e){let t=[];for(let i of e.steps)for(let e of i.issues)t.push({...e,step:i});return t=t.concat(e.issues.map((t=>({...t,path:e})))),t},e.export_path=function(e){return Zr.exp({type:"path",version:1},!0,!0)(e)},e.import_path=function(e){return Zr.imp({expected_type:"path",expected_version:1,migrations:[{from:0,to:1,f:e=>e.steps}]})(e)},e.bounds=function(e){return h.combine(...e.map(g.bounds))},function(i){i.bounds=function(i){switch(i.type){case"ability":return h.from(i.from,i.to);case"run":return h.from(...i.waypoints);case"teleport":return i.spot?h.from(i.spot):h.from(t(i.id).centerOfTarget());case"redclick":case"powerburst":return h.from(i.where);case"cheat":return h.from(i.target);case"transport":let n=i.internal.clickable_area;return n=h.extendTo(n,i.assumed_start),n=h.extendTo(n,e.ends_up([i])),n;case"orientation":return h.from({x:0,y:0});default:return null}},i.level=function(e){switch(e.type){case"orientation":return 0;case"ability":return e.to.level;case"run":return e.waypoints[0].level;case"teleport":return t(e.id).centerOfTarget().level;case"redclick":case"powerburst":return e.where.level;case"transport":return e.internal.clickable_area.level;case"cheat":return e.target.level}},i.name=function(e){return"ability"===e.type?m.capitalize(e.ability):m.capitalize(e.type.toUpperCase())}}(g=e.Step||(e.Step={})),function(e){e.split_into_sections=function(e,t="root"){let n=[];const r=e=>{e>0&&(0==n.length||i(n,-1)!=e)&&n.push(e)};let o=null;for(let t=0;t<e.length;t++){let i=e[t],n=y([i]);"teleport"==i.type?t>=1&&"orientation"==e[t-1].type?r(t-1):r(t):"transport"==i.type&&o&&(l.max_axis(l.sub(n,o))>64||o.level!=n.level)&&r(t+1),o=n}r(e.length);let s=io.init({name:t});return n.forEach(((t,i)=>{let r=io.add(s,io.inner({name:`Section ${i+1}`})),o=0==i?0:n[i-1];r.children=io.leafs(e.slice(o,t))})),s}}(f=e.Section||(e.Section={}))}(no||(no={}));class po extends ge{constructor(){super(),this.addClass("nisl-properties")}header(e){return c("<div class='nisl-property-header nisl-property-row'></div>").append(e).appendTo(this),this}row(e){return c("<div class='nisl-property-row'></div>").append(e).appendTo(this),this}named(e,t){return c("<div class='nisl-property-name'>").append(e).appendTo(this),c("<div class='nisl-property-content'></div>").append(t).appendTo(this),this}}var go=xe.entity,mo=xe.staticentity,fo=xe.inlineimg,yo=xe.bold;class vo extends po{constructor(e,t){super(),this.step=e,this.template_resolver=t,this.render()}info(e){return this.row(c().addClass("ctr-step-properties-explanation").append(fo("assets/icons/info.png")," ",e))}render(){switch(this.step.type){case"orientation":this.header(c().append("Manually face ",yo(rr.toString(this.step.direction)))),this.info("Manual orientation is useful when you want to surge directly after teleporting.");break;case"redclick":this.header(c().append(fo(Ur.meta(this.step.how).icon_url)," Target ",mo("Entity"))),this.info("Targeting an entity (sometimes referred to as 'redclicking') and then clicking a tile to run somewhere causes your character to turn towards that entity when arriving at that tile. This is useful to line up surges that would otherwise not be possible or require additional walking.");break;case"powerburst":this.header(c().append("Drink ",go({kind:"item",name:"Powerburst of Acceleration"})));break;case"transport":let e=this.step.internal,t=e.actions[0];this.header(c().append(fo(Ur.meta(this.step.internal.actions[0].cursor).icon_url)," ",t.name," ",go(e.entity)));break;case"run":this.header(c().append("Run ",this.step.to_text?this.step.to_text:`${or.pathLength(this.step.waypoints)} tiles`));break;default:this.header(vo.header_text(this.step))}this.step.description&&(this.header("Additional Info"),this.row(c().setInnerHtml(this.template_resolver.resolve(this.step.description))))}}!function(e){e.header_text=function(e){switch(e.type){case"orientation":return"Manual Orientation";case"ability":switch(e.ability){case"surge":return"Surge";case"dive":return"Dive";case"escape":return"Escape";case"barge":return"Barge"}return"";case"run":return"Run";case"teleport":return"Teleport";case"redclick":return"Target Entity";case"powerburst":return"Powerburst";case"transport":return"Use entity";case"cheat":return"Cheat"}}}(vo||(vo={}));var _o=i(9619),xo=xe.vbox,bo=xe.entity;class wo extends De{constructor(e){super(e),this.config=e,this.zoom_sensitivity_layers=De.default_zoom_scale_layers,this.zoom_sensitivity_layers=new Le([{min:-100,value:{scale:.5}},{min:1.5,value:{scale:1}}]),this.floor_sensitivity_layers=new Ie([{floors:[e.teleport.targetArea().origin.level],value:{correct_level:!0}},{floors:g.all,value:{correct_level:!1}}])}bounds(){return ar.toRect(this.config.teleport.targetArea())}async render_implementation(e){const t=this.floor_sensitivity_layers.get(e.floor_group_index),i=e.highlight?1.5:this.zoom_sensitivity_layers.get(e.zoom_group_index).value.scale,n=s.marker(l.toLatLong(this.config.teleport.centerOfTarget()),{icon:new wo.TeleportMapIcon(this.config.teleport,i,(e=>(t.value.correct_level||e.css("filter","grayscale(1) brightness(0.5)"),e))),riseOnHover:!0,interactive:!0,bubblingMouseEvents:!0}).addTo(this);return e.highlight&&vr(this.config.teleport.targetArea()).setStyle({fillColor:"lightgreen",color:"lightgreen",stroke:!0}).addTo(this),n.getElement()}async renderTooltip(){let e=new po;const t=this.config.teleport;return e.header(`${t.group.name} - ${t.spot.name}`),e.named("Time",`${t.props.menu_ticks+t.props.animation_ticks} (${t.props.menu_ticks} menu + ${t.props.animation_ticks} animation)`),e.named("Static",t.spot.target.size?"No":"Yes"),null!=t.spot.facing&&e.named("Orientation",rr.toString(t.spot.facing)),e.named("Access",xo(...t.group.access.map((e=>{switch(e.type){case"spellbook":return xe.div().text(e.name);case"item":case"entity":return c().append(bo(e.name))}})))),{content:e,interactive:!1}}async contextMenu(e){const t=this.config.teleport,i=t.group.access.filter((e=>"entity"==e.type));return i.length>0&&e.addForEntity({type:"submenu",text:"Jump to Access",children:i.map((e=>(_o("entity"==e.type),{type:"basic",text:()=>bo(e.name),handler:()=>{var t,i;null===(i=null===(t=this.parent)||void 0===t?void 0:t.getMap())||void 0===i||i.fitView(ar.toRect(e.clickable_area))}})))}),{type:"submenu",icon:`assets/icons/teleports/${t.image().url}`,text:t.hover(),children:[]}}}!function(e){var t=xe.img,i=xe.div;class n extends s.DivIcon{constructor(e,n=1,r=m.identity){let o=t(`./assets/icons/teleports/${e.image().url}`);o.css2({width:e.image().width?e.image().width+"px":"auto",height:e.image().height?e.image().height+"px":"auto"}),super({iconSize:[0,0],iconAnchor:[0,0],html:r(i(o,e.code()?xe.div().text(e.code()):void 0).css("scale",n.toString()).addClass("ctr-map-teleport-icon")).raw()})}}e.TeleportMapIcon=n,e.accessNameAsWidget=function(e){switch(e.type){case"spellbook":return c().text(e.name);case"item":case"entity":return bo(e.name)}}}(wo||(wo={}));class ko extends De{constructor(e){super(e),this.config=e,this.floor_sensitivity_layers=new Ie([{floors:[no.Step.level(e.step)],value:{correct_level:!0}},{floors:g.all,value:{correct_level:!1}}])}bounds(){return no.Step.bounds(this.config.step)}async render_implementation(e){const t=this.config.step,i=this.floor_sensitivity_layers.get(e.floor_group_index).value.correct_level?"ctr-step-graphics":"ctr-step-graphics-dl",n=(()=>{var n;switch(t.type){case"orientation":return null;case"ability":{const n={barge:{color:"#a97104",icon:"assets/icons/barge.png"},dive:{color:"#e7d82c",icon:"assets/icons/dive.png"},escape:{color:"#56ba0f",icon:"assets/icons/escape.png"},surge:{color:"#0091f2",icon:"assets/icons/surge.png"}};return Xr(t.from,t.to).setStyle({color:n[t.ability].color,weight:e.highlight?6:4,interactive:!0,className:i}).addTo(this),s.marker(l.toLatLong(l.scale(.5,l.add(t.from,t.to))),{icon:s.icon({iconUrl:n[t.ability].icon,iconSize:e.highlight?[36,36]:[24,24],iconAnchor:e.highlight?[18,18]:[12,12],className:i})}).addTo(this).getElement()}case"run":{let n=[];for(let e=0;e<t.waypoints.length-1;e++){const i=t.waypoints[e],r=t.waypoints[e+1];n.push([i,r])}return n=n.filter((e=>!l.eq(e[0],e[1]))),s.polyline(n.map((e=>e.map(l.toLatLong))),{color:"#b4b4b4",weight:e.highlight?6:4,className:i}).addTo(this),Yr(t.waypoints[t.waypoints.length-1],"yellow",e.highlight?30:20,i).addTo(this).getElement()}case"teleport":{let i=Wr.resolveTeleport(t.id,Gr.instance().app.teleport_settings);return s.marker(l.toLatLong(null!==(n=t.spot)&&void 0!==n?n:i.centerOfTarget()),{icon:new wo.TeleportMapIcon(i,e.highlight?1.5:1),riseOnHover:!0}).addTo(this).getElement()}case"redclick":return Yr(t.where,"red",e.highlight?30:20,"ctr-step-graphics").addTo(this),s.marker(l.toLatLong(t.where),{icon:s.icon({iconUrl:Ur.meta(t.how).icon_url,iconSize:e.highlight?[42,48]:[28,31],iconAnchor:e.highlight?[6,2]:[4,1],className:i})}).addTo(this).getElement();case"powerburst":return s.marker(l.toLatLong(t.where),{icon:s.icon({iconUrl:"assets/icons/accel.png",iconSize:e.highlight?[26,36]:[18,24],iconAnchor:e.highlight?[13,18]:[9,12],className:i})}).addTo(this).getElement();case"transport":{let n=t.internal.actions[0],r=no.ends_up([t]);return Xr(t.assumed_start,r).setStyle({color:"#069334",weight:e.highlight?6:4,dashArray:"10, 10",className:i}).addTo(this),s.marker(l.toLatLong(p.center(t.internal.clickable_area)),{icon:s.icon({iconUrl:Ur.meta(n.cursor).icon_url,iconSize:e.highlight?[42,48]:[28,31],iconAnchor:e.highlight?[6,2]:[4,1],className:i})}).addTo(this).getElement()}case"cheat":{const n=t.assumed_start?h.center(h.from(t.assumed_start,t.target),!1):t.target;return t.assumed_start&&Xr(t.assumed_start,t.target).setStyle({color:"#069334",weight:e.highlight?6:4,dashArray:"10, 10",className:i}).addTo(this),s.marker(l.toLatLong(n),{icon:s.icon({iconUrl:"assets/icons/Rotten_potato.png",iconSize:e.highlight?[33,24]:[21,16],iconAnchor:e.highlight?[15,12]:[10,8],className:i})}).addTo(this).getElement()}}})();return this.setStyle({interactive:!0,className:"ctr-step-graphics"}),n}async renderTooltip(){return{content:new vo(this.config.step,Gr.instance().app.template_resolver),interactive:!1}}async contextMenu(e){return{type:"submenu",text:no.Step.name(this.config.step),children:[]}}}!function(e){e.renderPath=function(t){let i=new xr;for(let n of t)new e({highlightable:!0,step:n}).addTo(i);return i}}(ko||(ko={}));class Ao extends ge{constructor(e=null){super(e),this.v=Ae({committed:!1,value:null})}setValue(e){return this.commit(e),this.render(),this}get(){return this.v.value().value}render(){}commit(e,t=!1){this.v.set({value:e,committed:!0}),t&&this.render()}preview(e){return this.v.set({value:e,committed:!1}),this}onChange(e){return this.v.subscribe(e),this}onPreview(e){return this.v.subscribe((t=>{t.committed||e(t.value)})),this}onCommit(e){return this.v.subscribe((t=>{t.committed&&null!=t.value&&e(t.value)})),this}}class To extends Ao{constructor(e="",t="checkbox"){super(),this.label=e,this.enabled=Ae(!0),this.type=Ae(t),this.type.subscribe((e=>{this.new_box.toggleClass("nisl-checkbox-radio","radio"==e)})),this.addClass("nisl-checkbox"),this.new_box=c("<div class='nisl-checkbox-box'>").on("click",(()=>{this.commit(!this.get(),!0)})).appendTo(this.container),c().addClass("nisl-checkbox-checkmark").appendTo(this.new_box),this.new_box.toggleClass("nisl-checkbox-radio","radio"==this.type.value()),this.label&&c().addClass("nisl-checkbox-label").text(this.label).appendTo(this),this.setValue(!1),this.enabled.subscribe((e=>{this.toggleClass("nisl-checkbox-disabled",!e)}))}render(){this.new_box.toggleClass("checked",this.get())}setEnabled(e){return this.enabled.set(e),this}}!function(e){e.Group=class{constructor(e,t=!1){this.buttons=e,this.value=Ae(null),e.forEach((e=>{e.button.type.set("radio"),e.button.onCommit((i=>{i?this.value.set(e.value):i||this.value.value()!=e.value||(t?this.value.set(null):e.button.setValue(!0))}))})),this.value.subscribe((e=>{this.buttons.forEach((t=>{t.button.setValue(t.value==e)}))})),t?this.value.set(null):e[0].button.setValue(!0)}get(){return this.value.value()}setValue(e){return this.value.set(e),this}onChange(e){return this.value.subscribe(e),this}checkboxes(){return this.buttons.map((e=>e.button))}}}(To||(To={}));var Co=sr.possibility_raster,So=ve.observe_combined,Eo=We.eqWithNull;class zo extends s.FeatureGroup{constructor(e,t=[]){super(),this.tile=e,this.surge_escape_for=t,this.render()}async render(){let e=await Co(this.tile,this.surge_escape_for);function t(e){return{fillOpacity:.2,stroke:!1,fillColor:e}}const i=[];for(let n=0;n<e.data.size.x;n++)for(let r=0;r<e.data.size.y;r++){const o=d.move(e.data.origin,{x:n,y:r});if(e.data.query(o))if(this.surge_escape_for.length>0){const n=e.targets.some((e=>l.eq(o,e.surge))),r=e.targets.some((e=>l.eq(o,e.escape)));if(n&&r){const[e,n]=fr(o,[t("#426896"),t("#234709")]);i.push(e,n)}else n?i.push(mr(o,t("#426896"))):r?i.push(mr(o,t("#234709"))):i.push(mr(o,t("#e2c40c")))}else i.push(mr(o,t("#e2c40c")));else i.push(mr(o,t("red")))}i.forEach((e=>e.addTo(this)))}}class Po extends xr{constructor(e){super(),this.active_lens=null,this.enabled1=Ae(!0),this.enabled2=Ae(!0),this.static=Ae(!0),this.render_for_state=Ae(null).equality(Eo(nr.eq)),e.cursor_state.subscribe((e=>{var t;this.static.value()&&this.render_for_state.set(null===(t=null==e?void 0:e.state)||void 0===t?void 0:t.position)}),!0),this.static.subscribe((t=>{var i,n;t&&this.render_for_state.set(null===(n=null===(i=e.cursor_state.value())||void 0===i?void 0:i.state)||void 0===n?void 0:n.position)})),So({enabled1:this.enabled1,enabled2:this.enabled2,state:this.render_for_state}).subscribe((({enabled1:e,enabled2:t,state:i})=>{const n=e&&t&&(null==i?void 0:i.tile);this.render(n?i:void 0)}),!0)}render(e){this.active_lens&&(this.active_lens.remove(),this.active_lens=null),(null==e?void 0:e.tile)&&(this.active_lens=new zo(e.tile,e.direction?[e.direction]:rr.all).addTo(this))}eventHover(e){e.onPre((()=>{this.static.value()||this.render_for_state.set({tile:e.tile(),direction:0})}))}}class Mo extends Pr{constructor(e){super({position:"top-right",type:"floating"},c()),this.lens_layer=new Po(e.value).addTo(this),this.lens_layer.enabled1.set(!1),this.setContent(new ao("Path Tools").append(this.lens_checkbox=new To("Show Ability Lens").onCommit((e=>{this.lens_layer.enabled1.set(e),this.lens_static_checkbox.setEnabled(e),this.lens_dynamic_checkbox.setEnabled(e)})),this.lens_static_checkbox=new To("Static","radio").css("margin-left","10px").setValue(!0).setEnabled(!1),this.lens_dynamic_checkbox=new To("Follow Mouse","radio").css("margin-left","10px").setValue(!1).setEnabled(!1))),new To.Group([{button:this.lens_dynamic_checkbox,value:!1},{button:this.lens_static_checkbox,value:!0}]).onChange((e=>this.lens_layer.static.set(e))).setValue(!0)}}var Lo=ve.observe_combined;class Io extends uo{constructor(e){super({}),this.ability=e,this._possibility_overlay=null,this._preview_arrow=null,this.start_position=Ae(null).equality(d.eq2),this.current_target=Ae(null).equality(((e,t)=>d.eq2(null==e?void 0:e.tile,null==t?void 0:t.tile)&&(null==e?void 0:e.forced)==(null==t?void 0:t.forced))),this.overlay_tile=Ae(null).equality(d.eq2),this.attachTopControl(this.top_control=(new lo).setName(`Drawing ${e}`)),Lo({start:this.start_position,target:this.current_target}).subscribe((({start:e,target:t})=>{this.overlay_tile.set(e||(null==t?void 0:t.tile)),this.updateArrow(e,null==t?void 0:t.tile,null==t?void 0:t.forced)})),this.overlay_tile.subscribe((e=>this.updateDiveOverlay(e))),this.start_position.subscribe((()=>this.updateInstructions()),!0)}updateInstructions(){this.start_position.value()?this.top_control.setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] valid target tile to confirm.")).append(c().text("[Shift + Click] to force any target tile.")).append(c().text("[Backspace] to reset start tile."))):this.top_control.setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] the origin tile of the ability.")))}setStartPosition(e){return this.start_position.set(e),this}async updateDiveOverlay(e){"barge"!=this.ability&&"dive"!=this.ability||(this._possibility_overlay&&(this._possibility_overlay.remove(),this._possibility_overlay=null),null!=e&&(this._possibility_overlay=new zo(e),this._possibility_overlay.addTo(this)))}async updateArrow(e,t,i){let n=await(async()=>{if(!e||!t)return null;if(i)return{from:e,to:t,okay:!0};{let i=await sr.generic(hr.get(),this.ability,e,t);return{from:e,to:(null==i?void 0:i.tile)||t,okay:!!i}}})();if(this._preview_arrow&&(this._preview_arrow.remove(),this._preview_arrow=null),n){let{from:e,to:t,okay:i}=n;this._preview_arrow=(i?new ko({step:{type:"ability",ability:this.ability,from:e,to:t}}):Xr(e,t).setStyle({weight:3,color:"red"})).addTo(this)}}eventClick(e){e.onPost((async()=>{e.stopAllPropagation();let t=e.tile();if(this.start_position.value())if(e.original.shiftKey)this.commit({type:"ability",ability:this.ability,from:this.start_position.value(),to:t});else{let e=await sr.generic(hr.get(),this.ability,this.start_position.value(),t);e&&this.commit({type:"ability",ability:this.ability,from:this.start_position.value(),to:e.tile})}else this.start_position.set(t)}))}eventHover(e){this.current_target.set({tile:e.tile(),forced:e.original.shiftKey})}eventKeyDown(e){e.onPre((()=>{null!=this.start_position.value()&&"Backspace"==e.original.key&&(e.stopAllPropagation(),this.start_position.set(null))})),e.onPost((()=>{"Shift"==e.original.key&&this.current_target.update((e=>{e&&(e.forced=!0)}))}))}eventKeyUp(e){e.onPost((()=>{"Shift"==e.original.key&&this.current_target.update((e=>{e&&(e.forced=!1)}))}))}}var Oo=We.index,Do=ve.observe_combined;class Ro extends uo{constructor(){super({preview_render:e=>{if(e){let t=new ko({step:{type:"run",waypoints:e.path},highlightable:!1});return e.no_path_to&&Xr(Oo(e.path,-1),e.no_path_to).setStyle({color:"red"}).addTo(t),t}}}),this.segments=Ae([]),this.path=this.segments.map((e=>e.flatMap(((e,t)=>0==t?e.tiles:e.tiles.slice(1))))),this.last_position=this.path.map((e=>Oo(e,-1))).equality(d.eq2),this.has_start_position=this.last_position.map((e=>!!e)),this.cached_pathfinding_state=this.last_position.map((e=>e?or.init_djikstra(e):null)),this.previewed_segment=Ae(null),this.attachTopControl(this.top_control=new lo({name:"Drawing Run-Path"})),this.has_start_position.subscribe((e=>{e?this.top_control.setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] valid target tile to confirm.")).append(c().text("[Shift + Click] to place a forced waypoint.")).append(c().text("[Ctrl] to ignore all obstacles.")).append(c().text("[Backspace] to remove last waypoint."))):this.top_control.setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] any tile to start.")))}),!0),Do({segments:this.segments,previewed_segment:this.previewed_segment}).subscribe((({segments:e,previewed_segment:t})=>{let i=e.map((e=>e.tiles));t&&!t.broken&&i.push(t.tiles);let n=i.flat();n.length>0?this.preview({path:n,no_path_to:(null==t?void 0:t.broken)?t.target:null}):this.preview(null)}))}setStartPosition(e){return e?this.segments.set([{tiles:[e]}]):this.segments.set([]),this}getPathFindingState(){return this.cached_pathfinding_state.value()}eventClick(e){e.onPost((async()=>{if(e.stopAllPropagation(),0==this.segments.value().length)this.setStartPosition(e.tile());else{let t=await(e.original.ctrlKey?or.idealPath(this.last_position.value(),e.tile()):or.find(this.getPathFindingState(),ar.init(e.tile())));t&&(this.segments.update((e=>e.push({tiles:t}))),this.previewed_segment.set(null),e.original.shiftKey||this.commit({path:this.path.value(),no_path_to:null}))}}))}eventHover(e){e.onPost((async()=>{this.updatePreview(e.tile(),e.original.ctrlKey)}))}async updatePreview(e,t){if(this.last_position.value()){let i=await(t?or.idealPath(this.last_position.value(),e):or.find(this.getPathFindingState(),ar.init(e)));this.previewed_segment.set({target:e,forced:t,broken:!i,tiles:i})}else this.previewed_segment.set(null)}eventKeyDown(e){e.onPost((()=>{"Control"==e.original.key&&this.previewed_segment.value()&&(e.stopAllPropagation(),this.updatePreview(this.previewed_segment.value().target,!0)),"Backspace"==e.original.key&&(e.stopAllPropagation(),this.segments.update((e=>e.splice(e.length-1,1))),this.previewed_segment.value()&&this.updatePreview(this.previewed_segment.value().target,this.previewed_segment.value().forced),this.previewed_segment.update((()=>{})))}))}eventKeyUp(e){e.onPost((()=>{"Control"==e.original.key&&this.previewed_segment.value()&&(e.stopAllPropagation(),this.updatePreview(this.previewed_segment.value().target,!1))}))}}class Bo extends uo{constructor(){super(),this.internal=(new Ro).onCommit((e=>{this.commit({type:"run",waypoints:e.path})})).onDiscarded((()=>this.cancel())).addTo(this)}setStartPosition(e){return this.internal.setStartPosition(e),this}}class jo extends uo{constructor(e={}){super(e),this.config=e}eventHover(e){super.eventHover(e),e.onPre((()=>{this.preview(e.tile())}))}eventClick(e){e.onPre((()=>{e.stopAllPropagation(),this.commit(e.tile())}))}}class No extends uo{constructor(){super({preview_render:e=>new ko({step:e,interactive:!1})}),(new jo).onCommit((e=>this.commit({type:"powerburst",where:e}))).onPreview((e=>this.preview({type:"powerburst",where:e}))).addTo(this),new lo({name:"Placing Powerburst",cancel_handler:()=>this.cancel()}).addTo(this).content.append(c().text("Click any tile to place the powerburst activation."))}}class Fo extends ge{constructor(e=$("<div>")){super(e),this.clicked=we(),this.enabled=Ae(!0),this.toggled=Ae(!1),this.isToggleable=Ae(!1),this.addClass("lcss-button"),this.container.on("click",(e=>{e.stopPropagation(),this.container.hasClass("enabled")&&(this.isToggleable.value()&&this.toggled.set(!this.toggled.value()),this.clicked.trigger(e))})),this.enabled.subscribe((e=>{this.toggleClass("enabled",e)}),!0),this.toggled.subscribe((e=>{this.toggleClass("toggled",e)})),this.isToggleable.subscribe((e=>{e||this.toggled.set(!1)})),this.setEnabled(!0)}setEnabled(e){return this.enabled.set(e),e||this.toggled.set(!1),this}onClick(e,t=null){let i=this.clicked.on(e);return null==t||t.bind(i),this}onToggle(e){return this.toggled.subscribe(e),this}setToggleable(e){return this.isToggleable.set(e),this}setToggled(e){return this.toggled.set(e),this}click(){return this.raw().click()}}class Zo extends ge{constructor(e){super(),this.addClass("ctr-actionbar"),this.append(...e)}}!function(e){var t=ve.observe_combined;e.ActionBarButton=class extends Fo{constructor(e,i){super(),this.icon=e,this.activation=i,this._activeInteraction=Ae(null),this.cooldown=Ae(0),this.hotkey=Ae(""),this._activeInteraction.subscribe((e=>{this.render(),e&&e.onEnd((()=>this._activeInteraction.set(null)))})),this.onClick((async e=>{this._activeInteraction.value()?this._activeInteraction.value().cancel():this.trigger(e)})),t({cd:this.cooldown,hk:this.hotkey}).subscribe((()=>{this.render()}),!0)}async trigger(e=void 0){if(!this._activeInteraction.value()){let t=await this.activation(e);t instanceof ho&&this._activeInteraction.set(t)}}render(){this.empty(),this.addClass("medium-image-button").append($(`<img src='${this.icon}'>`)).css("position","relative"),(0!=this.cooldown.value()||this._activeInteraction.value())&&(c("<div class='ctr-cooldown-overlay-shadow'></div>").appendTo(this),this.cooldown.value()>0&&c().addClass("ctr-cooldown-overlay").text(this.cooldown.value()+"t").appendTo(this)),""!=this.hotkey.value()&&c().addClass("ctr-hotkey-overlay").text(this.hotkey.value()).appendTo(this),this._activeInteraction.value()&&c().addClass("ctr-cooldown-overlay-cancel").text("X").appendTo(this)}setHotKey(e){return this.hotkey.set(e),this}}}(Zo||(Zo={}));class qo extends uo{constructor(e=null){super({preview_render:e=>new ko({step:e,interactive:!1})}),this.interaction_type=e,(new jo).onCommit((e=>{if(null!=this.interaction_type)this.commit({type:"redclick",target:Ur.defaultEntity(this.interaction_type),where:e,how:this.interaction_type});else{let t={type:"submenu",text:"",children:Ur.all().map((t=>({type:"basic",text:t.description,icon:t.icon_url,handler:()=>{this.commit({type:"redclick",target:Ur.defaultEntity(t.type),where:e,how:t.type})}})))};new Pe(t).show(this.getMap().container.get()[0],this.getMap().getClientPos(e)).onCancel((()=>this.cancel()))}})).onPreview((e=>this.preview({type:"redclick",target:{kind:"static",name:"Entity"},where:e,how:"generic"}))).addTo(this),new lo({name:"Placing Redclick",cancel_handler:()=>this.cancel()}).addTo(this).content.append(c().text("Click any tile to place the redclick activation."))}}class Uo extends uo{constructor(e){super({preview_render:e=>new ko({step:e,highlightable:!1})}),this.start_from=e,this.attachTopControl((new lo).setName("Drawing Cheat step").setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] tile to confirm target."))))}eventClick(e){e.onPost((async()=>{e.stopAllPropagation();let t=e.tile();const i=this.start_from?rr.fromVector(l.sub(t,this.start_from)):void 0;this.commit({type:"cheat",assumed_start:this.start_from,target:t,ticks:0,orientation:i})}))}eventHover(e){this.preview({type:"cheat",assumed_start:this.start_from,target:e.tile(),ticks:0})}}var Vo=no.movement_state,Ho=Zo.ActionBarButton,Wo=no.movement_state.surge_cooldown,Ko=no.movement_state.escape_cooldown,Go=no.movement_state.barge_cooldown,Qo=no.movement_state.dive_cooldown;class Yo extends Pr{constructor(e,t){super({position:"bottom-center",type:"gapless"},new ao("Path Editor")),this.editor=e,this.interaction_guard=t,this.state=Ae(Vo.start({}));{let i=this;function n(e){return i.interaction_guard.set(e.onStart((()=>i.editor.overlay_control.lens_layer.enabled2.set(!1))).onEnd((()=>i.editor.overlay_control.lens_layer.enabled2.set(!0))),i)}async function r(e){var t,r,o,s;if(e.predictor&&null!=(null===(t=i.state.value().position)||void 0===t?void 0:t.tile)&&null!=(null===(r=i.state.value().position)||void 0===r?void 0:r.direction)){let t=await e.predictor(i.state.value().position);if(t)return void i.editor.value.add({type:"ability",ability:e.ability,from:null===(o=i.state.value().position)||void 0===o?void 0:o.tile,to:t.tile})}return n(new Io(e.ability).onCommit((e=>i.editor.value.add(e))).setStartPosition(null===(s=i.state.value().position)||void 0===s?void 0:s.tile))}this.buttons={surge:new Ho("assets/icons/surge.png",(()=>r({ability:"surge",predictor:sr.surge}))).tooltip("Surge").setHotKey("s-W"),escape:new Ho("assets/icons/escape.png",(()=>r({ability:"escape",predictor:sr.escape}))).tooltip("Escape").setHotKey("s-S"),dive:new Ho("assets/icons/dive.png",(()=>r({ability:"dive"}))).tooltip("Dive").setHotKey("D"),barge:new Ho("assets/icons/barge.png",(()=>r({ability:"barge"}))).tooltip("Barge").setHotKey("s-D"),run:new Ho("assets/icons/run.png",(()=>{var e;return n((new Bo).onCommit((e=>i.editor.value.add(e))).setStartPosition(null===(e=i.state.value().position)||void 0===e?void 0:e.tile))})).tooltip("Run").setHotKey("s-R"),redclick:new Ho("assets/icons/cursor_redclick.png",(()=>n((new qo).onCommit((e=>i.editor.value.add(e)))))).tooltip("Redclick").setHotKey("s-C"),powerburst:new Ho("assets/icons/accel.png",(()=>{var e;if(!(null===(e=i.state.value().position)||void 0===e?void 0:e.tile))return n((new No).onCommit((e=>i.editor.value.add(e))));this.editor.value.add({type:"powerburst",where:i.state.value().position.tile})})).tooltip("Powerburst of Acceleration").setHotKey("s-P"),cheat:new Ho("assets/icons/Rotten_potato.png",(e=>{var t;return n(new Uo(null===(t=i.state.value().position)||void 0===t?void 0:t.tile).onCommit((e=>i.editor.value.add(e))))})).tooltip("Cheat")},this.bar=new Zo([this.buttons.surge,this.buttons.escape,this.buttons.dive,this.buttons.barge,this.buttons.run,this.buttons.redclick,this.buttons.powerburst,this.buttons.cheat]).appendTo(this.content.body)}this.state.subscribe((e=>this.render(e)),!0)}render(e){this.buttons.surge.cooldown.set(Wo(e)),this.buttons.escape.cooldown.set(Ko(e)),this.buttons.barge.cooldown.set(Go(e)),this.buttons.dive.cooldown.set(Qo(e)),this.buttons.powerburst.cooldown.set(Math.max(e.acceleration_activation_tick+120-e.tick,0))}eventKeyDown(e){e.onPre((()=>{const t=e.original;(()=>t.shiftKey&&"w"==t.key.toLowerCase()?(this.editor.action_bar.buttons.surge.trigger(),!0):t.shiftKey&&"s"==t.key.toLowerCase()?(this.editor.action_bar.buttons.escape.trigger(),!0):t.shiftKey&&"d"==t.key.toLowerCase()?(this.editor.action_bar.buttons.barge.trigger(),!0):"d"==t.key.toLowerCase()?(this.editor.action_bar.buttons.dive.trigger(),!0):t.shiftKey&&"r"==t.key.toLowerCase()?(this.editor.action_bar.buttons.run.trigger(),!0):t.shiftKey&&"c"==t.key.toLowerCase()?(this.editor.action_bar.buttons.redclick.trigger(),!0):t.shiftKey&&"p"==t.key.toLowerCase()?(this.editor.action_bar.buttons.powerburst.trigger(),!0):void 0)()&&(e.stopAllPropagation(),t.preventDefault())}))}}class Jo extends s.FeatureGroup{constructor(){super(),this.children=[],this.options.opacity=1}setOpacity(e){var t;return this.options.opacity=e,null===(t=this.getTooltip())||void 0===t||t.setOpacity(e),this.children.forEach((function(t){var i;t.layer instanceof Jo||t.layer instanceof s.Marker||t.layer instanceof s.Tooltip?t.layer.setOpacity(e*t.baseline.stroke):t.layer instanceof s.Polyline&&t.layer.setStyle(Object.assign(t.layer.options,{opacity:e*t.baseline.stroke,fillOpacity:e*t.baseline.fill})),null===(i=t.layer.getTooltip())||void 0===i||i.setOpacity(e*t.baseline.stroke)})),this}addLayer(e){return super.addLayer(e),this.children.push({layer:e,baseline:e instanceof Jo||e instanceof s.Marker||e instanceof s.Tooltip?{stroke:e.options.opacity}:e instanceof s.Polyline?{stroke:e.options.opacity,fill:e.options.fillOpacity}:{stroke:1}}),this}removeLayer(e){return super.removeLayer(e),this.children.splice(this.children.findIndex((t=>t.layer==e))),this}}class Xo extends Jo{constructor(e,t){super(),this.active_opacity=e,this.inactive_opacity=t,this.active=!0}setActive(e){return this.active=e,this.setOpacity(e?this.active_opacity:this.inactive_opacity),this}isActive(){return this.active}}var $o=Hr.EntityTransportation.default_interactive_area,es=(Hr.EntityTransportation,xe.entity),ts=Hr.EntityTransportation.Movement.isLocal,is=ar.activate;class ns extends De{constructor(e){super(e),this.config=e,this.normalized_shortcut=Hr.normalize(this.config.shortcut),this.zoom_sensitivity_layers=De.default_local_zoom_scale_layers,this.floor_sensitivity_layers=new Ie([{floors:[this.normalized_shortcut.clickable_area.level],value:{}},{floors:g.all,hidden_here:!0,value:{}}])}bounds(){return Hr.bounds(this.config.shortcut)}async contextMenu(e){var t;const i=this.normalized_shortcut,n=i.actions.flatMap((e=>e.movement.flatMap((e=>ts(e)?[]:[ar.normalize(e.fixed_target.target)]))));if(n.length>0){const t=n[0];e.addForEntity({type:"basic",text:"Jump to Target",handler:()=>{var e,i;null===(i=null===(e=this.parent)||void 0===e?void 0:e.getMap())||void 0===i||i.fitView(ar.toRect(t))}})}return{type:"submenu",icon:Ur.meta(null!==(t=i.actions[0].cursor)&&void 0!==t?t:"generic").icon_url,text:()=>es(i.entity),children:[]}}async render_implementation(e){var t,i;const n=this.normalized_shortcut,r="#72bb46",o="#cca927",a="#00ffff";function c(e,t,i){let n=(new Jo).addLayer(Xr(e,t).setStyle({color:o,weight:4})).setStyle({interactive:!0});return 0!=i&&s.marker(l.toLatLong(t),{icon:s.icon({iconUrl:i<0?"assets/icons/down.png":"assets/icons/up.png",iconSize:[14,16]}),interactive:!0}).addTo(n),n}const u=e.highlight?1.5:this.zoom_sensitivity_layers.get(e.zoom_group_index).value.scale,d=s.marker(l.toLatLong(h.center(n.clickable_area,!1)),{icon:s.icon({iconUrl:Ur.meta(null!==(i=null===(t=n.actions[0])||void 0===t?void 0:t.cursor)&&void 0!==i?i:"generic").icon_url,iconSize:Ur.iconSize(u),iconAnchor:Ur.iconAnchor(u,!0)}),riseOnHover:!0,interactive:!0}).addTo(this);if(e.highlight){s.polygon((g=n.clickable_area,[g.topleft,{x:g.botright.x,y:g.topleft.y},g.botright,{x:g.topleft.x,y:g.botright.y}].map(l.toLatLong)),{color:a,fillColor:a,fillOpacity:.1,opacity:.5,interactive:!0}).addTo(this);for(let e of n.actions)e.interactive_area&&vr(e.interactive_area).setStyle({color:r,fillColor:r,interactive:!0,fillOpacity:.1,weight:2}).addTo(this),e.movement.forEach((t=>{if(t.offset){let i=p.center(ar.toRect(t.valid_from||e.interactive_area||$o(p.extend(n.clickable_area,-.5))),!0);c(i,l.add(i,t.offset),t.offset.level).addTo(this)}else if(t.fixed_target&&!t.fixed_target.relative){const e=ar.normalize(t.fixed_target.target);e.origin.level==this.parent.getMap().floor.value()&&s.circle(l.toLatLong(is(e).center()),{color:o,weight:2,radius:.4,fillOpacity:.1}).addTo(this);const i=p.center(n.clickable_area,!1),r=ar.normalize(t.fixed_target.target);c(i,is(r).center(),r.origin.level-i.level).addTo(this)}}))}var g;return d.getElement()}async renderTooltip(){const e=new po,t=this.config.shortcut;switch(t.type){case"entity":e.header(xe.entity(t.entity));break;case"door":e.header(xe.staticentity(t.name))}return t.source_loc&&e.named("Object ID",t.source_loc.toString()),"door"==t.type&&(e.named("Position",d.toString(t.position)),e.named("Direction",rr.toString(t.direction))),{content:e,interactive:!1}}}var rs=ar.activate;class os extends xr{constructor(e,t=!1){super(),this.data=e,this.simplified=t,e.element_added.on((e=>{new os.ShortcutPolygon(e,{type:"regular",draw_arrows:!0,viewed_floor:this.getMap().floor.value()}).addTo(this)}))}onAdd(e){return e.floor.subscribe((e=>{this.eachLayer((t=>{t.style.update2((t=>t.viewed_floor=e))}))}),!1,(e=>this.handler_pool.bind(e))),super.onAdd(e),this.renderAll(),this}eventHover(e){this.eachLayer((t=>{t.style.update2((i=>{let n=t.data.value();i.draw_arrows="entity"==n.type&&(p.containsCoords(n.clickable_area,e.tile())||n.actions.some((t=>rs(t.interactive_area).query(e.tile()))))}))}))}renderAll(){this.clearLayers(),this.data.value().map((e=>new os.ShortcutPolygon(e,{type:this.simplified?"simplified":"regular",draw_arrows:!1,viewed_floor:this.getMap().floor.value()}).addTo(this)))}getView(e){return this.getLayers().find((t=>t instanceof os.ShortcutPolygon&&t.data==e))}center(e){return this.getMap().fitView(Hr.bounds(e),{maxZoom:5}),this}}!function(e){e.COLORS={interactive_area:"#72bb46",target_area:"#cca927",clickable_area:"#00ffff"},e.ShortcutPolygon=class extends Jo{constructor(e,t={type:"regular",draw_arrows:!0,viewed_floor:null}){super(),this.data=e,this.style=Ae(null).equality(((e,t)=>(null==e?void 0:e.type)==(null==t?void 0:t.type)&&(null==e?void 0:e.draw_arrows)==(null==t?void 0:t.draw_arrows)&&(null==e?void 0:e.viewed_floor)==(null==t?void 0:t.viewed_floor))),e.subscribe((()=>this.render())),e instanceof ke.ObservableArrayValue&&e.removed.on((()=>this.remove())),this.style.set(t),this.style.subscribe((e=>{this.render()}),!0),this.setStyle({interactive:!0})}render(){this.clearLayers()}},e.render_transport_arrow=function(t,i,n){let r=(new Jo).addLayer(Xr(t,i).setStyle({color:e.COLORS.target_area,weight:4})).setStyle({interactive:!0});return 0!=n&&s.marker(l.toLatLong(i),{icon:s.icon({iconUrl:n<0?"assets/icons/down.png":"assets/icons/up.png",iconSize:[14,16]}),interactive:!0}).addTo(r),r}}(os||(os={}));var ss=xe.entity,as=os.COLORS,ls=Hr.TeleportGroup,cs=xe.vbox,hs=Hr.EntityTransportation.default_interactive_area;class us extends De{bounds(){return ar.toRect(this.config.access.clickable_area)}async render_implementation(e){var t,i;this.config.teleport;const n=this.config.access,r=e.highlight?1.5:this.zoom_sensitivity_layers.get(e.zoom_group_index).value.scale,o=s.marker(l.toLatLong(h.center(ar.toRect(n.clickable_area),!0)),{icon:s.icon({iconUrl:Ur.meta(null!==(t=n.cursor)&&void 0!==t?t:"generic").icon_url,iconSize:Ur.iconSize(r),iconAnchor:Ur.iconAnchor(r,!0)}),riseOnHover:!0,interactive:!0}).addTo(this);return e.highlight&&vr(null!==(i=n.interactive_area)&&void 0!==i?i:hs(ar.toRect(n.clickable_area))).setStyle({color:as.interactive_area,fillColor:as.interactive_area,interactive:!0,fillOpacity:.1,weight:2}).addTo(this),o.getElement()}constructor(e){super(e),this.config=e,this.zoom_sensitivity_layers=De.default_zoom_scale_layers,this.zoom_sensitivity_layers=De.default_local_zoom_scale_layers,this.floor_sensitivity_layers=new Ie([{floors:[e.access.clickable_area.origin.level],value:{correct_level:!0}},{floors:g.all,hidden_here:!0,value:{correct_level:!1}}])}async contextMenu(e){var t;const i=this.config.teleport,n=this.config.access;return e.addForEntity({type:"submenu",text:"Move map to",children:i.spots.map((e=>{const t=new ls.Spot(i,e,n,Qr().app.teleport_settings);return{type:"basic",icon:`assets/icons/teleports/${t.image().url}`,text:t.code()?`${e.code}: ${e.name}`:e.name,handler:()=>{var t,i;null===(i=null===(t=this.parent)||void 0===t?void 0:t.getMap())||void 0===i||i.fitView(ar.toRect(e.target))}}}))}),{type:"submenu",icon:Ur.meta(null!==(t=n.cursor)&&void 0!==t?t:"generic").icon_url,text:()=>ss(n.name),children:[]}}async renderTooltip(){let e=new po;const t=this.config.teleport,i=this.config.access;return e.header(c().append(`Access to ${t.name} via `,ss(i.name))),e.named("Targets",cs(...t.spots.map((e=>c().text(e.name))))),{content:e,interactive:!1}}}var ds=os.COLORS,ps=xe.entity,gs=ar.activate;class ms extends De{constructor(e){super(e),this.config=e,this.zoom_sensitivity_layers=De.default_zoom_scale_layers,e.movement.fixed_target,this.zoom_sensitivity_layers=new Le([{min:-100,value:{scale:.5}},{min:1.5,value:{scale:1}}]),this.floor_sensitivity_layers=new Ie([{floors:[ar.normalize(e.movement.fixed_target.target).origin.level],value:{correct_level:!0}},{floors:g.all,hidden_here:!0,value:{correct_level:!1}}])}bounds(){return ar.toRect(ar.normalize(this.config.movement.fixed_target.target))}async render_implementation(e){const t=e.highlight?1.5:this.zoom_sensitivity_layers.get(e.zoom_group_index).value.scale;return s.circle(l.toLatLong(gs(ar.normalize(this.config.movement.fixed_target.target)).center()),{color:ds.target_area,weight:2,radius:.4*t,fillOpacity:.1}).addTo(this).getElement()}async contextMenu(e){var t;return e.addForEntity({type:"basic",text:"Jump to Origin",handler:()=>{var e,t;null===(t=null===(e=this.parent)||void 0===e?void 0:e.getMap())||void 0===t||t.fitView(this.config.transport.clickable_area)}}),{type:"submenu",icon:Ur.meta(null!==(t=this.config.action.cursor)&&void 0!==t?t:"generic").icon_url,text:()=>c().append("Target of ",ps(this.config.transport.entity)),children:[]}}async renderTooltip(){let e=new po;return e.header(c().append("Target of ",ps(this.config.transport.entity))),{content:e,interactive:!1}}}var fs,ys,vs,_s,xs=Hr.TeleportGroup,bs=Hr.EntityTransportation;class ws extends xr{constructor(e){super(),this.quad_tree_debug_rendering=!1,Wr.getAll().then((t=>t.forEach((t=>{"entity"==t.type||"door"==t.type?(new ns({highlightable:!0,shortcut:t,interactive:e}).addTo(this),"entity"==t.type&&t.actions.forEach((i=>{i.movement.forEach((n=>{bs.Movement.isLocal(n)||new ms({highlightable:!0,interactive:e,transport:t,action:i,movement:n}).addTo(this)}))}))):"teleports"==t.type&&(t.spots.forEach((i=>{new wo({highlightable:!0,teleport:new xs.Spot(t,i,t.access[0],Gr.instance().app.teleport_settings),interactive:e}).addTo(this)})),t.access.forEach((i=>{"entity"==i.type&&new us({highlightable:!0,teleport:t,access:i,interactive:e}).addTo(this)})))}))))}}class ks extends ge{constructor(e){super(),this.value=e,this.addClass("ctr-buff-view"),this.render()}render(){c(`<img src='${this.value.icon}' alt="">`).appendTo(this),"buff"==this.value.kind&&this.addClass("ctr-buff-view-buff"),"debuff"==this.value.kind&&this.addClass("ctr-buff-view-debuff"),this.value.on_cooldown&&this.addClass("ctr-buff-view-cooldown"),this.value.time_left>0&&c(`<div>${this.value.time_left}t</div>`).appendTo(this)}}class As extends ge{constructor(e){super(),this.value=e,this.render()}setValue(e){this.value=e,this.render()}render(){this.empty();let e=(new po).appendTo(this);e.named("Tick",c().text(this.value.tick)),this.value.position.tile&&e.named("Tile",c().text(d.toString(this.value.position.tile))),this.value.position.direction&&e.named("Facing",c().text(rr.toString(this.value.position.direction))),this.value.targeted_entity&&e.named("Targeting",c().text(d.toString(this.value.targeted_entity)));let t=c("<div class='ctr-movement-state-view-cooldowns'></div>"),i=c("<div class='ctr-movement-state-view-cooldowns'></div>");e.named("Powerburst",t),e.named("Cooldowns",i),this.value.acceleration_activation_tick+200>this.value.tick?(this.value.acceleration_activation_tick+10>this.value.tick&&new ks({icon:"assets/icons/accel.png",on_cooldown:!1,kind:"buff",time_left:this.value.acceleration_activation_tick+10-this.value.tick}).appendTo(t),new ks({icon:"assets/icons/accel.png",on_cooldown:!0,kind:"debuff",time_left:this.value.acceleration_activation_tick+200-this.value.tick}).appendTo(t)):c().text("Ready").appendTo(t);for(let e of this.value.cooldowns.surge)new ks({icon:"assets/icons/surge.png",on_cooldown:e>this.value.tick,time_left:e-this.value.tick}).appendTo(i);for(let e of this.value.cooldowns.escape)new ks({icon:"assets/icons/escape.png",on_cooldown:e>this.value.tick,time_left:e-this.value.tick}).appendTo(i);new ks({icon:"assets/icons/dive.png",on_cooldown:this.value.cooldowns.dive>this.value.tick,time_left:this.value.cooldowns.dive-this.value.tick}).appendTo(i),new ks({icon:"assets/icons/barge.png",on_cooldown:this.value.cooldowns.barge>this.value.tick,time_left:this.value.cooldowns.barge-this.value.tick}).appendTo(i)}}class Ts extends ge{constructor(){super(),this.url=Ae(""),this.addClass("nisl-icon"),this.img=c("<img>").appendTo(this),this.url.subscribe((e=>{this.img.setAttribute("src",e)}))}setSource(e){return this.url.set(e),this}withClick(e){return this.addClass("ctr-clickable"),this.on("click",e),this}static dropdown(){return(new Ts).setSource("assets/nis/dropdown.png")}static arrow(e="down"){return new Ss(e)}static info(){return(new Ts).css("cursor","help").setSource("assets/icons/info.png")}}class Cs extends Ts{constructor(){super(),this.toggled=Ae(!1),this.toggled.subscribe((e=>{this.setSource(e?"assets/nis/favourite_on.png":"assets/nis/favourite_off.png")}),!0)}set(e){return this.toggled.set(e),this}}class Ss extends Ts{constructor(e="down"){super(),this.direction=Ae(e),this.direction.subscribe((e=>{this.setSource(`assets/nis/arrow_${e}.png`)}),!0)}setDirection(e){return this.direction.set(e),this}}class Es{constructor(e,t){this.store=e,this.key=t}get(){return this.store.get(this.key)}set(e){return this.store.set(this.key,e)}}class zs{constructor(e){this.name=e,this.db=new Promise(((t,i)=>{if(!(null===window||void 0===window?void 0:window.indexedDB))return void i("indexedDB not supported");const n=window.indexedDB.open(e,1);n.onsuccess=()=>t(n.result),n.onerror=()=>i("error"),n.onupgradeneeded=()=>{const e=n.result.createObjectStore("kv-store",{keyPath:"k"});e.transaction.oncomplete=()=>e.transaction.db}}))}async getStore(e){return(await this.db).transaction("kv-store",e).objectStore("kv-store")}get(e){return new Promise((async(t,i)=>{const n=(await this.getStore("readonly")).get(e);n.onerror=i,n.onsuccess=()=>{var e;return t(null===(e=n.result)||void 0===e?void 0:e.v)}}))}set(e,t){return new Promise((async(i,n)=>{const r=(await this.getStore("readwrite")).put({k:e,v:t});r.onsuccess=()=>i(),r.onerror=n}))}variable(e){return new Es(this,e)}static instance(){return zs._instance||(zs._instance=new zs("key-value-store")),zs._instance}}function Ps(){var e,t,i="";for(e=0;e<32;e++)t=16*Math.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(i+="-"),i+=(12==e?4:16==e?3&t|8:t).toString(16);return i}zs._instance=null,i(816).lW,function(e){function t(e,t){return t?e.ownerDocument.getElementById(t):document.getElementById(e)}function i(e){for("string"==typeof e&&(e=document.getElementById(e));e.firstChild;)e.removeChild(e.firstChild)}function n(...e){var t,i,n="",r=null,o="",s="",a=null,l=0;if("string"==typeof arguments[l]){var c=arguments[l++].split(":");n=c[0];var h=c[1]?c[1].split("/"):[];o=h[0],s=h[1]}if(t={},"object"!=typeof arguments[l]||Array.isArray(arguments[l])||arguments[l]instanceof DocumentFragment||(t=arguments[l++]),"object"==typeof arguments[l]&&Array.isArray(arguments[l])?r=arguments[l++]:"object"==typeof arguments[l]&&arguments[l]instanceof DocumentFragment&&(a=arguments[l++]),n&&(t.class=n),"input"==(o=t&&t.tag||o||"div")&&s&&(t.type=s),i="frag"==o?document.createDocumentFragment():t&&t.namespace?document.createElementNS(t.namespace,o):document.createElement(o),t)for(var u in t)!1!==t[u]&&null!=t[u]&&"tag"!=u&&"namespace"!=u&&("on"==u.substr(0,2)?i[u]=t[u]:i instanceof Element&&i.setAttribute(u,t[u]||""));if(null!=r&&null!=r)for(var u in Array.isArray(r)||(r=[r]),r)null!=r[u]&&("object"!=typeof r[u]?i.appendChild(document.createTextNode(r[u].toString())):i.appendChild(r[u]));else null!=a&&i.appendChild(a);return i}e.toggleclass=function(e,i,n){return"string"==typeof e&&(e=t(e)),null==n&&(n=!e.classList.contains(i)),n?e.classList.add(i):e.classList.remove(i),n},e.id=t,e.cl=function(e){return document.getElementsByClassName(e)},e.clear=i,e.select=function(e,t){var i=document.createDocumentFragment(),r=function(e,r){i.appendChild(n({tag:"option",value:e,selected:t==e?"":null},[r]))};if(Array.isArray(e))for(var o=0;o<e.length;o++)r(o,e[o]);else for(let t in e)r(t,e[t]);return i},e.div=n,e.frag=function(...e){for(var t=document.createDocumentFragment(),i=0;i<arguments.length;i++)null!=arguments[i]&&("object"!=typeof arguments[i]?t.appendChild(document.createTextNode(arguments[i].toString())):t.appendChild(arguments[i]));return t},e.put=function(e,n){if("string"==typeof e){var r=t(e);if(!r)return;e=r}i(e),e.appendChild(n)},e.elmap=function(...e){var t={};for(let i of e)t[i]=null;return t}}(fs||(fs={}));class Ms{constructor(e){this.data=e}get(e){return this.data[e]}filtered(){return this.data.filter((e=>!!e))}static simple(e){let t=Array(Math.max(...e.map((e=>e.id))));return e.forEach((e=>{t[e.id]={clue:e}})),new Ms(t)}with(e){return new Ms(this.data.map((t=>t?{...t,...e()}:null)))}}class Ls{constructor(e){this._index=e}static simple(e){return new Ls(e.data.map((e=>{let t={clue:e.clue,value:{for:{clue:e.clue}},spot_index:"compass"==e.clue.type?[]:void 0};if("compass"==e.clue.type){t.spot_index=new Array(Ls.BUCKETS);for(let e=0;e<t.spot_index.length;e++)t.spot_index[e]=[];e.clue.spots.forEach((i=>{let n=l.hash(i,Ls.BUCKETS);t.spot_index[n].push({spot:i,value:{for:{clue:e.clue,spot:i}}})}))}return t})))}with(e){return new Ls(this._index.map((t=>({clue:t.clue,value:{...t.value,...e()},spot_index:t.spot_index?t.spot_index.map((t=>t.map((t=>({spot:t.spot,value:{...t.value,...e()}}))))):void 0}))))}get(e){var t;let i=this._index[e.clue];return e.spot||i.spot_index?e.spot&&i.spot_index?null===(t=i.spot_index[l.hash(e.spot,Ls.BUCKETS)].find((t=>d.eq2(t.spot,e.spot))))||void 0===t?void 0:t.value:null:i.value}flat(){let e=[];return this.forEach((t=>e.push(t))),e}forEach(e){this._index.forEach((t=>{t&&(t.spot_index?t.spot_index.forEach((t=>{t.forEach((t=>e(t.value)))})):e(t.value))}))}}Ls.BUCKETS=64,function(e){e.all=["easy","medium","hard","elite","master"]}(ys||(ys={})),function(e){e.meta=function(e){return{easy:{icon_url:"assets/icons/sealedeasy.png",name:"Easy"},medium:{icon_url:"assets/icons/sealedmedium.png",name:"Medium"},hard:{icon_url:"assets/icons/sealedhard.png",name:"Hard"},elite:{icon_url:"assets/icons/sealedelite.png",name:"Elite"},master:{icon_url:"assets/icons/sealedmaster.png",name:"Master"},anagram:{icon_url:"assets/icons/activeclue.png",name:"Anagram"},compass:{icon_url:"assets/icons/arrow.png",name:"Compass"},coordinates:{icon_url:"assets/icons/sextant.png",name:"Coordinate"},cryptic:{icon_url:"assets/icons/activeclue.png",name:"Cryptic"},emote:{icon_url:"assets/icons/emotes.png",name:"Emote"},map:{icon_url:"assets/icons/map.png",name:"Map"},scan:{icon_url:"assets/icons/scan.png",name:"Scan"},simple:{icon_url:"assets/icons/activeclue.png",name:"Simple"},skilling:{icon_url:"assets/icons/skills.webp",name:"Skilling"}}[e]},e.pretty=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""},e.all=["simple","cryptic","emote","map","anagram","coordinates","compass","scan","skilling"]}(vs||(vs={})),function(e){let t,i;function n(e){return ar.fromRect({topleft:{x:e.x-1,y:e.y+1},botright:{x:e.x+1,y:e.y-1},level:e.level})}!function(e){e.solution=function(e){return e.solution?e.solution:"coordinates"==e.type?{type:"dig",spot:o.toCoords(e.coordinates),description:null}:null},e.shortString=function(e,t=0){let i=Math.max(0,Math.min(e.text.length-1,t));switch(e.type){case"anagram":return`Anagram: ${e.anagram[i]}`;case"map":return`Map: ${e.text[i]}`;case"coordinates":return o.toString(e.coordinates);case"scan":return`Scan ${e.scantext}`;default:return e.text[i]}}}(t=e.Step||(e.Step={})),function(i){let r;!function(e){e.equals=function(e,t){return(null==e?void 0:e.clue)==(null==t?void 0:t.clue)&&((null==e?void 0:e.spot)==(null==t?void 0:t.spot)||d.eq2(null==e?void 0:e.spot,null==t?void 0:t.spot))}}(r=i.Id||(i.Id={})),i.shortString=function(e,i=0){return"compass"==e.clue.type?`Compass spot ${l.toString(e.spot)}`:t.shortString(e.clue,i)},i.targetArea=function(t){if(t.spot)return n(t.spot);const i=e.Step.solution(t.clue);if(i)switch(i.type){case"search":return ar.fromRect(p.extend(i.spot,1));case"dig":return n(i.spot);case"talkto":return i.spots[0].range}return"emote"==t.clue.type?t.clue.area:"scan"==t.clue.type?ar.fromRect(p.from(...t.clue.spots)):void 0},i.toId=function(e){return{clue:e.clue.id,spot:e.spot}}}(i=e.ClueSpot||(e.ClueSpot={})),e.digSpotArea=n,e.requiresKey=function(e){return e.solution&&"search"==e.solution.type&&!!e.solution.key}}(_s||(_s={}));const Is={type:"default",local_id:"default:scanmethods",original_id:"default:scanmethods",author:"Zyklop Marco",timestamp:1700749105,name:"Default Scan Methods",description:"This default pack features standard scan routes based on the guide by Fiery and some other contributors.",default_method_name:"Default Scan Route",methods:[],default_assumptions:{double_escape:!0,double_surge:!0,meerkats_active:!0,mobile_perk:!0}},Os={type:"default",name:"Default Clue Paths",local_id:"default:genericmethods",original_id:"default:genericmethods",author:"Zyklop Marco",timestamp:1700749105,description:"",default_method_name:"Default Route",methods:[],default_assumptions:{double_escape:!0,double_surge:!0,way_of_the_footshaped_key:!0,full_globetrotter:!0,meerkats_active:!0,mobile_perk:!0}};var Ds;!function(e){e.gielinor_compass={id:399,type:"compass",tier:"elite",text:["The compass shows where you need to go."],challenge:[{type:"wizard"},{type:"slider"},{type:"celticknot"}],spots:[{x:2413,y:2818,level:0},{x:2398,y:2862,level:0},{x:2476,y:2845,level:0},{x:2493,y:2875,level:0},{x:2546,y:2872,level:0},{x:2547,y:2826,level:0},{x:2617,y:2876,level:0},{x:2598,y:2838,level:0},{x:2445,y:2917,level:0},{x:2458,y:2893,level:0},{x:2541,y:2926,level:0},{x:2511,y:2936,level:0},{x:2578,y:2930,level:0},{x:2589,y:2898,level:0},{x:2482,y:2977,level:0},{x:2490,y:2949,level:0},{x:2511,y:2980,level:0},{x:2535,y:2958,level:0},{x:2590,y:2994,level:0},{x:2592,y:2956,level:0},{x:2640,y:2987,level:0},{x:2638,y:2948,level:0},{x:2330,y:3057,level:0},{x:2355,y:3038,level:0},{x:2393,y:3046,level:0},{x:2418,y:3040,level:0},{x:2481,y:3011,level:0},{x:2439,y:3057,level:0},{x:2564,y:3041,level:0},{x:2590,y:3063,level:0},{x:2629,y:3123,level:0},{x:2671,y:3109,level:0},{x:2579,y:3130,level:0},{x:2610,y:3076,level:0},{x:2519,y:3115,level:0},{x:2559,y:3102,level:0},{x:2449,y:3110,level:0},{x:2486,y:3134,level:0},{x:2433,y:3144,level:0},{x:2468,y:3177,level:0},{x:2498,y:3175,level:0},{x:2557,y:3164,level:0},{x:2619,y:3153,level:0},{x:2595,y:3192,level:0},{x:2651,y:3148,level:0},{x:2627,y:3172,level:0},{x:2457,y:3221,level:0},{x:2478,y:3254,level:0},{x:2543,y:3211,level:0},{x:2502,y:3249,level:0},{x:2583,y:3223,level:0},{x:2592,y:3251,level:0},{x:2634,y:3208,level:0},{x:2646,y:3251,level:0},{x:2492,y:3270,level:0},{x:2451,y:3283,level:0},{x:2506,y:3276,level:0},{x:2582,y:3266,level:0},{x:2582,y:3314,level:0},{x:2665,y:3266,level:0},{x:2650,y:3302,level:0},{x:2723,y:3277,level:0},{x:2700,y:3311,level:0},{x:2381,y:3388,level:0},{x:2410,y:3388,level:0},{x:2457,y:3331,level:0},{x:2485,y:3377,level:0},{x:2541,y:3389,level:0},{x:2513,y:3351,level:0},{x:2581,y:3340,level:0},{x:2576,y:3370,level:0},{x:2651,y:3351,level:0},{x:2662,y:3338,level:0},{x:2724,y:3360,level:0},{x:2739,y:3388,level:0},{x:2359,y:3448,level:0},{x:2392,y:3398,level:0},{x:2410,y:3419,level:0},{x:2438,y:3398,level:0},{x:2470,y:3404,level:0},{x:2522,y:3429,level:0},{x:2531,y:3405,level:0},{x:2583,y:3449,level:0},{x:2565,y:3395,level:0},{x:2677,y:3400,level:0},{x:2657,y:3451,level:0},{x:2726,y:3399,level:0},{x:2705,y:3418,level:0},{x:2765,y:3445,level:0},{x:2797,y:3428,level:0},{x:2835,y:3423,level:0},{x:2834,y:3451,level:0},{x:2926,y:3402,level:0},{x:2908,y:3431,level:0},{x:2950,y:3406,level:0},{x:2995,y:3429,level:0},{x:3055,y:3396,level:0},{x:3027,y:3454,level:0},{x:3089,y:3409,level:0},{x:3134,y:3423,level:0},{x:3158,y:3439,level:0},{x:3176,y:3400,level:0},{x:3228,y:3409,level:0},{x:3233,y:3446,level:0},{x:3276,y:3444,level:0},{x:3318,y:3426,level:0},{x:3390,y:3421,level:0},{x:3362,y:3403,level:0},{x:3411,y:3410,level:0},{x:3439,y:3454,level:0},{x:3473,y:3401,level:0},{x:3461,y:3432,level:0},{x:3538,y:3449,level:0},{x:3563,y:3408,level:0},{x:2356,y:3498,level:0},{x:2325,y:3510,level:0},{x:2394,y:3513,level:0},{x:2401,y:3458,level:0},{x:2489,y:3487,level:0},{x:2457,y:3511,level:0},{x:2504,y:3484,level:0},{x:2550,y:3475,level:0},{x:2588,y:3506,level:0},{x:2609,y:3470,level:0},{x:2649,y:3473,level:0},{x:2683,y:3491,level:0},{x:2707,y:3475,level:0},{x:2733,y:3502,level:0},{x:2777,y:3501,level:0},{x:2808,y:3474,level:0},{x:2832,y:3473,level:0},{x:2859,y:3508,level:0},{x:2937,y:3511,level:0},{x:2900,y:3501,level:0},{x:2956,y:3505,level:0},{x:2983,y:3473,level:0},{x:3035,y:3490,level:0},{x:3021,y:3470,level:0},{x:3103,y:3488,level:0},{x:3127,y:3469,level:0},{x:3145,y:3510,level:0},{x:3190,y:3464,level:0},{x:3254,y:3505,level:0},{x:3260,y:3460,level:0},{x:3317,y:3507,level:0},{x:3288,y:3460,level:0},{x:3329,y:3518,level:0},{x:3373,y:3483,level:0},{x:3420,y:3479,level:0},{x:3452,y:3476,level:0},{x:3487,y:3492,level:0},{x:3516,y:3473,level:0},{x:3529,y:3501,level:0},{x:3576,y:3481,level:0},{x:3598,y:3509,level:0},{x:3619,y:3485,level:0},{x:3649,y:3475,level:0},{x:3678,y:3518,level:0},{x:2336,y:3540,level:0},{x:2351,y:3572,level:0},{x:2418,y:3525,level:0},{x:2394,y:3574,level:0},{x:2491,y:3529,level:0},{x:2542,y:3562,level:0},{x:2677,y:3539,level:0},{x:2653,y:3578,level:0},{x:2699,y:3537,level:0},{x:2721,y:3577,level:0},{x:2757,y:3548,level:0},{x:2757,y:3581,level:0},{x:2878,y:3529,level:0},{x:2860,y:3575,level:0},{x:2928,y:3573,level:0},{x:2919,y:3535,level:0},{x:2979,y:3546,level:0},{x:2986,y:3583,level:0},{x:3052,y:3548,level:0},{x:3030,y:3520,level:0},{x:3096,y:3534,level:0},{x:3125,y:3578,level:0},{x:3153,y:3545,level:0},{x:3184,y:3559,level:0},{x:3229,y:3541,level:0},{x:3255,y:3576,level:0},{x:3289,y:3528,level:0},{x:3292,y:3574,level:0},{x:3376,y:3567,level:0},{x:3339,y:3572,level:0},{x:3418,y:3544,level:0},{x:3432,y:3544,level:0},{x:3460,y:3553,level:0},{x:3510,y:3530,level:0},{x:3571,y:3534,level:0},{x:3547,y:3524,level:0},{x:3624,y:3524,level:0},{x:3596,y:3541,level:0},{x:3655,y:3537,level:0},{x:2262,y:3605,level:0},{x:2295,y:3639,level:0},{x:2332,y:3610,level:0},{x:2347,y:3594,level:0},{x:2392,y:3599,level:0},{x:2374,y:3630,level:0},{x:2509,y:3634,level:0},{x:2559,y:3619,level:0},{x:2606,y:3635,level:0},{x:2586,y:3605,level:0},{x:2684,y:3612,level:0},{x:2669,y:3637,level:0},{x:2708,y:3589,level:0},{x:2737,y:3626,level:0},{x:2779,y:3594,level:0},{x:2780,y:3635,level:0},{x:2999,y:3606,level:0},{x:2965,y:3632,level:0},{x:3059,y:3620,level:0},{x:3028,y:3632,level:0},{x:3092,y:3605,level:0},{x:3127,y:3597,level:0},{x:3179,y:3612,level:0},{x:3146,y:3642,level:0},{x:3254,y:3624,level:0},{x:3247,y:3597,level:0},{x:3304,y:3605,level:0},{x:3278,y:3615,level:0},{x:3338,y:3638,level:0},{x:3342,y:3591,level:0},{x:3433,y:3639,level:0},{x:3403,y:3640,level:0},{x:2309,y:3669,level:0},{x:2332,y:3659,level:0},{x:2612,y:3658,level:0},{x:2643,y:3679,level:0},{x:2680,y:3676,level:0},{x:2712,y:3653,level:0},{x:2696,y:3695,level:0},{x:2756,y:3651,level:0},{x:2972,y:3682,level:0},{x:2999,y:3671,level:0},{x:2956,y:3705,level:0},{x:2965,y:3740,level:0},{x:3088,y:3678,level:0},{x:3107,y:3653,level:0},{x:3187,y:3661,level:0},{x:3142,y:3656,level:0},{x:3220,y:3667,level:0},{x:3210,y:3695,level:0},{x:3280,y:3664,level:0},{x:3315,y:3704,level:0},{x:3353,y:3664,level:0},{x:3378,y:3699,level:0},{x:3437,y:3682,level:0},{x:3423,y:3706,level:0},{x:3511,y:3670,level:0},{x:3470,y:3710,level:0},{x:2666,y:3717,level:0},{x:2686,y:3727,level:0},{x:2725,y:3751,level:0},{x:2744,y:3735,level:0},{x:2975,y:3762,level:0},{x:2985,y:3715,level:0},{x:3060,y:3767,level:0},{x:3046,y:3752,level:0},{x:3104,y:3745,level:0},{x:3116,y:3769,level:0},{x:3153,y:3744,level:0},{x:3193,y:3739,level:0},{x:3213,y:3756,level:0},{x:3255,y:3740,level:0},{x:3342,y:3732,level:0},{x:3367,y:3766,level:0},{x:3432,y:3752,level:0},{x:3430,y:3717,level:0},{x:3506,y:3734,level:0},{x:2737,y:3796,level:0},{x:2185,y:3637,level:0},{x:2960,y:3824,level:0},{x:2999,y:3791,level:0},{x:3059,y:3833,level:0},{x:3051,y:3804,level:0},{x:3101,y:3783,level:0},{x:3128,y:3822,level:0},{x:3151,y:3795,level:0},{x:3193,y:3783,level:0},{x:3250,y:3821,level:0},{x:3208,y:3792,level:0},{x:3363,y:3807,level:0},{x:3349,y:3823,level:0},{x:2958,y:3858,level:0},{x:2990,y:3883,level:0},{x:3037,y:3870,level:0},{x:3055,y:3895,level:0},{x:3088,y:3891,level:0},{x:3127,y:3891,level:0},{x:3157,y:3865,level:0},{x:3195,y:3877,level:0},{x:3250,y:3843,level:0},{x:3252,y:3887,level:0},{x:3294,y:3865,level:0},{x:3317,y:3896,level:0},{x:3383,y:3893,level:0},{x:3336,y:3898,level:0},{x:2971,y:3929,level:0},{x:2990,y:3948,level:0},{x:3055,y:3915,level:0},{x:3060,y:3941,level:0},{x:3128,y:3913,level:0},{x:3110,y:3954,level:0},{x:3155,y:3924,level:0},{x:3181,y:3944,level:0},{x:3244,y:3907,level:0},{x:3242,y:3956,level:0},{x:3306,y:3947,level:0},{x:3275,y:3915,level:0},{x:3388,y:3930,level:0},{x:3429,y:3924,level:0},{x:2901,y:3356,level:0},{x:2915,y:3335,level:0},{x:2972,y:3342,level:0},{x:2976,y:3386,level:0},{x:3027,y:3365,level:0},{x:3050,y:3348,level:0},{x:3125,y:3371,level:0},{x:3081,y:3363,level:0},{x:3158,y:3376,level:0},{x:3140,y:3343,level:0},{x:3243,y:3378,level:0},{x:3240,y:3351,level:0},{x:3312,y:3376,level:0},{x:3304,y:3335,level:0},{x:3352,y:3381,level:0},{x:3358,y:3353,level:0},{x:3438,y:3349,level:0},{x:3408,y:3390,level:0},{x:3474,y:3385,level:0},{x:3485,y:3362,level:0},{x:2915,y:3302,level:0},{x:2917,y:3271,level:0},{x:2976,y:3274,level:0},{x:2976,y:3316,level:0},{x:3033,y:3286,level:0},{x:3066,y:3322,level:0},{x:3128,y:3310,level:0},{x:3129,y:3268,level:0},{x:3188,y:3317,level:0},{x:3146,y:3312,level:0},{x:3210,y:3305,level:0},{x:3242,y:3268,level:0},{x:3265,y:3300,level:0},{x:3309,y:3298,level:0},{x:3347,y:3273,level:0},{x:3349,y:3312,level:0},{x:3450,y:3276,level:0},{x:3422,y:3302,level:0},{x:3488,y:3270,level:0},{x:3478,y:3292,level:0},{x:3538,y:3311,level:0},{x:3582,y:3312,level:0},{x:2920,y:3249,level:0},{x:2932,y:3216,level:0},{x:2982,y:3203,level:0},{x:2997,y:3241,level:0},{x:3042,y:3251,level:0},{x:3019,y:3242,level:0},{x:3091,y:3258,level:0},{x:3122,y:3227,level:0},{x:3137,y:3212,level:0},{x:3135,y:3257,level:0},{x:3210,y:3205,level:0},{x:3263,y:3253,level:0},{x:3271,y:3204,level:0},{x:3323,y:3225,level:0},{x:3486,y:3245,level:0},{x:3519,y:3246,level:0},{x:2986,y:3191,level:0},{x:2997,y:3149,level:0},{x:3028,y:3171,level:0},{x:3011,y:3195,level:0},{x:3119,y:3167,level:0},{x:3083,y:3155,level:0},{x:3146,y:3170,level:0},{x:3195,y:3163,level:0},{x:3240,y:3161,level:0},{x:3236,y:3193,level:0},{x:3272,y:3156,level:0},{x:3293,y:3183,level:0},{x:3391,y:3180,level:0},{x:3350,y:3162,level:0},{x:3418,y:3164,level:0},{x:3394,y:3149,level:0},{x:3465,y:3140,level:0},{x:3210,y:3092,level:0},{x:3257,y:3117,level:0},{x:3304,y:3126,level:0},{x:3303,y:3077,level:0},{x:3378,y:3078,level:0},{x:3344,y:3112,level:0},{x:3429,y:3106,level:0},{x:3410,y:3079,level:0},{x:3483,y:3108,level:0},{x:3509,y:3088,level:0},{x:3171,y:3028,level:0},{x:3189,y:3047,level:0},{x:3235,y:3048,level:0},{x:3215,y:3020,level:0},{x:3303,y:3050,level:0},{x:3320,y:3013,level:0},{x:3355,y:3044,level:0},{x:3383,y:3019,level:0},{x:3419,y:3017,level:0},{x:3422,y:3046,level:0},{x:3468,y:3044,level:0},{x:3509,y:3025,level:0},{x:3170,y:2982,level:0},{x:3142,y:3003,level:0},{x:3225,y:2986,level:0},{x:3256,y:2953,level:0},{x:3289,y:2957,level:0},{x:3319,y:2990,level:0},{x:3376,y:2988,level:0},{x:3346,y:2958,level:0},{x:3404,y:2992,level:0},{x:3442,y:2955,level:0},{x:3170,y:2914,level:0},{x:3177,y:2888,level:0},{x:3245,y:2935,level:0},{x:3205,y:2895,level:0},{x:3296,y:2891,level:0},{x:3316,y:2930,level:0},{x:3361,y:2921,level:0},{x:3373,y:2898,level:0},{x:3423,y:2916,level:0},{x:3434,y:2888,level:0},{x:3218,y:2843,level:0},{x:3247,y:2866,level:0},{x:3290,y:2840,level:0},{x:3321,y:2848,level:0},{x:3390,y:2841,level:0},{x:3341,y:2836,level:0},{x:3376,y:2790,level:0},{x:3351,y:2781,level:0},{x:3401,y:2758,level:0},{x:3359,y:2753,level:0},{x:2703,y:3204,level:0},{x:2746,y:3232,level:0},{x:2772,y:3217,level:0},{x:2805,y:3204,level:0},{x:2743,y:3174,level:0},{x:2734,y:3144,level:0},{x:2802,y:3156,level:0},{x:2762,y:3172,level:0},{x:2843,y:3153,level:0},{x:2874,y:3173,level:0},{x:2912,y:3168,level:0},{x:2906,y:3141,level:0},{x:2763,y:3125,level:0},{x:2786,y:3075,level:0},{x:2846,y:3078,level:0},{x:2831,y:3119,level:0},{x:2912,y:3116,level:0},{x:2881,y:3073,level:0},{x:2761,y:3057,level:0},{x:2779,y:3023,level:0},{x:2869,y:3026,level:0},{x:2835,y:3025,level:0},{x:2930,y:3029,level:0},{x:2901,y:3031,level:0},{x:2791,y:2969,level:0},{x:2757,y:2949,level:0},{x:2916,y:2992,level:0},{x:2881,y:2968,level:0},{x:2970,y:2979,level:0},{x:2958,y:2996,level:0},{x:2804,y:2924,level:0},{x:2793,y:2893,level:0},{x:2858,y:2890,level:0},{x:2841,y:2934,level:0},{x:2920,y:2888,level:0},{x:2932,y:2933,level:0},{x:2960,y:2928,level:0},{x:2964,y:2908,level:0},{x:3082,y:3475,level:0},{x:2778,y:3583,level:0},{x:3265,y:3270,level:0},{x:3508,y:3673,level:0},{x:2864,y:3589,level:0}]},e.arc_compass={id:400,type:"compass",tier:"master",text:["The compass shows where you need to go on the arc."],challenge:[{type:"wizard"},{type:"lockbox"},{type:"towers"}],spots:[{x:1868,y:11649,level:0},{x:1904,y:11604,level:0},{x:1879,y:11559,level:0},{x:1812,y:11620,level:0},{x:2349,y:11182,level:0},{x:2283,y:11163,level:0},{x:2265,y:11223,level:0},{x:2323,y:11222,level:0},{x:2106,y:11279,level:0},{x:2069,y:11338,level:0},{x:2093,y:11354,level:0},{x:2117,y:11313,level:0},{x:2091,y:11296,level:0},{x:2449,y:11564,level:0},{x:2506,y:11593,level:0},{x:2508,y:11605,level:0},{x:2494,y:11553,level:0},{x:1779,y:11993,level:0},{x:1759,y:11986,level:0},{x:1759,y:11966,level:0},{x:1771,y:11919,level:0},{x:2040,y:11800,level:0},{x:2073,y:11813,level:0},{x:2035,y:11823,level:0},{x:2004,y:11801,level:0},{x:1966,y:11814,level:0},{x:1939,y:11801,level:0},{x:2278,y:11503,level:0},{x:2282,y:11464,level:0},{x:2193,y:11480,level:0},{x:2089,y:11432,level:0}]},e.compass=[e.gielinor_compass,e.arc_compass],e.simple=[{id:0,type:"simple",tier:"easy",text:["Search the drawers of Hild and Penda's house in Burthorpe."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2914,y:3521},botright:{x:2914,y:3521}}}},{id:2,type:"simple",tier:"easy",text:["Search the drawers found upstairs in the Westernmost Inn of East Ardougne."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2575,y:3326},botright:{x:2575,y:3326}}}},{id:65,type:"simple",tier:"easy",text:["Search the crates outside the bank in the north of east-ardougne"],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2620,y:3336},botright:{x:2620,y:3336}}}},{id:66,type:"simple",tier:"easy",text:["Search the drawers in a house in Catherby."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2830,y:3448},botright:{x:2830,y:3448}}}},{id:67,type:"simple",tier:"easy",text:["Search the crates in the chicken coop in the farm north of Port Sarim."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3018,y:3287},botright:{x:3018,y:3287}}}},{id:68,type:"simple",tier:"easy",text:["Speak to Hans to solve the clue."],solution:{type:"talkto",spots:[{range:{origin:{x:3202,y:3205,level:0},size:{x:20,y:28}},description:"at Lumbridge Castle"}],npc:"Hans"}},{id:69,type:"simple",tier:"easy",text:["Search the drawers above the shops in Varrock."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:3206,y:3419},botright:{x:3206,y:3419}}}},{id:71,type:"simple",tier:"easy",text:["Search chests found in the upstairs of shops in Port Sarim."],solution:{type:"search",entity:"Chest",spot:{level:1,topleft:{x:3016,y:3205},botright:{x:3016,y:3205}}}},{id:72,type:"simple",tier:"easy",text:["Search the drawers on the first floor of a building overlooking Ardougne market."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2655,y:3323},botright:{x:2655,y:3323}}}},{id:73,type:"simple",tier:"easy",text:["Search the drawers in Ivy's house in Taverley."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2914,y:3448},botright:{x:2914,y:3448}}}},{id:74,type:"simple",tier:"easy",text:["Search the crates in Canifis."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3509,y:3497},botright:{x:3509,y:3497}}}},{id:75,type:"simple",tier:"easy",text:["Search for a crate on the ground floor of a house in Seers' Village."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2699,y:3470},botright:{x:2699,y:3470}}}},{id:76,type:"simple",tier:"easy",text:["Search through chests found in the upstairs of houses in eastern Falador."],solution:{type:"search",entity:"Closed Chest",spot:{level:1,topleft:{x:3041,y:3364},botright:{x:3041,y:3364}}}},{id:78,type:"simple",tier:"easy",text:["Search the chests in the Dwarven Mine."],solution:{type:"search",entity:"Chest",spot:{level:0,topleft:{x:3e3,y:9798},botright:{x:3e3,y:9798}}}},{id:79,type:"simple",tier:"easy",text:["Search the drawers in a house in Draynor Village."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:3097,y:3277},botright:{x:3097,y:3277}}}},{id:80,type:"simple",tier:"easy",text:["Search for a crate in Varrock Palace."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3224,y:3492},botright:{x:3224,y:3492}}}},{id:81,type:"simple",tier:"easy",text:["Search the boxes in the house in Al Kharid with racks of silk."],solution:{type:"search",entity:"Boxes",spot:{level:0,topleft:{x:3289,y:3202},botright:{x:3289,y:3202}}}},{id:82,type:"simple",tier:"easy",text:["Search the boxes in the house near the south entrance of Varrock."],solution:{type:"search",entity:"Boxes",spot:{level:0,topleft:{x:3203,y:3384},botright:{x:3203,y:3384}}}},{id:83,type:"simple",tier:"easy",text:["Search the crates near a cart in Varrock."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3226,y:3452},botright:{x:3226,y:3452}}}},{id:84,type:"simple",tier:"easy",text:["Look in the ground floor crates of houses in Falador."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3029,y:3355},botright:{x:3029,y:3355}}}},{id:85,type:"simple",tier:"easy",text:["Search the crates in Draynor Manor."],solution:{type:"search",entity:"Crate",spot:{level:2,topleft:{x:3106,y:3369},botright:{x:3106,y:3369}}}},{id:86,type:"simple",tier:"easy",text:["Search for a crate in a building in Hemenster."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2636,y:3453},botright:{x:2636,y:3453}}}},{id:87,type:"simple",tier:"easy",text:["Search the crates in yard of Citharede Abbey."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3415,y:3158},botright:{x:3415,y:3158}}}},{id:88,type:"simple",tier:"easy",text:["Speak to the staff of Sinclair Mansion."],solution:{type:"talkto",spots:[{range:{origin:{x:2736,y:3574,level:0},size:{x:2,y:7}},description:"in Sinclair Mansion"}],npc:"Louisa"}},{id:89,type:"simple",tier:"easy",text:["Search in the south-east corner of the Artisan Dwarves' workshop in Falador."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3060,y:3334},botright:{x:3060,y:3334}}}},{id:90,type:"simple",tier:"easy",text:["Search through some drawers in the upstairs of a house in Rimmington."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2970,y:3213},botright:{x:2970,y:3213}}}},{id:91,type:"simple",tier:"easy",text:["Search upstairs in the houses of Seers' Village for some drawers."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2716,y:3471},botright:{x:2716,y:3471}}}},{id:92,type:"simple",tier:"easy",text:["Search the crates in a house in Yanille that has a piano."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2598,y:3105},botright:{x:2598,y:3105}}}},{id:93,type:"simple",tier:"easy",text:["Search the drawers in the ground floor of a shop in Yanille."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2570,y:3085},botright:{x:2570,y:3085}}}},{id:95,type:"simple",tier:"easy",text:["Search the boxes in one of the tents in Al Kharid."],solution:{type:"search",entity:"Boxes",spot:{level:0,topleft:{x:3308,y:3206},botright:{x:3308,y:3206}}}},{id:96,type:"simple",tier:"easy",text:["Search the crate near a cart in Port Khazard."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2660,y:3149},botright:{x:2660,y:3149}}}},{id:99,type:"simple",tier:"easy",text:["Dig near some giant mushrooms behind the Grand Tree."],solution:{type:"dig",spot:{x:2459,y:3505,level:0},description:"behind the giant mushrooms"}},{id:100,type:"simple",tier:"easy",text:["Search a barrel outside the Pick and Lute inn, in Taverley."],solution:{type:"search",entity:"Barrel",spot:{level:0,topleft:{x:2886,y:3449},botright:{x:2886,y:3449}}}},{id:101,type:"simple",tier:"easy",text:["Search the crates in the house at the north end of the East Ardougne Market."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2658,y:3323},botright:{x:2658,y:3323}}}},{id:102,type:"simple",tier:"easy",text:["Search a barrel outside the mill, in Taverley."],solution:{type:"search",entity:"Barrel",spot:{level:0,topleft:{x:2894,y:3418},botright:{x:2894,y:3418}}}},{id:103,type:"simple",tier:"easy",text:["Speak to Gaius in Burthorpe."],solution:{type:"talkto",npc:"Gaius",spots:[{range:{origin:{x:2926,y:3546,level:0},size:{x:6,y:7}},description:"in Burthorpe"}]}},{id:105,type:"simple",tier:"easy",text:["Search a barrel east of Challenge Mistress Fara, in Burthorpe."],solution:{type:"search",entity:"Barrel",spot:{level:0,topleft:{x:2912,y:3530},botright:{x:2912,y:3530}}}},{id:106,type:"simple",tier:"easy",text:["Speak to Arhein in Catherby."],solution:{type:"talkto",npc:"Arhein",spots:[{range:{origin:{x:2802,y:3425,level:0},size:{x:3,y:3}},description:"in Catherby"}]}},{id:107,type:"simple",tier:"easy",text:["Talk to the bartender of the Rusty Anchor in Port Sarim."],solution:{type:"talkto",npc:"Bartender",spots:[{range:{origin:{x:3044,y:3255,level:0},size:{x:3,y:4}},description:"in Port Sarim"}]}},{id:108,type:"simple",tier:"easy",text:["Search the crates in Horvik's armoury."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3228,y:3433},botright:{x:3228,y:3433}}}},{id:110,type:"simple",tier:"easy",text:["Search the boxes in the Goblin house near Lumbridge."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3247,y:3244},botright:{x:3247,y:3244}}}},{id:111,type:"simple",tier:"easy",text:["Search the drawers in Falador's chainmail shop."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2969,y:3311},botright:{x:2969,y:3311}}}},{id:112,type:"simple",tier:"easy",text:["Search the chests in Al Kharid palace."],solution:{type:"search",entity:"Ornate chest",spot:{level:0,topleft:{x:3301,y:3164},botright:{x:3301,y:3164}}}},{id:113,type:"simple",tier:"easy",text:["Search the crates just outside the armour shop in East Ardougne."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2654,y:3299},botright:{x:2654,y:3299}}}},{id:115,type:"simple",tier:"easy",text:["Search the crates in East Ardougne's general store."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2615,y:3291},botright:{x:2615,y:3291}}}},{id:116,type:"simple",tier:"easy",text:["Speak to Ellis in Al Kharid."],solution:{type:"talkto",npc:"Ellis",spots:[{range:{origin:{x:3270,y:3193,level:0},size:{x:7,y:6}},description:"in Al Kharid"}]}},{id:117,type:"simple",tier:"easy",text:["Search the chest in the left-hand tower of Camelot Castle."],solution:{type:"search",entity:"Closed Chest",spot:{level:2,topleft:{x:2748,y:3495},botright:{x:2748,y:3495}}}},{id:118,type:"simple",tier:"easy",text:["Search the chest in the Duke of Lumbridge's bedroom."],solution:{type:"search",entity:"Closed Chest",spot:{level:1,topleft:{x:3209,y:3218},botright:{x:3209,y:3218}}}},{id:119,type:"simple",tier:"easy",text:["Search the crates near the Lumbridge Market."],solution:{type:"search",entity:"Crates",spot:{level:0,topleft:{x:3192,y:3257},botright:{x:3192,y:3257}}}},{id:121,type:"simple",tier:"easy",text:["Speak to Doric, who lives north of Falador."],solution:{type:"talkto",npc:"Doric",spots:[{range:{origin:{x:2955,y:3435,level:0},size:{x:9,y:9}},description:"north of Falador"}]}},{id:123,type:"simple",tier:"easy",text:["Search the drawers upstairs in the bank to the East of Varrock."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:3250,y:3420},botright:{x:3250,y:3420}}}},{id:124,type:"simple",tier:"easy",text:["Talk to Zeke in Al Kharid."],solution:{type:"talkto",npc:"Zeke",spots:[{range:{origin:{x:3284,y:3186,level:0},size:{x:6,y:7}},description:"in Al Kharid"}]}},{id:125,type:"simple",tier:"easy",text:["Speak to the bartender of the Blue Moon Inn in Varrock."],solution:{type:"talkto",npc:"Bartender",spots:[{range:{origin:{x:3223,y:3396,level:0},size:{x:4,y:7}},description:"in the Blue Moon Inn"}]}},{id:126,type:"simple",tier:"easy",text:["Search the crate in the left-hand tower of Lumbridge castle."],solution:{type:"search",entity:"Crate",spot:{level:1,topleft:{x:3228,y:3212},botright:{x:3228,y:3212}}}},{id:127,type:"simple",tier:"easy",text:["Search the drawers in one of Gertrude's bedrooms."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:3156,y:3406},botright:{x:3156,y:3406}}}},{id:130,type:"simple",tier:"easy",text:["Search the drawers in Catherby's Archery Shop."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2828,y:3457},botright:{x:2828,y:3457}}}},{id:131,type:"simple",tier:"easy",text:["Search the drawers upstairs in Falador's shield shop."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2971,y:3386},botright:{x:2971,y:3386}}}},{id:132,type:"simple",tier:"easy",text:["Talk to the Squire in the White Knights' castle in Falador."],solution:{type:"talkto",npc:"Squire Asrol",spots:[{range:{origin:{x:2970,y:3339,level:0},size:{x:8,y:8}},description:"in the couryard of the White Knight's castle"}]}},{id:133,type:"simple",tier:"easy",text:["Search the crates of Falador's general store."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2955,y:3390},botright:{x:2955,y:3390}}}},{id:134,type:"simple",tier:"easy",text:["Search the crates in the Barbarian Village helmet shop."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3073,y:3430},botright:{x:3073,y:3430}}}},{id:135,type:"simple",tier:"easy",text:["Search the crates in the Port Sarim fishing shop."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3012,y:3222},botright:{x:3012,y:3222}}}},{id:136,type:"simple",tier:"easy",text:["Speak to Sir Kay in Camelot Castle."],solution:{type:"talkto",npc:"Sir Kay",spots:[{range:{origin:{x:2752,y:3493,level:0},size:{x:13,y:11}},description:"in the courtyard of Camelot Castle"}]}},{id:137,type:"simple",tier:"easy",text:["Speak to Ned in Draynor Village."],solution:{type:"talkto",npc:"Ned",spots:[{range:{origin:{x:3097,y:3255,level:0},size:{x:6,y:6}},description:"in Draynor"}]}},{id:138,type:"simple",tier:"easy",text:["Speak to the Challenge Mistress in Burthorpe."],solution:{type:"talkto",npc:"Mission Mistress Fara",spots:[{range:{origin:{x:2887,y:3529,level:0},size:{x:3,y:3}},description:"in Burthorpe"}]}},{id:94,type:"simple",tier:"medium",text:["Speak to Donovan, the family handyman."],solution:{type:"talkto",spots:[{range:{origin:{x:2740,y:3577,level:1},size:{x:5,y:6}},description:"at Sinclair Mansion"}],npc:"Donovan the Family Handyman"}},{id:97,type:"simple",tier:"medium",text:["Speak to Brimstail."],challenge:[{type:"challengescroll",question:"What is 19 to the power of 3?",answers:[{answer:6859}]}],solution:{type:"talkto",spots:[{range:{origin:{x:2405,y:9815,level:0},size:{x:9,y:8}},description:"in Brimstail's cave"}],npc:"Brimstail"}},{id:98,type:"simple",tier:"medium",text:["Speak to Roavar."],solution:{type:"talkto",npc:"Roavar",spots:[{range:{origin:{x:3489,y:3471,level:0},size:{x:7,y:5}},description:"in Canifis' bar"}]}},{id:109,type:"simple",tier:"medium",text:["Speak to Ulizius."],solution:{type:"talkto",npc:"Ulizius",spots:[{range:{origin:{x:3440,y:3458,level:0},size:{x:7,y:7}},description:"near the Swamp Gate"}]}},{id:114,type:"simple",tier:"medium",text:["Speak to Hajedy."],solution:{type:"talkto",npc:"Hajedy",spots:[{range:{origin:{x:2779,y:3210,level:0},size:{x:4,y:4}},description:"in Brimhaven"}]}},{id:120,type:"simple",tier:"medium",text:["Speak to Kangai Mau."],solution:{type:"talkto",npc:"Kangai Mau",spots:[{range:{origin:{x:2790,y:3181,level:0},size:{x:6,y:5}},description:"in Brimhaven"}]}},{id:122,type:"simple",tier:"medium",text:["Speak to a referee."],challenge:[{type:"challengescroll",question:"What is 57 x 89 + 23?",answers:[{answer:5096}]}],solution:{type:"talkto",npc:"Gnome ball referee",spots:[{range:{origin:{x:2384,y:3487,level:0},size:{x:3,y:3}},description:"at the gate of the Gnomeball Field"}]}},{id:128,type:"simple",tier:"medium",text:["Speak to Hazelmere."],challenge:[{type:"challengescroll",question:"What is 19 to the power of 3?",answers:[{answer:6859}]}],solution:{type:"talkto",npc:"Hazelmere",spots:[{range:{origin:{x:2675,y:3085,level:1},size:{x:5,y:5}},description:"east of Yanille"}]}}],e.cryptic=[{id:179,type:"cryptic",tier:"easy",text:["A crate found in the tower of a church is your next location.","A crate in the tower of a church is your next location."],solution:{type:"search",entity:"Crate",spot:{level:1,topleft:{x:2612,y:3306},botright:{x:2612,y:3306}}}},{id:180,type:"cryptic",tier:"easy",text:["One of the sailors in Port Sarim is your next destination."],solution:{type:"talkto",npc:"Captain Tobias.",spots:[{range:{origin:{x:3025,y:3215,level:0},size:{x:4,y:7}},description:"at Port Sarim"}]}},{id:182,type:"cryptic",tier:"easy",text:["Someone watching Het's Oasis is your next destination."],solution:{type:"talkto",spots:[{range:{origin:{x:3371,y:3271,level:0},size:{x:8,y:8}},description:"north of Het's Oasis"}],npc:"Jeed"}},{id:181,type:"cryptic",tier:"medium",text:["You'll need to look for a city with a central fountain. Look for a locked chest in the city's chapel."],solution:{type:"search",spot:{level:0,topleft:{x:3256,y:3487},botright:{x:3256,y:3487}},entity:"Closed Chest",key:{instructions:"The chest is locked! An inscription on the chest says: Property of Clock Tower Monastery.",answer:"Kill a monk in the Kandarin Monastery.",area:{origin:{x:2591,y:3204,level:0},size:{x:31,y:15}}}}},{id:183,type:"cryptic",tier:"medium",text:["The socks in these drawers are holier than thine, according to the tonsured owners."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:3056,y:3497},botright:{x:3056,y:3497}},key:{instructions:"The chest has a crude note on top. It reads 'You'll never get these drawers open now! - Zamorak Monk.'",answer:"Kill a Monk of Zamorak in the Chaos Temple near the Goblin Village.",area:{origin:{x:2946,y:3473,level:0},size:{x:9,y:6}}}}},{id:184,type:"cryptic",tier:"medium",text:["Probably filled with wizards' socks."],solution:{type:"search",entity:"Cupboard",spot:{level:2,topleft:{x:3113,y:3153},botright:{x:3113,y:3153}},key:{instructions:"This cupboard is locked! One of the Spellwisps might have stolen the key. ",answer:"Kill a Spellwisp north west of the tower.",area:{origin:{x:3066,y:3168,level:0},size:{x:16,y:16}}}}},{id:185,type:"cryptic",tier:"medium",text:["In a village made of bamboo, look for some crates under one of the houses."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2800,y:3074},botright:{x:2800,y:3074}}}},{id:186,type:"cryptic",tier:"medium",text:["The owner of this crate has a hunch that he put more than fish inside."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2770,y:3172},botright:{x:2770,y:3172}}}},{id:187,type:"cryptic",tier:"medium",text:["In a town where the guards are armed with maces, search the upstairs rooms of the public house."],solution:{type:"search",spot:{level:1,topleft:{x:2575,y:3326},botright:{x:2575,y:3326}},entity:"Drawers",key:{instructions:"The drawers are locked! A note left on the drawers reads: Beware of dog!",answer:"Kill a guard dog.",area:{origin:{x:2623,y:3307,level:0},size:{x:25,y:24}}}}},{id:188,type:"cryptic",tier:"medium",text:["Try not to step on any aquatic nasties while searching this crate."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2764,y:3273},botright:{x:2764,y:3273}}}},{id:189,type:"cryptic",tier:"medium",text:["After a hard day of spraying back the vegetation, you mite want to pop to the nearby forge and search the crates."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2399,y:4471},botright:{x:2399,y:4471}}}},{id:190,type:"cryptic",tier:"medium",text:["For any aspiring mage, I'm sure searching this bookcase will be a rewarding experience."],solution:{type:"search",entity:"Bookcase",spot:{level:1,topleft:{x:3366,y:3319},botright:{x:3366,y:3319}}}},{id:191,type:"cryptic",tier:"medium",text:["A town with a different sort of night-life is your destination. Search for some crates in one of the houses."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3498,y:3507},botright:{x:3498,y:3507}}}},{id:192,type:"cryptic",tier:"medium",text:["Hay! Stop for a bit and admire the scenery, just like the tourism promoter says."],solution:{type:"search",entity:"Hay bales",spot:{level:0,topleft:{x:2524,y:3438},botright:{x:2524,y:3438}}}},{id:193,type:"cryptic",tier:"medium",text:["North of the best monkey restaurant on Karamja, look for the centre of the triangle of boats and search there."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2905,y:3189},botright:{x:2905,y:3189}}}},{id:194,type:"cryptic",tier:"medium",text:["Go to the village being attacked by trolls and search the drawers in one of the houses."],solution:{type:"search",spot:{level:0,topleft:{x:2928,y:3552},botright:{x:2928,y:3552}},entity:"Drawers",key:{instructions:"The drawers are locked! A note on the top of the drawer reads: Wait till I get my hands on Penda; he's nicked the key again!",answer:"Pickpocket Penda in the hour north of Heroes's Guild.",area:{origin:{x:2912,y:3521,level:0},size:{x:5,y:6}}}}},{id:195,type:"cryptic",tier:"medium",text:["In a town where everyone has perfect vision, seek some locked drawers in a house that sits opposite a workshop."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2709,y:3478},botright:{x:2709,y:3478}},key:{instructions:"Don't forget to feed the chickens",answer:"Kill a chicken.",area:{origin:{x:2729,y:3555,level:0},size:{x:11,y:10}}}}},{id:196,type:"cryptic",tier:"medium",text:["Being this far north has meant that these crates have escaped being battled over."],solution:{type:"search",spot:{level:0,topleft:{x:2519,y:3259},botright:{x:2519,y:3259}},entity:"Crates"}},{id:197,type:"cryptic",tier:"medium",text:["After trawling for bars, go to the nearest place to smith them and dig by the door."],solution:{type:"dig",spot:{x:2656,y:3160,level:0},description:"in front of the door"}},{id:198,type:"cryptic",tier:"medium",text:["Sophind yourself some treasure by searching these boxes."],solution:{type:"search",spot:{level:0,topleft:{x:3280,y:2787},botright:{x:3280,y:2787}},entity:"Crate"}},{id:199,type:"cryptic",tier:"medium",text:["Dig here if you are not feeling too well after travelling through the desert. Ali heartily recommends it."],solution:{type:"dig",spot:{x:3358,y:2971,level:0},description:"next to the well"}},{id:200,type:"cryptic",tier:"medium",text:["You'll need to have Doug Deep into the distant past to get to these sacks"],solution:{type:"search",spot:{level:0,topleft:{x:3155,y:5727},botright:{x:3155,y:5727}},entity:"Sacks"}},{id:201,type:"cryptic",tier:"medium",text:["This crate holds a better reward than a broken arrow."],solution:{type:"search",spot:{level:0,topleft:{x:2671,y:3437},botright:{x:2671,y:3437}},entity:"Crate"}},{id:202,type:"cryptic",tier:"medium",text:["The rock cakes to the south are definitely more edible than the two rocks I buried the treasure between."],solution:{type:"dig",spot:{x:2513,y:3041,level:0},description:"between the rocks"}},{id:203,type:"cryptic",tier:"medium",text:["Search the upstairs drawers of a house in a village where pirates are known to have a good time."],solution:{type:"search",spot:{level:1,topleft:{x:2809,y:3165},botright:{x:2809,y:3165}},entity:"Drawers",key:{instructions:"Shiver me timbers!",answer:"Kill a pirate in Brimhaven",area:{origin:{x:2766,y:3167,level:0},size:{x:45,y:35}}}}},{id:204,type:"cryptic",tier:"medium",text:["Don't skip here, it's too muddy. You'll feel like a star if you dig here, though."],solution:{type:"dig",spot:{x:3e3,y:3110,level:0},description:"on top of the shellfish"}},{id:205,type:"cryptic",tier:"medium",text:["This crate is mine, all mine, even if it is in the middle of the desert."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3289,y:3022},botright:{x:3289,y:3022}}}},{id:206,type:"cryptic",tier:"medium",text:["The treasure is buried in a small building full of bones. Here's a Hint: It's not near a graveyard."],solution:{type:"dig",spot:{x:3356,y:3507,level:0},description:"in the western shed"}},{id:207,type:"cryptic",tier:"medium",text:["By the town of the dead, walk south down a rickety bridge, then dig near the spotted fungus."],solution:{type:"dig",spot:{x:3644,y:3494,level:0},description:"next to the mushroom"}},{id:208,type:"cryptic",tier:"medium",text:["This cupboard has treasure, pirate pots and corsair cutlery!"],solution:{type:"search",entity:"Cupboard",spot:{level:0,topleft:{x:2811,y:3160},botright:{x:2811,y:3160}}}},{id:209,type:"cryptic",tier:"medium",text:["The dead, red dragon watches over this chest. He must really dig the view."],solution:{type:"search",spot:{level:0,topleft:{x:3354,y:3349},botright:{x:3354,y:3349}},entity:"Closed chest",key:{instructions:"The chest is locked!  Crude graffiti on the chest reads: 'Barbarians rule, okay!'",answer:"Kill a Barbarian in Barbarian Village.",area:{origin:{x:3073,y:3412,level:0},size:{x:22,y:23}}}}},{id:210,type:"cryptic",tier:"medium",text:["This crate clearly marks the end of the line for coal."],solution:{type:"search",spot:{level:0,topleft:{x:2691,y:3508},botright:{x:2691,y:3508}},entity:"Crate"}},{id:211,type:"cryptic",tier:"medium",text:["Go to this building to be illuminated, and check the drawers while you are there."],solution:{type:"search",spot:{level:1,topleft:{x:2512,y:3641},botright:{x:2512,y:3641}},entity:"Drawers",key:{instructions:"The drawers are locked! A note on the top says 'I'm guarding the key at the market'.",answer:"Kill a Fremennik market guard in Relekka.",area:{origin:{x:2635,y:3669,level:0},size:{x:18,y:18}}}}},{id:212,type:"cryptic",tier:"medium",text:["Find a crate close to the monks that like to paaarty!"],solution:{type:"search",spot:{level:0,topleft:{x:2614,y:3204},botright:{x:2614,y:3204}},entity:"Crate"}},{id:213,type:"cryptic",tier:"medium",text:["In a town where wizards are known to gather, search upstairs in a large house to the north."],solution:{type:"search",entity:"Closed chest",spot:{level:1,topleft:{x:2593,y:3108},botright:{x:2593,y:3108}},key:{instructions:"Stand by your man.",answer:"Kill the man downstairs.",area:{origin:{x:2590,y:3103,level:0},size:{x:9,y:6}}}}},{id:214,type:"cryptic",tier:"medium",text:["This temple is rather sluggish. The chest just inside the entrance, however, is filled with goodies."],solution:{type:"search",spot:{level:0,topleft:{x:2698,y:9684},botright:{x:2698,y:9684}},entity:"Chest"}},{id:215,type:"cryptic",tier:"medium",text:["The gnomes' nearby cart must have collapsed under the weight of all the treasure in these boxes!"],solution:{type:"search",spot:{level:0,topleft:{x:2397,y:3355},botright:{x:2397,y:3355}},entity:"Gnome crates"}},{id:217,type:"cryptic",tier:"medium",text:["Brush off the sand and dig in the quarry. There is a wheely handy barrow to the east. Don't worry, it's coal to dig there - in fact, it's all oclay."],solution:{type:"dig",spot:{x:3176,y:2916,level:0},description:"west of the cart"}},{id:218,type:"cryptic",tier:"medium",text:["Observe: In the crate just North of the stairs leading down, you will find the answer."],solution:{type:"search",spot:{level:0,topleft:{x:2438,y:3165},botright:{x:2438,y:3165}},entity:"Crate"}},{id:220,type:"cryptic",tier:"medium",text:["In a town where thieves steal from stalls, search for some drawers in the upstairs of a house near the bank."],solution:{type:"search",spot:{level:1,topleft:{x:2610,y:3324},botright:{x:2610,y:3324}},entity:"Drawers",key:{instructions:"It's a guard's life",answer:"Kill an ardougne guard."}}},{id:222,type:"cryptic",tier:"medium",text:["While a sea view is nice, it seems this church has not seen visitors in a while. Dig outside the rim of the round window for a reward."],solution:{type:"dig",spot:{x:2992,y:3178,level:0},description:"west of the church near Port Sarim"}},{id:28,type:"cryptic",tier:"hard",text:["Covered in shadows, the centre of the circle is where you will find the answer."],solution:{type:"dig",spot:{x:3489,y:3288,level:0},description:"at the centre of Mort'ton"}},{id:30,type:"cryptic",tier:"hard",text:["Generally speaking, his nose was very bent"],solution:{type:"talkto",npc:"General Bentnoze",spots:[{range:{origin:{x:2954,y:3512,level:0},size:{x:7,y:4}},description:"in Goblin Village"}]},challenge:[{type:"slider"}]},{id:32,type:"cryptic",tier:"hard",text:["If you look closely enough, it seems that the archers have lost more than their needles."],solution:{type:"search",entity:"Haystack",spot:{level:0,topleft:{x:2671,y:3416},botright:{x:2671,y:3416}}}},{id:39,type:"cryptic",tier:"hard",text:["There is no 'worthier' lord."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{id:"default",range:{origin:{x:2185,y:3283,level:1},size:{x:3,y:3}},note:"After 'Plague's End'",description:"in Prifddinas"},{id:"after-plagues-end",range:{origin:{x:2198,y:3247,level:0},size:{x:12,y:12}},note:"Before 'Plague's End'",description:"at Iorwerth Camp"}],npc:"Lord Iorwerth"}},{id:139,type:"cryptic",tier:"hard",text:["I am head of the abbey with a cold breeze from the west.","'A bag belt only?' he asked his balding brothers"],solution:{type:"talkto",spots:[{range:{origin:{x:3055,y:3482,level:0},size:{x:5,y:6}},description:"at the Edgeville Monastery"}],npc:"Abbot Langley"}},{id:140,type:"cryptic",tier:"hard",text:["My name's a tirade, fishing is my trade, by the docks is where my fortune is made.","If a man carried my burden, he would break his back. I am not rich, but leave silver in my track. Speak to the keeper of my trail."],solution:{type:"talkto",spots:[{range:{origin:{x:3011,y:3223,level:0},size:{x:7,y:7}},description:"in the fishing shop in Port Sarim"}],npc:"Gerrant"}},{id:141,type:"cryptic",tier:"hard",text:["Often sought out by scholars of histories past, find me where words of wisdom speak volumes."],challenge:[{type:"slider"}],solution:{type:"talkto",npc:"Examiner",spots:[{range:{origin:{x:3351,y:3342,level:0},size:{x:9,y:8}},description:"in the Exam Centre"}]}},{id:142,type:"cryptic",tier:"hard",text:["A great view: watch the rapidly drying hides get splashed. Check the box you are sitting on."],solution:{type:"search",spot:{level:1,topleft:{x:2523,y:3493},botright:{x:2523,y:3493}},entity:"Boxes"}},{id:143,type:"cryptic",tier:"hard",text:["You will need to wash the old ash off of your spade when you dig here, but the only water nearby is stagnant."],solution:{type:"dig",spot:{x:2134,y:5162,level:0},description:"next to the puddle on top of the mountain on Braindeath Island"}},{id:144,type:"cryptic",tier:"hard",text:["Identify the back of this over-acting brother. (He's a long way from home.)"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3131,y:2800,level:0},size:{x:5,y:5}},description:"on the beach in Menaphos Worker District"}],npc:"Hamid"}},{id:145,type:"cryptic",tier:"hard",text:["As you desert this town, keep an eye out for a set of spines that could ruin nearby rugs: dig carefully around the greenery."],solution:{type:"dig",spot:{x:3396,y:2918,level:0},description:"next to the cacti west of Nardaah"}},{id:146,type:"cryptic",tier:"hard",text:["'Small Shoe.' Often found with rod on mushroom."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2467,y:3426,level:0},size:{x:11,y:15}},description:"at the Gnome Agility Course"}],npc:"Gnome trainer"}},{id:147,type:"cryptic",tier:"hard",text:["It seems to have reached the end of the line, and it's still empty."],solution:{type:"search",spot:{level:0,topleft:{x:3041,y:9820},botright:{x:3041,y:9820}},entity:"Mine Cart"}},{id:148,type:"cryptic",tier:"hard",text:["Read 'How to Breed Scorpions' By O.W. Thathurt."],solution:{type:"search",spot:{level:1,topleft:{x:2702,y:3409},botright:{x:2702,y:3409}},entity:"Bookcase"}},{id:149,type:"cryptic",tier:"hard",text:["Probably filled with books on magic."],solution:{type:"search",spot:{level:0,topleft:{x:3094,y:3153},botright:{x:3094,y:3153}},entity:"Bookcase"}},{id:150,type:"cryptic",tier:"hard",text:["Citric cellar."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2487,y:3487,level:1},size:{x:7,y:3}},description:"in the south-east corner on the first floor of the Grand Tree"}],npc:"Heckel Funch"}},{id:151,type:"cryptic",tier:"hard",text:["I'm sure they will let ya buy some things here, as long as you are in good 'ealth."],solution:{type:"search",spot:{level:0,topleft:{x:2340,y:3187},botright:{x:2340,y:3187}},entity:"Crate"}},{id:152,type:"cryptic",tier:"hard",text:["Mine was the strangest birth under the sun. I left the crimson sack. Yet life had not begun. Entered the world and yet was seen by none."],solution:{type:"dig",spot:{x:2832,y:9586,level:0},description:"on top of the Red spider's eggs spawn"}},{id:153,type:"cryptic",tier:"hard",text:["His head might be hollow, but the crates nearby are filled with surprises."],solution:{type:"search",spot:{level:0,topleft:{x:3478,y:3091},botright:{x:3478,y:3091}},entity:"Crate"}},{id:154,type:"cryptic",tier:"hard",text:["My giant guardians below the market streets would be fans of rock and roll, if only they could grab hold of it. Dig near my purple smoke!"],solution:{type:"dig",spot:{x:3161,y:9905,level:0},description:"next to the cauldron"}},{id:155,type:"cryptic",tier:"hard",text:["You can cook food on me, but don't cook any foodles - That would just be wrong."],solution:{type:"dig",spot:{x:2969,y:2975,level:0},description:"by the fire next to Captain Klemfoodle"}},{id:156,type:"cryptic",tier:"hard",text:["The beasts to my east snap claws and tails. The rest to my west can slide and eat fish. The force to my north will jump and they'll wail, Come dig by my fire and make a wish."],solution:{type:"dig",spot:{x:2598,y:3266,level:0},description:"next to the torch in Ardougne Zoo"}},{id:157,type:"cryptic",tier:"hard",text:["You don't need to go hopping mad - or take steps - to get to this treasure: just be totally shellfish."],solution:{type:"dig",spot:{x:2519,y:3594,level:0},description:"on top of the shell"}},{id:158,type:"cryptic",tier:"hard",text:["When you get tired of fighting, go deep, deep down until you need an antidote."],solution:{type:"search",spot:{level:0,topleft:{x:2576,y:9583},botright:{x:2576,y:9583}},entity:"Crate"}},{id:159,type:"cryptic",tier:"hard",text:["'Throat mage seeks companionship. Seek answers inside my furniture if interested.'"],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2666,y:3238},botright:{x:2666,y:3238}}}},{id:160,type:"cryptic",tier:"hard",text:["Must be full of railings"],solution:{type:"search",entity:"Boxes",spot:{level:0,topleft:{x:2576,y:3464},botright:{x:2576,y:3464}}}},{id:161,type:"cryptic",tier:"hard",text:["You will need to under-cook to solve this one."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3219,y:9617},botright:{x:3219,y:9617}}}},{id:162,type:"cryptic",tier:"hard",text:["The cheapest water for miles around, but they react badly to religious icons."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3178,y:2987},botright:{x:3178,y:2987}}}},{id:163,type:"cryptic",tier:"hard",text:["You have all of the elements available to solve this clue. Fortunately you do not have to go as far as to stand in a draft."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2723,y:9891},botright:{x:2723,y:9891}}}},{id:164,type:"cryptic",tier:"hard",text:["Try not to let yourself be dazzled when you search these drawers."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2561,y:3323},botright:{x:2561,y:3323}}}},{id:165,type:"cryptic",tier:"hard",text:["Aggie I see, Lonely and southern I feel, I am neither inside nor outside the house, yet no house would be complete without me. The treasure lies beneath me!"],solution:{type:"dig",spot:{x:3084,y:3257,level:0},description:"in front of the window"}},{id:166,type:"cryptic",tier:"hard",text:["I am a token of the greatest love. I have no beginning or end. My eye is red, I can fit like a glove. Go to the place where it's money they lend, And dig by the gate to be my friend."],solution:{type:"dig",spot:{x:3191,y:9825,level:0},description:"in front of the gate"}},{id:167,type:"cryptic",tier:"hard",text:["Navigating to this crate will be a trial."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2648,y:3662},botright:{x:2648,y:3662}}}},{id:168,type:"cryptic",tier:"hard",text:["This aviator is at the peak of his profession."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2849,y:3492,level:1},size:{x:3,y:3}},description:"in eastern Karamja"}],npc:"Captain Bleemadge"}},{id:169,type:"cryptic",tier:"hard",text:["Snah? I feel all confused, like one of those cakes."],solution:{type:"talkto",spots:[{range:{origin:{x:3202,y:3205,level:0},size:{x:20,y:28}},description:"at Lumbridge Castle"}],npc:"Hans"}},{id:170,type:"cryptic",tier:"hard",text:["My home is grey, and made of stone, A castle with a search for a meal. Hidden in some drawers I am, across from a wooden wheel."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:3213,y:3216},botright:{x:3213,y:3216}}}},{id:171,type:"cryptic",tier:"hard",text:["Surprising? I bet he is...","I bet he is..."],solution:{type:"talkto",spots:[{range:{origin:{x:3202,y:3470,level:0},size:{x:5,y:5}},description:"in Varrock Castle"}],npc:"Sir Prysin"}},{id:173,type:"cryptic",tier:"hard",text:["Four blades I have, yet draw no blood, Still I turn my prey to powder. If you are brave, come search my roof, It is there my blades are louder."],solution:{type:"search",entity:"Crate",spot:{level:2,topleft:{x:3166,y:3309},botright:{x:3166,y:3309}}}},{id:174,type:"cryptic",tier:"hard",text:["My name is like a tree, yet it is spelt with a 'g'. Come see the fur which is right near me."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3219,y:3434,level:0},size:{x:5,y:5}},description:"near Varrock's fountain"}],npc:"Wilough"}},{id:175,type:"cryptic",tier:"hard",text:["A strange little man who sells armour only to those who've proven themselves to be unafraid of dragons."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3066,y:3514,level:0},size:{x:5,y:5}},description:"in Edgeville"}],npc:"Oziach."}},{id:176,type:"cryptic",tier:"hard",text:["Come to the evil ledge, Yew know yew want to. Try not to get stung.","Come to the Try not to get stung."],solution:{type:"dig",spot:{x:3088,y:3469,level:0},description:"next to the yew tree"}},{id:178,type:"cryptic",tier:"hard",text:["When no weapons are at hand, then is the time to reflect. In Saradomin's name, redemption draws closer."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2818,y:3351},botright:{x:2818,y:3351}}}},{id:216,type:"cryptic",tier:"hard",text:["46 is my number. My body is the colour of burnt orange and crawls among those with eight. Three mouths I have, yet I cannot eat. My blinking blue eye hides my grave."],solution:{type:"dig",spot:{x:3169,y:3887,level:0},description:"on top of the sapphire spawn"}},{id:219,type:"cryptic",tier:"hard",text:["If you didn't want to be here and in danger, you should lever things well enough alone."],solution:{type:"dig",spot:{x:3154,y:3923,level:0},description:"in front of the lever in deep wilderness"}},{id:221,type:"cryptic",tier:"hard",text:["I lie lonely and forgotten in mid wilderness, Where the dead rise from their beds. Feel free to quarrel and wind me up, and dig while you shoot their heads."],solution:{type:"dig",spot:{x:3235,y:3673,level:0},description:"on top of the crossbow in the Graveyard of Shadows"}},{id:223,type:"cryptic",tier:"hard",text:["And so on, and so on, and so on. Walking from the land of many unimportant things leads to a choice of paths."],solution:{type:"dig",spot:{x:2591,y:3879,level:0},description:"at the crossoads on Etceteria"}},{id:224,type:"cryptic",tier:"hard",text:["This village has a problem with cartloads of the undead. Try checking the bookcase to find the answer."],solution:{type:"search",entity:"Bookcase",spot:{level:0,topleft:{x:2833,y:2992},botright:{x:2833,y:2992}}}}],e.emote=[{id:8,type:"emote",tier:"easy",text:["Dance in the shack in Lumbridge Swamp. Equip a bronze dagger, iron full helm and a gold ring."],area:{origin:{x:3202,y:3167,level:0},size:{x:4,y:4}},items:["Bronze Dagger","Iron full helm","Gold ring"],emotes:["Dance"],double_agent:!1,hidey_hole:{name:"Barrel (hidey-hole)",location:{x:3204,y:3169,level:0}}},{id:259,type:"emote",tier:"easy",text:["Think in the middle of the wheat field by the Lumbridge mill. Equip a sapphire necklace, polar camo legs and an oak shortbow."],area:{origin:{x:3155,y:3295,level:0},size:{x:5,y:9}},items:["Sapphire necklace","Polar camo legs","Oak shortbow"],emotes:["Think"],double_agent:!1,hidey_hole:{name:"Sack of items (hidey-hole)",location:{x:3165,y:3302,level:0}}},{id:260,type:"emote",tier:"easy",text:["Laugh at the crossroads south of Sinclair Mansion. Equip a leather cowl, amulet of strength and iron scimitar."],area:{origin:{x:2737,y:3534,level:0},size:{x:8,y:8}},items:["Leather cowl","Amulet of strength","Iron scimitar"],emotes:["Laugh"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{x:2734,y:3535,level:0}}},{id:261,type:"emote",tier:"easy",text:["Panic in the limestone mine. Equip bronze platelegs, a steel pickaxe and a steel helmet."],area:{origin:{x:3365,y:3496,level:0},size:{x:12,y:9}},items:["Bronze platelegs","Steel pickaxe","Steel helm"],emotes:["Panic"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{x:3376,y:3500,level:0}}},{id:262,type:"emote",tier:"easy",text:["Panic on the pier where you catch the Fishing Trawler. Have nothing equipped at all when you do."],area:{origin:{x:2676,y:3163,level:0},size:{x:1,y:12}},items:["Nothing"],emotes:["Panic"],double_agent:!1,hidey_hole:null},{id:263,type:"emote",tier:"easy",text:["Blow a raspberry at the monkey cage in Ardougne Zoo. Equip a studded leather body, bronze platelegs and a mud pie."],area:{origin:{x:2596,y:3272,level:0},size:{x:13,y:13}},items:["Studded leather body","Bronze platelegs","Mud pie"],emotes:["Raspberry"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{x:2599,y:3280,level:0}}},{id:264,type:"emote",tier:"easy",text:["Clap on the causeway to the Wizards' Tower. Equip an iron helmet, emerald ring and leather gloves."],area:{origin:{x:3101,y:3187,level:0},size:{x:4,y:23}},items:["Iron helmet","Emerald ring","Leather gloves"],emotes:["Clap"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{x:3099,y:3188,level:0}}},{id:265,type:"emote",tier:"easy",text:["Twirl at the crossroads north of Rimmington. Equip a Sapphire ring, yellow flowers and leather chaps."],area:{origin:{x:2953,y:3238,level:0},size:{x:4,y:6}},items:["Sapphire ring","Yellow flowers","Leather chaps"],emotes:["Twirl"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{x:2959,y:3241,level:0}}},{id:266,type:"emote",tier:"easy",text:["Blow raspberries outside the entrance to Keep Le Faye. Equip a studded leather coif, iron platebody and leather gloves."],area:{origin:{x:2755,y:3398,level:0},size:{x:9,y:8}},items:["Studded leather coif","Iron platebody","Leather gloves"],emotes:["Raspberry"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{x:2756,y:3404,level:0}}},{id:267,type:"emote",tier:"easy",text:["Cheer for the monks at Port Sarim. Equip a studded leather coif, steel plateskirt and a sapphire necklace."],area:{origin:{x:3044,y:3234,level:0},size:{x:6,y:4}},items:["Studded Leather coif","Steel plateskirt","Sapphire necklace"],emotes:["Cheer"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{x:3042,y:3234,level:0}}},{id:268,type:"emote",tier:"easy",text:["Wave on Mudskipper Point. Equip a gold ring, leather chaps and a steel mace."],area:{origin:{x:2981,y:3106,level:0},size:{x:25,y:25}},items:["Gold ring","Leather chaps","Steel mace"],emotes:["Wave"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{x:3004,y:3123,level:0}}},{id:269,type:"emote",tier:"easy",text:["Shrug in the mine near Rimmington. Equip a gold necklace, gold ring and a bronze spear."],area:{origin:{x:2970,y:3230,level:0},size:{x:12,y:14}},items:["Gold necklace","Gold ring","Bronze spear"],emotes:["Shrug"],double_agent:!1,hidey_hole:{name:"Cart (hidey-hole)",location:{x:2972,y:3235,level:0}}},{id:270,type:"emote",tier:"easy",text:["Clap in the main exam room of the Exam Centre. Equip a ruby amulet, blue flowers and leather gloves."],area:{origin:{x:3351,y:3342,level:0},size:{x:9,y:8}},items:["Ruby amulet","Blue flowers","Leather gloves"],emotes:["Clap"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{x:3351,y:3348,level:0}}},{id:271,type:"emote",tier:"easy",text:["Yawn in Varrock Palace library. Equip a holy symbol, leather vambraces and an iron warhammer."],area:{origin:{x:3207,y:3490,level:0},size:{x:11,y:8}},items:["Holy symbol","Leather vamraces","Iron warhammer"],emotes:["Yawn"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{x:3217,y:3494,level:0}}},{id:272,type:"emote",tier:"easy",text:["Dance in the Party Room. Equip a steel full helmet, steel platebody and an iron plateskirt."],area:{origin:{x:3036,y:3371,level:0},size:{x:20,y:15}},items:["Steel full helmet","Steel platebody","Iron plateskirt"],emotes:["Dance"],double_agent:!1,hidey_hole:{name:"Potted plant (hidey-hole)",location:{x:3041,y:3372,level:0}}},{id:273,type:"emote",tier:"easy",text:["Twirl in Draynor Manor by the fountain. Equip an iron platebody, studded chaps and a bronze full helm."],area:{origin:{x:3086,y:3333,level:0},size:{x:5,y:5}},items:["Iron platebody","Studden chaps","Bronze full helm"],emotes:["Twirl"],double_agent:!1,hidey_hole:{name:"Dead tree (hidey-hole)",location:{x:3091,y:3341,level:0}}},{id:274,type:"emote",tier:"easy",text:["Jump for joy at the beehives. Equip iron boots, an unholy symbol and a steel hatchet."],area:{origin:{x:2752,y:3437,level:0},size:{x:15,y:14}},items:["Iron boots","Unholy smybol","Steel hatchet"],emotes:["Jump for Joy"],double_agent:!1,hidey_hole:{name:"Beehive (hidey-hole)",location:{x:2762,y:3447,level:0}}},{id:275,type:"emote",tier:"easy",text:["Headbang in the mine north of Al-kharid. Equip a Polar Camo Top, Leather Gloves and Leather Boots."],area:{origin:{x:3296,y:3291,level:0},size:{x:8,y:26}},items:["Polar Camo Top","Leather Gloves","Leather Boots"],emotes:["Headbang"],double_agent:!1,hidey_hole:{name:"Rocks (hidey-hole)",location:{x:3295,y:3282,level:0}}},{id:276,type:"emote",tier:"easy",text:["Bow or curtsy outside the entrance to the Legends' Guild. Equip iron platelegs, an emerald amulet and an oak shieldbow."],area:{origin:{x:2726,y:3346,level:0},size:{x:6,y:4}},items:["Iron platelegs","Emerald Amulet","Oak Shieldbow"],emotes:["Bow or Curtsy"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{x:2732,y:3352,level:0}}},{id:277,type:"emote",tier:"easy",text:["Cheer in the centre of the Burthorpe Games Room. Have nothing equipped at all when you do."],area:{origin:{x:2194,y:4946,level:0},size:{x:28,y:28}},items:["Nothing"],emotes:["Cheer"],double_agent:!1,hidey_hole:null},{id:278,type:"emote",tier:"easy",text:["Dance at the crossroads north of Draynor. Equip an iron chainbody, sapphire ring and a shieldbow."],area:{origin:{x:3108,y:3293,level:0},size:{x:4,y:4}},items:["Iron Chainbody","Sapphire Ring","Shieldbow"],emotes:["Dance"],double_agent:!1,hidey_hole:{location:{x:3112,y:3292,level:0},name:"Rock (hidey-hole)"}},{id:279,type:"emote",tier:"easy",text:["Dance a jig by the entrance to the Fishing Guild. Equip an emerald ring, sapphire amulet, and a bronze chainbody."],area:{origin:{x:2611,y:3384,level:0},size:{x:5,y:3}},items:["Emerald Ring","Sapphire Amulet","Bronze Chainbody"],emotes:["Jig"],double_agent:!1,hidey_hole:{location:{x:2619,y:3388,level:0},name:"Rock (hidey-hole)"}},{id:280,type:"emote",tier:"easy",text:["Bow or curtsy at the entrance to Het's Oasis. Equip an iron chainbody, leather chaps and a studded leather coif."],area:{origin:{x:3318,y:3225,level:0},size:{x:9,y:16}},items:["Iron Chainbody","Leather Chaps","Leather Coif"],emotes:["Bow or Curtsy"],double_agent:!1,hidey_hole:{name:"Sack (hidey-hole)",location:{x:3323,y:3236,level:0}}},{id:281,type:"emote",tier:"easy",text:["Cry outside the south gates of Fort Forinthry. Equip a hard leather body, leather chaps and a bronze hatchet."],area:{origin:{x:3296,y:3520,level:0},size:{x:16,y:9}},items:["Hard Leather Body","Leather Chaps","Bronze Hatchet"],emotes:["Cry"],double_agent:!1,hidey_hole:{location:{x:3299,y:3521,level:0},name:"Tree stump (hidey-hole)"}},{id:282,type:"emote",tier:"easy",text:["Clap on the top level of the mill north of East Ardougne. Equip an emerald ring, wood camo top and an unenchanted tiara."],area:{origin:{x:2630,y:3381,level:2},size:{x:6,y:6}},items:["Emerald Ring","Wood Camo Top","Unenchanted Tiara"],emotes:["Clap"],double_agent:!1,hidey_hole:{location:{x:2635,y:3383,level:2},name:"Crate (hidey-hole)"}},{id:283,type:"emote",tier:"easy",text:["Yawn in Draynor Marketplace. Equip an iron kiteshield, steel longsword and studded leather chaps."],area:{origin:{x:3074,y:3246,level:0},size:{x:13,y:10}},items:["Iron Kiteshield","Steel Longsword","Studded Leather Chaps"],emotes:["Yawn"],double_agent:!1,hidey_hole:{name:"Barrel (hidey-hole)",location:{x:3078,y:3246,level:0}}},{id:284,type:"emote",tier:"easy",text:["Cheer at the Druids' Circle. Equip an air tiara, bronze two-handed sword and a gold amulet."],area:{origin:{x:2918,y:3478,level:0},size:{x:8,y:8}},items:["Air Tiara","Bronze 2h Sword","Gold Amulet"],emotes:["Cheer"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{x:2922,y:3476,level:0}}},{id:7,type:"emote",tier:"medium",text:["Beckon at the Digsite, near the eastern winch. Bow or curtsy before you talk to me. Equip a pointed red and black snelm, snakeskin boots, and an iron pickaxe."],area:{origin:{x:3375,y:3440,level:0},size:{x:7,y:7}},items:["Pointed Red and Black Snelm","Snakeskin Boots","Iron Pickaxe"],emotes:["Beckon","Bow or Curtsy"],double_agent:!1,hidey_hole:{name:"Barrel (hidey-hole)",location:{x:3379,y:3445,level:0}}},{id:247,type:"emote",tier:"medium",text:["Panic by the mausoleum in Morytania. Wave before you speak to me. Equip a mithril plateskirt, a maple shieldbow and no boots."],area:{origin:{x:3490,y:3565,level:0},size:{x:25,y:17}},items:["Mithril Plateskirt","Maple Shieldbow","No boots"],emotes:["Panic","Wave"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{x:3506,y:3574,level:0}}},{id:248,type:"emote",tier:"medium",text:["Dance a jig under Shantay's Awning. Bow or curtsy before you talk to me. Equip a pointed blue snail helmet and an air staff."],area:{origin:{x:3303,y:3121,level:0},size:{x:4,y:4}},items:["Pointed Blue Snelm","Air Staff"],emotes:["Jig","Bow or Curtsy"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{x:3302,y:3130,level:0}}},{id:249,type:"emote",tier:"medium",text:["Think under the lens in the Observatory. Twirl before you talk to me. Equip a mithril chainbody, green dragonhide chaps and a ruby amulet."],area:{origin:{x:2439,y:3164,level:1},size:{x:3,y:3}},items:["Mithril Chainbody","Green Dragonhide Chaps","Ruby Amulet"],emotes:["Think","Twirl"],double_agent:!1,hidey_hole:{location:{x:2445,y:3161,level:1},name:"Crate (hidey-hole)"}},{id:250,type:"emote",tier:"medium",text:["Twirl on the bridge by Barbarian Village. Salute before you talk to me. Equip an iron hatchet, steel kiteshield and a mithril full helmet."],area:{origin:{x:3102,y:3420,level:0},size:{x:7,y:2}},items:["Iron Hatchet","Steel Kiteshield","Mithril Full Helm"],emotes:["Twirl","Salute"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{x:3114,y:3418,level:0}}},{id:251,type:"emote",tier:"medium",text:["Jump for joy in Yanille bank. Dance a jig before you talk to me. Equip an iron crossbow, adamant helmet and snakeskin chaps."],area:{origin:{x:2609,y:3088,level:0},size:{x:5,y:10}},items:["Iron Crossbow","Adamant Med Helmet","Snakeskin Chaps"],emotes:["Jump for Joy","Jig"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{x:2613,y:3088,level:0}}},{id:252,type:"emote",tier:"medium",text:["Dance in the centre of Canifis. Bow or curtsy before you talk to me. Equip a spiny helmet, mithril platelegs and an iron two-handed sword."],area:{origin:{x:3485,y:3480,level:0},size:{x:19,y:17}},items:["Spine Helm","Mithril Platelegs","Iron two-handed sword"],emotes:["Dance","Bow or Curtsy"],double_agent:!1,hidey_hole:{name:"Barrel (hidey-hole)",location:{x:3491,y:3480,level:0}}},{id:253,type:"emote",tier:"medium",text:["Cheer in the Barbarian Agility Arena. Headbang before you talk to me. Equip a steel platebody, maple shortbow and bronze boots."],area:{origin:{x:2528,y:3542,level:0},size:{x:28,y:18}},items:["Steel Platebody","Maple Shortbow","Bronze Boots"],emotes:["Cheer","Headbang"],double_agent:!1,hidey_hole:{name:"Barrel (hidey-hole)",location:{x:2545,y:3556,level:0}}},{id:254,type:"emote",tier:"medium",text:["Cry on the platform of the south-west tree in the Gnome Agility Arena. Indicate 'no' before you talk to me. Equip a steel kiteshield, ring of forging and green dragonhide chaps."],area:{origin:{x:2472,y:3418,level:2},size:{x:6,y:4}},items:["Green Dragonhide Chaps","Steel Kiteshield","Ring of Forging"],emotes:["Cry","No"],double_agent:!1,hidey_hole:{name:"Tree stump (hidey-hole)",location:{x:2473,y:3418,level:2}}},{id:255,type:"emote",tier:"medium",text:["Beckon in Tai Bwo Wannai. Clap before you talk to me. Equip green dragonhide chaps, a ring of duelling and a mithril helmet."],items:["Green dragonhide chaps","Ring of duelling","Mithril helm"],emotes:["Beckon","Clap"],double_agent:!1,area:{origin:{x:2778,y:3057,level:0},size:{x:33,y:17}},hidey_hole:{name:"Crate (hidey-hole)",location:{x:2793,y:3073,level:0}}},{id:256,type:"emote",tier:"medium",text:["Cheer in the Ogre Pen in the Training Camp. Show you are angry before you talk to me. Equip a green dragonhide body and chaps, and a steel squareshield."],items:["Green dragonhide body","Green dragonhide chaps","Steel square shield"],emotes:["Cheer","Angry"],double_agent:!1,area:{origin:{x:2523,y:3373,level:0},size:{x:11,y:5}},hidey_hole:{name:"Crate (hidey-hole)",location:{x:2521,y:3377,level:0}}},{id:257,type:"emote",tier:"medium",text:["Cry in the Catherby archery shop. Bow or curtsy before you talk to me. Equip a round red and black snelm, a hard leather body and an unblessed silver sickle."],items:["Round red and black snelm","Hard leather body","Unblessed silver sickle"],emotes:["Cry","Bow or Curtsy"],double_agent:!1,area:{origin:{x:2824,y:3454,level:0},size:{x:6,y:4}},hidey_hole:{name:"Crates (hidey-hole)",location:{x:2829,y:3455,level:0}}},{id:258,type:"emote",tier:"medium",text:["Yawn in the Castle Wars lobby. Shrug before you talk to me. Equip a ruby amulet, mithril scimitar and an iron square shield."],items:["Ruby amulet","Mithril scimitar","Iron square shield"],emotes:["Yawn","Shrug"],double_agent:!1,area:{origin:{x:2436,y:3080,level:0},size:{x:13,y:20}},hidey_hole:{name:"Stone blocks (hidey-hole)",location:{x:2448,y:3087,level:0}}},{id:225,type:"emote",tier:"hard",text:["Panic in the heart of the Haunted Woods. Beware of double agents! Have no items equipped when you do."],emotes:["Panic"],items:["Nothing"],double_agent:!0,area:{origin:{x:3610,y:3487,level:0},size:{x:8,y:8}},hidey_hole:null},{id:226,type:"emote",tier:"hard",text:["Laugh in the Jokul's tent in the Mountain Camp. Beware of double agents! Equip a rune full helmet, blue dragonhide chaps and a fire battlestaff."],items:["Rune full helm","Blue dragonhide chaps","Fire battlestaff"],emotes:["Laugh"],double_agent:!0,area:{origin:{x:2790,y:3667,level:0},size:{x:8,y:8}},hidey_hole:{name:"Rock (hidey-hole)",location:{x:2790,y:3667,level:0}}},{id:227,type:"emote",tier:"hard",text:["Panic by the pilot on White Wolf Mountain. Beware of double agents! Equip mithril platelegs, a ring of life, and a rune hatchet."],items:["Mithril platelegs","Ring of life","Rune hatchet"],emotes:["Panic"],double_agent:!0,area:{origin:{x:2843,y:3489,level:1},size:{x:11,y:10}},hidey_hole:{name:"Rock (hidey-hole)",location:{x:2845,y:3496,level:1}}},{id:228,type:"emote",tier:"hard",text:["Salute in the banana plantation. Beware of double agents! Equip a diamond ring, amulet of power and nothing on your chest and legs."],items:["Diamond ring","Amulet of power","Nothing on your chest and legs"],emotes:["Salute"],double_agent:!0,area:{origin:{x:2908,y:3154,level:0},size:{x:27,y:20}},hidey_hole:{name:"Log (hidey-hole)",location:{x:2914,y:3154,level:0}}},{id:229,type:"emote",tier:"hard",text:["Dance at the cat-doored pyramid in Sophanem. Beware of double agents! Equip a ring of life, an amulet of glory and an adamant two-handed sword."],items:["Ring of life","Uncharged amulet of glory","Adamant 2h sword"],emotes:["Dance"],double_agent:!0,area:{origin:{x:3292,y:2782,level:0},size:{x:6,y:4}},hidey_hole:{name:"Crate (hidey-hole)",location:{x:3310,y:2784,level:0}}},{id:230,type:"emote",tier:"hard",text:["Blow a raspberry in the Fishing Guild bank. Beware of double agents! Equip an elemental shield, blue dragonhide chaps and a rune warhammer."],area:{origin:{x:2585,y:3420,level:0},size:{x:3,y:4}},items:["Elemental shield","Blue dragonhide chaps","Rune warhammer"],emotes:["Raspberry"],double_agent:!0,hidey_hole:{location:{x:2585,y:3424,level:0},name:"Crate (hidey-hole)"}},{id:231,type:"emote",tier:"hard",text:["Blow a kiss between the tables in Shilo Village bank. Beware of double agents! Equip a splitbark helm, mud pie and rune platebody."],items:["Splitbark helmet","Mud pie","Rune platebofy"],emotes:["Blow kiss"],double_agent:!0,area:{origin:{x:2851,y:2951,level:0},size:{x:3,y:4}},hidey_hole:{name:"Potted plant (hidey-hole)",location:{x:2856,y:2954,level:0}}},{id:232,type:"emote",tier:"hard",text:["Bow or curtsy at the top of the lighthouse. Beware of double agents! Equip a blue dragonhide body, blue dragonhide vambraces and no jewellery."],area:{origin:{x:2504,y:3636,level:2},size:{x:10,y:10}},items:["Blue dragonhide body","Blue dragon vambraces","No jewellry"],emotes:["Bow or Curtsy"],double_agent:!0,hidey_hole:{location:{x:2512,y:3639,level:2},name:"Crate (hidey-hole)"}},{id:235,type:"emote",tier:"hard",text:["Yawn near the Wilderness Bandit camp obelisk. Beware of double agents! Equip an iron square shield, blue dragon vambraces and an iron pickaxe."],items:["Iron square shield","Blue dragonhide vambraces","Iron pickaxe"],emotes:["Yawn"],area:{origin:{x:3031,y:3728,level:0},size:{x:9,y:9}},hidey_hole:{name:"Dead tree (hidey-hole)",location:{x:3032,y:3723,level:0}},double_agent:!0},{id:243,type:"emote",tier:"hard",text:["Shrug in the Zamorak temple, found in the eastern Wilderness. Beware of double agents! Equip bronze platelegs, an iron platebody and blue dragonhide vambraces."],items:["Bronze platelegs","Iron platebody","Blue dragonhide vambraces"],emotes:["Shrug"],area:{origin:{x:3234,y:3603,level:0},size:{x:12,y:12}},double_agent:!0,hidey_hole:{name:"Rock (hidey-hole)",location:{x:3245,y:3610,level:0}}},{id:233,type:"emote",tier:"master",text:["Cheer by the sulphur pit in the TzHaar City. Beware of double agents! Equip a fire cape, a Toktz-ket-xil and a spork."],area:{origin:{x:4632,y:5106,level:0},size:{x:9,y:9}},items:["Fire Cape","Toktz-Ket-Xil","Spork"],emotes:["Cheer"],double_agent:!0,hidey_hole:{name:"Table (hidey-hole)",location:{x:4638,y:5106,level:0}}},{id:234,type:"emote",tier:"master",text:["Headbang inside the Slayer Tower. Beware of double agents! Equip an imp-hide hood, a Prifddinian musician's robe top and an amulet of magic."],emotes:["Headbang"],area:{origin:{x:3400,y:3541,level:0},size:{x:47,y:34}},items:["Imp-hide Hood","Prifddinia Musician's Robe Top","Amulet of Magic"],double_agent:!0,hidey_hole:{name:"Crates (hidey-hole)",location:{x:3427,y:3541,level:0}}},{id:236,type:"emote",tier:"master",text:["Dare to laugh in the Green Ghost inn at Port Phasmatys. Beware of double agents! Equip an Iban's staff, a ghostly cloak and a cavalier."],emotes:["Laugh"],items:["Iban's Staff","Ghostly Cloak","Cavalier"],double_agent:!0,area:{origin:{x:3671,y:3489,level:0},size:{x:11,y:11}},hidey_hole:{name:"Barrel (hidey-hole)",location:{x:3676,y:3494,level:0}}},{id:237,type:"emote",tier:"master",text:["Blow a Raspberry at the celestial dragons on Dragontooth Isle. Beware of double agents! Equip a dragon mask, a Dragon Rider amulet and a dragon defender."],double_agent:!0,area:{origin:{x:2242,y:5956,level:0},size:{x:60,y:57}},items:["Any Dragon Mask","Dragon Rider Amulet","Dragon Defender"],emotes:["Raspberry"],hidey_hole:{name:"Rock (hidey-hole)",location:{x:2277,y:5966,level:0}}},{id:238,type:"emote",tier:"master",text:["Wave in front of the entrance to the Grand Library of Menaphos. Beware of double agents! Equip an asylum surgeon's ring and the Scabaras mask."],area:{origin:{x:3173,y:2708,level:0},size:{x:4,y:4}},items:["Asylum Surgeon's Ring","Scabaras Mask"],emotes:["Wave"],double_agent:!0,hidey_hole:{name:"Plant (hidey-hole)",location:{x:3172,y:2711,level:0}}},{id:239,type:"emote",tier:"master",text:["Jig in the Edgeville Monastery garden. Beware of double agents! Equip a holy cithara, Saradomin's murmur and a ring of devotion."],emotes:["Jig"],items:["Holy Cithara","Saradomin's Murmur","Ring of Devotion"],double_agent:!0,area:{origin:{x:3046,y:3501,level:0},size:{x:12,y:8}},hidey_hole:{name:"Barrel (hidey-hole)",location:{x:3056,y:3499,level:0}}},{id:240,type:"emote",tier:"master",text:["Bow or curtsy at the charm sprite hunter area. Beware of double agents! Equip an enhanced yaktwee stick, a Dagon-hai hat and an amulet of ranging."],items:["Enhances Yaktwee Stick","Dagon-Hai Hat","Amulet of Ranging"],area:{origin:{x:2391,y:3363,level:0},size:{x:27,y:21}},emotes:["Bow or Curtsy"],double_agent:!0,hidey_hole:{name:"Rock (hidey-hole)",location:{x:2397,y:3367,level:0}}},{id:241,type:"emote",tier:"master",text:["Think in the Hefin district of Prifddinas. Beware of double agents! Equip an ancient staff, Prifddinian worker's trousers and a berserker ring."],emotes:["Think"],items:["Ancient Staff","Prifdiinia Worker's Trousers","Berserker Ring"],area:{origin:{x:2174,y:3393,level:1},size:{x:30,y:22}},double_agent:!0,hidey_hole:{name:"Potted plant (hidey-hole)",location:{x:2181,y:3402,level:1}}},{id:242,type:"emote",tier:"master",text:["Shrug in the Lumbridge Fishing Supplies shop. Beware of double agents! Equip demon slayer gloves, a boater and the cape of legends."],area:{origin:{x:3191,y:3251,level:0},size:{x:8,y:5}},items:["Demon Slayer Gloves","Any Boater","Cape of Legends"],emotes:["Shrug"],double_agent:!0,hidey_hole:{name:"Barrel (hidey-hole)",location:{x:3198,y:3251,level:0}}},{id:244,type:"emote",tier:"master",text:["Have an idea inside the Invention Guild. Beware of double agents! Equip a lab coat top, lab coat legs and a staff of light."],items:["Lab Coat Top","Lab Coat Legs","Staff of Light"],emotes:["Idea"],area:{origin:{x:6160,y:1039,level:0},size:{x:18,y:36}},double_agent:!0,hidey_hole:{name:"Barrel (hidey-hole)",location:{x:6176,y:1050,level:0}}},{id:245,type:"emote",tier:"master",text:["Dance on an Uncharted Isle. Beware of double agents! Equip a dark bow, some infinity boots and culinaromancer gloves 10."],area:{origin:{x:3052,y:3245,level:0},size:{x:4,y:4}},items:["Dark bow","Infinity boots","Culinaromancer gloves 10"],emotes:["Dance"],double_agent:!0,hidey_hole:{location:{x:1818,y:11653,level:0},name:"Water barrel (hidey-hole)"}},{id:246,type:"emote",tier:"master",text:["Salute in the Max Guild Garden. Beware of double agents! Have no items equipped when you do."],area:{origin:{x:2268,y:3320,level:1},size:{x:17,y:16}},items:["Nothing"],emotes:["Salute"],hidey_hole:null,double_agent:!0}],e.map=[{id:49,type:"map",tier:"easy",image_url:"assets/Map_clue_Wizards_Tower.png",text:["X marks the spot south of the wizard's tower."],ocr_data:[26,74,167,26,77,-17,6,8,26,77,-18,8,10,25,78,-17,6,7,26,80,-14,5,6,25,77,-15,7,8,26,77,-17,7,9,26,77,-18,6,8,25,80,-20,7,9,25,86,-19,7,8,25,82,-20,6,7,26,82,-18,5,6,26,82,-20,4,6,25,82,-19,5,7,25,85,-20,6,7,26,81,-21,8,10,26,78,-17,7,9,25,76,-21,7,9,25,79,-18,5,7,26,81,-15,6,8,26,79,-16,7,8,26,77,-19,7,8,25,78,-20,6,7,24,79,-15,15,20,25,80,-20,8,12,26,81,-11,13,17,26,79,-5,18,21,26,80,-15,12,17,25,79,-22,5,7,25,83,-23,7,8,26,80,-21,6,8,25,77,-19,8,10,26,78,-21,6,8,26,78,-20,6,7,25,82,-17,5,7,26,79,-20,6,7,26,77,-16,10,12,26,79,-18,9,14,26,64,37,40,52,26,69,24,45,56,26,68,26,41,50,26,67,40,55,67,26,67,33,52,62,26,79,-20,5,7,26,80,-23,6,7,26,80,-22,7,8,25,78,-20,5,6,25,78,-20,6,8,25,77,-20,4,5,26,80,-19,6,8,27,71,14,39,47,26,69,17,35,46,26,68,34,60,72,26,61,43,53,66,25,64,44,68,82,26,64,32,51,62,26,72,0,26,35,27,69,18,26,36,26,80,-18,6,8,25,79,-22,6,8,26,79,-23,5,6,25,78,-17,8,10,26,78,-21,6,8,25,78,-22,5,6,25,76,-8,20,24,27,67,27,43,50,26,69,12,34,43,27,64,38,66,77,27,57,60,53,63,27,59,66,71,84,27,59,51,64,79,26,62,42,52,61,27,74,-5,16,21,25,80,-18,5,6,26,81,-22,6,7,26,80,-25,6,7,26,77,-23,5,7,25,81,-21,6,7,26,78,-25,6,7,26,75,-9,19,25,26,61,40,57,67,27,62,37,62,72,26,59,56,60,73,26,54,44,25,33,26,55,44,31,38,26,58,60,73,89,26,64,28,48,67,27,69,24,31,43,26,80,-19,5,6,26,81,-22,5,6,25,80,-23,6,7,26,77,-23,7,9,26,78,-26,7,8,25,80,-23,6,8,27,67,24,48,57,27,56,69,62,80,27,58,47,64,79,26,56,45,40,46,26,53,55,40,48,26,53,46,25,30,25,60,41,42,52,27,58,61,61,76,26,70,24,30,40,25,82,-16,8,9,25,80,-22,5,6,26,79,-24,6,7,26,79,-18,6,8,26,78,-26,6,7,26,78,-23,6,8,25,74,-7,17,21,26,64,32,40,52,27,58,52,67,84,27,58,46,42,52,26,54,44,25,29,26,55,46,19,22,26,59,51,53,64,26,59,63,66,81,26,71,14,24,32,25,83,-17,6,7,26,79,-23,6,7,26,81,-23,6,8,26,79,-16,5,6,25,80,-19,6,8,26,82,-22,6,8,26,80,-11,12,15,26,70,4,27,33,27,59,44,64,78,27,61,40,56,69,26,57,57,71,85,26,59,54,55,67,26,60,50,66,80,26,62,46,56,70,26,76,-10,12,18,26,81,-18,4,6,25,79,-19,5,6,26,79,-24,5,6,25,81,-15,7,10,25,80,-17,8,10,26,81,-19,6,8,25,80,-11,12,14,25,74,-2,16,20,26,67,20,30,38,26,63,38,51,57,26,59,55,100,119,26,60,52,71,87,26,63,37,50,59,25,73,-5,19,24,26,74,-21,8,10,26,79,-21,4,5,26,80,-22,5,7,27,77,-25,5,7,26,82,-15,6,8,26,82,-18,7,8,25,82,-16,8,10,25,80,-16,8,10,26,79,-11,11,13,25,80,-14,10,13,25,81,-11,10,13,25,77,4,22,28,26,76,-6,18,24,26,77,-21,9,11,26,76,-20,10,12,27,77,-25,6,7,26,80,-21,6,8,26,79,-25,6,7,27,77,-27,5,7,25,84,-13,9,11,24,84,-15,8,10,24,85,-14,9,11,25,84,-12,7,9,25,84,-13,7,9,25,83,-14,10,12,24,84,-14,8,10,25,85,-16,10,12,26,80,-23,6,8,26,78,-24,6,8,26,77,-26,6,7,27,78,-26,5,6,26,80,-21,6,7,26,78,-25,6,8,27,76,-26,6,8],solution:{type:"dig",description:"east of the rock",spot:{x:3103,y:3133,level:0}}},{id:50,type:"map",tier:"easy",image_url:"assets/Map_clue_Brother_Galahad's_house.png",text:["X marks the spot in front of a small house surrounded by trees and near a bridge."],ocr_data:[26,77,175,26,77,-9,6,8,26,77,-10,8,10,25,78,-9,6,7,26,79,-1,15,19,25,77,-7,7,10,26,77,-9,7,9,26,77,-10,6,8,25,80,-12,7,9,25,86,-11,7,8,25,82,-12,6,7,26,82,-10,5,6,26,82,-12,4,6,25,82,-11,5,7,25,85,-12,6,7,26,81,-13,8,10,26,78,-9,7,9,25,76,-13,7,9,25,79,-10,5,14,27,70,41,40,50,26,71,37,48,59,26,77,-10,9,14,25,78,-12,6,7,24,80,-13,6,8,25,80,-14,5,7,26,84,-10,5,6,26,83,-8,6,8,26,82,-12,6,10,27,70,16,52,59,25,83,-15,7,8,26,80,-13,6,8,25,77,-11,8,10,26,78,-13,6,8,26,78,-12,6,16,26,72,36,34,42,27,70,35,45,50,26,79,-12,5,7,26,80,-13,5,6,26,80,-12,6,8,25,79,-13,7,8,26,79,-12,5,7,26,81,-9,6,7,27,71,17,45,51,26,76,-6,22,31,26,80,-15,6,7,26,80,-14,7,8,25,78,-12,5,6,25,78,-12,6,8,25,77,-12,4,9,27,69,41,39,52,27,70,38,46,57,26,80,-11,8,14,27,73,17,57,64,25,80,-15,10,17,24,80,-10,7,8,25,78,-5,21,24,26,77,-3,24,27,27,71,16,41,50,27,70,21,50,61,25,79,-14,6,8,26,79,-15,5,6,25,78,-9,8,10,26,78,-13,6,8,25,78,-14,5,6,26,69,41,55,61,27,75,15,40,46,27,76,9,22,26,26,79,-13,13,17,28,68,18,64,76,26,77,-1,25,37,26,74,22,71,89,25,75,13,66,85,27,72,21,55,87,27,71,21,57,64,26,81,-14,6,7,26,80,-17,6,7,26,77,-15,5,7,25,81,-13,6,7,26,78,-17,6,7,26,70,32,31,44,26,75,-4,22,38,26,68,37,40,53,27,70,17,57,66,26,77,2,45,58,26,74,6,43,68,26,70,42,108,131,25,76,0,39,50,27,78,-3,24,30,27,70,28,61,85,26,81,-13,6,10,25,80,-15,6,7,26,77,-15,7,9,26,78,-18,7,8,25,80,-15,6,8,27,72,19,26,31,26,72,22,53,59,27,68,42,51,63,28,67,21,58,66,25,76,-11,15,22,26,77,4,43,49,25,81,-9,8,10,26,79,-8,8,10,26,80,9,41,46,26,78,5,36,45,25,80,-13,5,9,26,79,-16,6,7,26,79,-10,6,8,26,78,-18,6,7,26,78,-15,6,8,26,72,37,27,31,27,72,53,36,45,27,68,60,53,62,27,77,-7,27,32,26,79,1,45,48,26,79,7,41,47,26,80,-10,7,9,25,82,-8,6,8,26,78,9,43,51,25,82,-7,7,12,26,79,-15,6,7,26,81,-15,6,8,26,79,-8,5,6,25,80,-11,6,8,26,82,-14,6,8,26,79,4,21,27,27,72,23,41,49,27,72,7,35,42,27,66,41,62,71,26,81,-13,7,11,26,78,8,50,55,26,78,4,41,47,26,78,5,42,48,27,73,18,60,76,27,75,8,27,34,25,79,-11,5,6,26,79,-16,5,6,25,81,-7,7,10,25,80,-9,8,10,26,81,-11,6,8,25,81,1,18,23,26,71,36,46,56,26,79,-11,6,7,25,75,9,31,37,26,66,49,58,70,26,72,23,21,25,26,72,15,26,31,25,78,-10,9,16,27,67,13,48,58,27,70,17,51,57,26,80,-14,5,7,27,77,-17,5,7,26,82,-7,6,8,26,82,-10,7,8,25,82,-8,8,10,25,80,-7,9,14,26,80,-5,12,18,25,81,-10,6,8,25,83,-8,8,10,25,82,-5,12,19,26,77,5,29,38,27,73,13,42,52,27,66,47,59,70,27,70,16,24,30,26,78,-8,18,24,26,79,-17,6,7,27,77,-19,5,7,25,84,-5,9,11,24,84,-7,8,10,24,85,-6,9,11,25,84,-4,7,9,25,84,-5,7,9,25,83,-6,10,12,24,84,-6,8,10,25,85,-8,10,12,26,80,-15,6,8,26,78,-16,6,8,26,77,-17,6,12,27,72,8,37,46,26,77,0,20,25,26,78,-17,6,8,27,76,-18,6,8],solution:{type:"dig",description:"in front of the door",spot:{x:2612,y:3481,level:0}}},{id:54,type:"map",tier:"easy",image_url:"assets/Map_clue_Falador_stones.png",text:["X marks the spot near some rocks and a tree."],ocr_data:[26,78,182,26,77,-2,6,8,26,77,-3,8,10,25,78,-2,6,7,26,80,1,5,6,25,77,0,7,8,26,77,-2,7,9,26,77,-3,6,8,25,80,-5,7,9,25,86,-4,7,8,25,82,-5,6,7,26,82,-3,5,6,26,82,-5,4,6,25,82,-4,5,7,25,85,-5,6,7,26,81,-6,8,10,26,78,-2,7,9,25,76,-6,7,9,25,79,-3,5,7,26,79,7,14,19,26,78,1,10,15,28,68,28,53,60,26,77,-3,9,14,24,80,-6,6,8,25,80,-7,5,7,26,84,-3,5,6,26,83,-1,6,8,26,82,-5,5,6,25,79,-7,5,7,25,83,-8,7,8,26,80,-6,6,8,25,77,-4,8,10,26,78,-6,6,8,26,78,-5,6,7,26,75,16,31,42,27,78,1,13,17,26,77,-1,15,18,26,80,-5,7,14,26,78,13,56,65,25,78,-1,19,28,26,79,-5,5,7,26,81,-2,6,7,26,79,-3,5,6,26,79,-5,5,7,26,80,-8,6,7,26,80,-7,7,8,25,78,-5,5,6,25,78,-5,6,8,25,77,-5,4,5,26,81,-5,4,6,27,79,7,41,44,26,79,0,22,26,26,81,8,45,53,25,80,-9,6,8,24,79,9,38,46,26,76,15,68,74,26,76,12,46,53,26,78,0,7,11,26,80,-3,6,8,25,79,-7,6,8,26,79,-8,5,6,25,78,-2,8,10,26,78,-6,6,8,25,78,-7,5,6,25,80,-5,6,8,27,78,11,67,75,26,78,-3,15,18,26,75,2,20,23,26,64,24,38,43,25,75,3,18,23,26,77,-5,11,21,25,76,-1,12,20,27,77,13,54,61,25,80,-3,5,6,26,81,-7,6,7,26,80,-10,6,7,26,77,-8,5,7,25,81,-6,6,7,26,78,-10,6,7,26,78,0,37,43,26,64,28,39,48,26,75,0,18,22,26,68,26,28,37,26,75,1,17,20,26,69,5,30,35,26,68,63,130,157,27,66,33,65,83,27,78,11,43,49,28,70,25,50,54,26,81,-7,5,6,25,80,-8,6,7,26,77,-8,7,9,26,78,-11,7,8,25,80,-8,6,8,26,78,-6,8,12,26,77,-6,6,8,26,70,3,21,29,26,78,-9,6,14,25,76,-5,11,15,26,78,-4,8,12,25,75,12,21,29,26,79,0,8,16,26,80,18,48,56,25,80,8,28,31,25,80,-7,5,6,26,79,-9,6,7,26,79,-3,6,8,26,78,-11,6,7,26,78,-8,6,8,25,78,3,29,39,26,76,8,49,63,27,77,-6,14,33,27,79,6,53,60,26,79,6,41,48,26,78,6,17,21,26,70,19,21,28,26,79,17,69,78,26,80,1,7,12,25,83,-2,6,7,26,79,-8,6,7,26,81,-8,6,8,26,79,-1,5,6,25,80,-4,6,8,26,82,-7,6,8,26,82,-2,9,11,26,79,-3,12,16,27,75,1,24,31,28,68,18,46,55,26,78,10,41,52,25,78,11,43,48,26,78,11,51,59,25,80,-2,6,10,26,80,-3,4,5,26,81,-3,4,6,25,79,-4,5,6,26,79,-9,5,6,25,81,0,7,10,25,80,-2,8,10,26,81,-4,6,8,25,82,4,22,25,25,78,14,39,45,26,77,12,41,46,26,76,17,55,65,26,79,-1,11,20,25,79,-5,6,7,26,78,-5,6,7,26,78,6,38,46,26,74,10,44,49,26,78,8,39,42,26,80,-7,5,7,27,77,-10,5,7,26,82,0,6,8,26,82,-3,7,8,25,82,-1,8,10,25,80,1,12,17,26,81,0,7,14,25,81,0,12,16,25,82,4,29,32,25,81,15,46,57,26,79,10,41,49,27,77,11,53,58,26,77,0,26,37,27,76,-7,17,21,26,80,-6,6,8,26,79,-10,6,7,27,77,-12,5,7,25,84,2,9,11,24,84,0,8,10,24,85,1,9,11,25,84,3,7,9,25,84,2,7,9,25,83,1,10,12,24,84,1,8,10,25,85,-1,10,12,26,80,-8,6,8,26,78,-9,6,8,26,77,-11,6,7,27,78,-11,5,6,26,80,-6,6,7,26,78,-10,6,8,27,76,-11,6,8],solution:{type:"dig",description:"west of the tree",spot:{x:3043,y:3399,level:0}}},{id:55,type:"map",tier:"easy",image_url:"assets/Map_clue_Falador_statue_crossroads.png",text:["X marks the spot near a statue."],ocr_data:[26,77,180,26,77,-4,6,8,26,77,-5,8,10,25,78,-4,6,7,26,80,-1,5,6,25,77,-2,7,8,26,77,-4,7,9,26,77,-5,6,8,25,80,-7,7,9,25,86,-6,7,8,25,82,-7,6,7,26,82,-5,5,6,26,82,-7,4,6,25,82,-6,5,7,25,85,-7,6,7,26,81,-8,8,10,26,78,-4,7,9,25,76,-8,7,9,25,79,-5,5,7,26,81,-2,6,8,26,77,4,21,28,27,71,14,32,44,25,78,-7,6,7,24,80,-8,6,8,26,76,2,24,29,27,75,21,31,38,26,83,-3,6,8,27,76,10,24,28,25,79,-9,6,10,25,83,-10,7,8,26,80,-8,6,8,25,77,-6,8,10,26,78,-8,6,8,26,78,-7,6,10,27,74,20,44,51,26,80,-7,5,6,26,79,-7,5,8,26,78,-2,16,21,26,80,-7,6,8,25,79,-8,7,9,26,75,3,19,29,26,81,-4,6,7,27,69,24,48,52,26,78,-4,11,15,26,80,-10,6,7,26,80,-9,7,8,25,78,-7,5,6,25,78,-7,6,8,25,77,-7,4,5,26,79,-3,14,18,27,81,-8,6,7,26,80,-8,6,8,26,75,14,49,54,27,69,25,44,51,24,79,-1,15,19,25,78,-3,12,16,26,78,-4,7,9,26,78,-2,7,9,26,80,-5,6,8,25,79,-9,6,8,26,79,-10,5,6,25,78,-4,8,10,26,78,-8,6,8,25,78,-9,5,6,25,80,-3,18,22,28,71,20,56,60,26,80,-8,6,8,26,81,-11,5,7,25,48,31,77,85,25,64,10,29,35,27,70,19,51,57,25,77,-5,6,9,27,79,-3,7,9,25,80,-5,5,6,26,81,-9,6,7,26,80,-12,6,7,26,77,-10,5,7,25,81,-8,6,7,26,78,-12,6,9,26,77,17,71,86,26,74,17,75,86,26,78,-8,10,16,25,80,-10,7,8,21,36,35,49,58,23,38,37,42,51,25,78,-7,7,8,25,78,-7,11,16,26,76,0,16,21,26,78,13,52,60,26,81,-8,5,11,25,80,-10,6,7,26,77,-10,7,9,26,78,-13,7,8,25,80,-10,6,8,26,77,-2,18,27,26,75,14,66,73,27,75,15,69,87,26,77,3,44,57,24,51,34,135,153,25,52,34,63,80,26,75,32,85,97,26,76,23,58,67,26,79,26,71,88,26,80,21,62,73,25,80,-3,20,24,26,79,-11,6,7,26,79,-5,6,8,26,78,-13,6,7,26,78,-10,6,8,27,71,17,48,53,26,77,-6,12,17,27,77,6,52,63,27,79,9,46,59,26,80,-7,6,14,26,72,14,94,107,26,74,25,67,86,26,78,28,77,89,26,79,13,44,52,25,83,-4,6,7,26,79,-10,6,7,26,81,-10,6,8,26,79,-3,5,6,25,80,-6,6,8,26,82,-9,6,8,26,80,0,19,23,28,66,33,62,69,27,76,-14,6,7,27,75,10,58,66,26,81,-8,7,8,25,75,3,26,27,26,78,15,51,59,25,80,-4,7,10,26,80,-5,5,8,26,76,3,21,24,25,79,-6,5,6,26,79,-11,5,6,25,81,-2,7,10,25,80,-4,8,10,26,81,-6,6,8,26,77,14,31,37,25,78,3,21,27,28,66,32,60,65,25,79,1,17,26,26,78,16,57,64,26,78,12,51,57,26,77,7,40,49,25,77,-3,10,13,26,69,2,23,29,25,72,4,27,28,26,80,-9,5,7,27,77,-12,5,7,26,82,-2,6,8,26,82,-5,7,8,25,82,-3,8,10,25,77,3,22,27,26,81,-3,7,8,27,72,21,44,52,25,83,-3,8,10,26,81,20,59,69,26,79,11,44,53,26,78,-10,5,6,26,78,-11,5,6,27,73,-5,16,19,26,80,-8,6,8,26,79,-12,6,7,27,77,-14,5,7,25,84,0,9,11,24,84,-2,8,10,24,85,-1,9,11,25,84,1,7,9,25,84,0,7,9,25,80,9,29,41,24,84,-1,8,10,25,83,11,44,53,26,80,-10,6,8,26,78,-11,6,8,26,77,-13,6,7,27,78,-13,5,6,26,80,-8,6,7,26,78,-12,6,8,27,76,-13,6,8],solution:{type:"dig",description:"two tiles south-east of the bench",spot:{x:2971,y:3414,level:0}}},{id:56,type:"map",tier:"easy",image_url:"assets/Map_clue_Varrock_east_mine.webp",text:["X marks the spot at the end of a path north of a mine."],ocr_data:[26,78,181,26,77,-3,6,8,26,77,-4,8,10,25,78,-3,6,7,26,80,0,5,6,25,77,-1,7,8,26,77,-3,7,9,26,77,-4,6,8,25,80,-6,7,9,25,86,-5,7,8,25,79,12,39,46,26,79,10,36,43,26,82,-6,4,6,25,82,-5,5,7,25,85,-6,6,7,26,81,-7,8,10,26,78,-3,7,9,25,76,-7,7,9,25,79,-4,5,7,26,81,-1,6,8,26,79,-2,7,8,26,78,-6,7,8,25,78,-6,6,7,24,80,-7,6,8,25,80,-8,5,7,26,77,25,58,68,26,77,21,54,64,26,82,-6,5,6,25,79,-8,5,7,25,83,-9,7,8,26,80,-7,6,8,25,77,-5,8,10,26,78,-7,6,8,26,78,-6,6,7,25,82,-3,5,7,26,80,-6,5,6,26,79,-6,5,7,26,72,9,49,55,26,71,16,95,106,25,73,6,43,49,26,71,11,50,56,26,79,-1,9,13,26,79,-4,5,6,26,79,-6,5,7,26,80,-9,6,7,26,80,-8,7,8,25,78,-6,5,6,25,78,-6,6,8,25,77,-6,4,5,26,81,-6,4,6,27,81,-6,9,13,26,80,-7,6,8,25,76,9,48,58,25,73,10,34,53,24,74,7,19,27,25,78,-5,6,8,26,77,3,23,27,26,78,-1,7,9,26,80,-4,6,8,25,79,-8,6,8,26,79,-9,5,6,25,78,-3,8,10,26,78,-7,6,8,25,78,-8,5,6,25,80,-6,6,7,27,77,13,43,49,26,77,3,87,97,26,69,16,54,74,26,63,24,39,51,25,74,7,23,31,26,64,26,36,40,25,75,12,42,48,27,79,-2,7,9,25,80,-4,5,6,26,81,-8,6,7,26,80,-11,6,7,26,77,-9,5,7,25,81,-7,6,7,26,78,-11,6,7,26,79,-8,6,8,26,75,10,43,49,26,66,17,46,53,26,70,12,60,84,26,72,7,85,103,26,76,-7,10,19,25,78,-6,7,8,25,76,9,50,58,27,79,-5,7,11,26,80,-5,5,6,26,81,-8,5,6,25,80,-9,6,7,26,77,-9,7,9,26,78,-12,7,8,25,80,-9,6,8,26,78,-7,7,9,26,75,10,44,51,26,65,16,39,46,26,76,-6,16,25,25,76,-6,15,21,26,64,31,91,107,25,71,21,31,35,26,79,-1,8,12,26,79,16,73,82,25,82,-1,8,11,25,80,-8,5,6,26,79,-10,6,7,26,79,-4,6,8,26,78,-12,6,7,26,78,-9,6,8,25,78,-5,8,9,26,76,7,43,49,27,78,-11,5,7,27,70,15,25,31,26,69,17,53,62,26,79,1,14,18,26,80,-4,7,9,25,82,-2,6,8,26,79,3,17,28,26,80,14,23,27,26,79,-9,6,7,26,81,-9,6,8,26,79,-2,5,6,25,80,-5,6,8,26,82,-8,6,8,26,82,-3,9,11,26,77,7,47,55,27,76,-9,11,19,27,74,-2,20,24,26,71,16,23,26,25,80,-5,6,7,25,76,2,17,20,26,71,16,26,32,26,75,10,28,38,26,79,12,22,25,25,79,-5,5,6,26,79,-10,5,6,25,81,-1,7,10,25,80,-3,8,10,26,81,-5,6,8,25,83,-2,8,10,25,80,-3,6,7,26,76,15,68,78,25,79,-2,10,18,26,79,-6,5,7,25,79,-6,6,7,26,69,16,22,26,25,61,35,46,55,26,71,5,29,41,26,77,8,23,26,26,80,-8,5,7,27,77,-11,5,7,26,82,-1,6,8,26,82,-4,7,8,25,82,-2,8,10,25,80,-3,7,9,26,81,-2,7,8,25,81,-4,6,8,26,80,16,46,54,26,80,16,43,49,26,78,11,42,49,27,75,15,42,56,27,74,14,42,55,27,75,11,47,52,26,79,-1,16,20,26,79,-11,6,7,27,77,-13,5,7,25,84,1,9,11,24,84,-1,8,10,24,85,0,9,11,25,84,2,7,9,25,84,1,7,9,25,83,0,10,12,24,84,0,8,10,25,85,-2,10,12,26,80,-9,6,8,26,78,-10,6,8,26,77,-12,6,7,27,78,-12,5,6,26,80,-7,6,7,26,78,-11,6,8,27,76,-12,6,8],solution:{type:"dig",description:"two tiles south-east of the dead tree",spot:{x:3290,y:3373,level:0}}},{id:63,type:"map",tier:"easy",image_url:"assets/Map_clue_Varrock_west_mine.png",text:["X marks the spot east of a tree near a small island on a river."],ocr_data:[26,77,177,26,77,-7,6,8,26,77,-8,8,10,25,78,-7,6,7,26,80,-4,5,6,25,77,-5,7,8,26,77,-7,7,10,26,77,-8,6,8,25,80,-10,7,9,25,86,-9,7,8,25,82,-10,6,7,26,82,-8,5,6,26,82,-10,4,9,25,82,-9,5,7,25,85,-10,6,7,26,81,-11,8,10,26,78,-7,7,9,25,76,-11,7,9,25,79,-8,5,7,26,81,-5,6,8,27,75,7,28,36,29,62,37,59,69,25,77,-9,7,12,27,66,32,55,62,25,80,-12,5,7,26,84,-8,5,7,26,72,13,38,45,26,68,17,39,46,25,79,-11,6,11,25,83,-13,7,8,26,80,-11,6,8,25,77,-9,8,10,26,78,-11,6,8,26,78,-10,6,7,26,81,-5,10,15,28,64,34,51,60,27,75,-3,19,23,26,80,-11,5,6,26,75,2,30,34,25,76,-4,18,22,26,75,-1,22,28,26,66,27,28,37,25,62,29,31,39,26,75,-2,16,19,26,80,-13,6,7,26,80,-12,7,8,25,78,-10,5,6,25,78,-10,6,8,25,77,-10,4,5,26,81,-10,4,6,27,80,-8,11,14,26,80,-11,6,8,25,84,-11,7,9,25,77,-6,19,23,24,65,27,33,39,25,72,4,20,28,26,78,-7,7,9,26,77,-3,9,16,26,80,-8,6,8,25,79,-12,6,8,26,79,-13,5,6,25,78,-7,8,10,26,78,-11,6,8,25,78,-12,5,6,25,80,-10,6,7,26,80,-10,6,7,26,80,-11,6,8,26,81,-14,5,7,26,77,-16,5,7,26,71,9,21,24,26,71,5,21,24,25,77,-8,6,8,27,79,-6,7,9,25,80,-8,5,6,26,81,-12,6,7,26,80,-15,6,7,26,77,-13,5,7,25,81,-11,6,7,26,78,-15,6,7,26,79,-11,7,13,29,63,33,40,53,26,78,-14,5,6,25,79,-2,31,40,26,79,-13,7,11,26,76,-12,7,8,25,78,-10,7,8,25,78,-11,7,9,27,79,-9,7,9,26,80,-9,5,6,26,81,-12,5,6,25,80,-13,6,7,26,77,-13,7,9,26,78,-16,7,8,25,80,-13,6,8,26,78,-11,7,11,26,70,9,41,53,26,66,11,127,130,26,71,30,106,124,26,73,9,25,31,26,75,4,21,25,25,81,-6,9,14,26,79,-6,8,10,26,82,-4,7,8,25,82,-6,8,9,25,80,-12,5,6,26,79,-14,6,7,26,79,-8,6,8,26,78,-16,6,7,26,76,-4,24,29,26,69,30,49,60,26,77,-10,9,16,27,69,23,44,54,27,71,29,50,60,26,77,9,33,41,26,75,19,35,40,26,70,33,53,63,26,73,27,40,49,26,80,-5,7,11,25,83,-7,6,7,26,79,-13,6,7,26,81,-13,6,8,26,79,-6,5,6,25,80,-9,6,8,26,82,-12,6,8,26,81,-1,18,26,26,69,32,61,71,27,73,-3,24,31,27,75,-4,22,29,27,64,50,74,86,26,67,41,63,75,26,75,7,28,35,26,77,6,26,34,27,67,56,56,63,26,72,35,39,47,25,79,-9,5,6,26,79,-14,5,6,25,81,-5,7,10,25,80,-7,8,10,26,80,-7,12,18,25,83,-6,8,13,25,80,-7,6,7,26,79,-9,6,7,25,78,0,21,28,26,66,45,75,92,26,66,36,77,87,26,72,19,46,55,25,79,-10,5,6,27,70,33,27,31,26,75,19,35,55,26,80,-12,5,7,27,77,-15,5,7,26,82,-5,6,8,26,82,-8,7,8,25,80,4,17,21,26,70,34,52,61,27,71,33,47,54,26,71,31,52,61,25,81,4,28,39,25,83,-6,7,21,26,80,-6,14,29,26,71,22,44,54,26,68,30,58,66,27,68,32,41,52,26,74,24,27,33,26,79,-15,6,7,27,77,-17,5,7,25,84,-3,9,11,24,84,-5,8,10,24,85,-4,9,11,25,84,-2,7,9,25,84,-3,7,9,25,82,2,16,21,25,75,26,24,30,25,74,34,28,42,26,72,25,26,36,26,76,-6,15,21,26,77,-16,6,7,27,78,-16,5,6,26,80,-11,6,7,26,78,-15,6,8,27,76,-16,6,8],solution:{type:"dig",description:"three tiles east of the tree",spot:{x:3166,y:3360,level:0}}},{id:44,type:"map",tier:"medium",image_url:"assets/Map_clue_Clock_Tower.png",text:["A crate near a bridge over a river."],ocr_data:[26,78,174,26,77,-10,6,8,26,77,-11,8,10,25,78,-10,6,7,26,80,-7,5,6,25,77,-8,7,8,26,77,-10,7,9,26,77,-9,10,15,25,76,11,21,24,26,76,29,24,34,26,79,2,18,23,26,82,-11,5,6,26,82,-13,4,6,25,82,-12,5,7,25,85,-13,6,7,26,81,-14,8,10,26,78,-10,7,9,25,76,-14,7,9,25,79,-11,5,7,26,81,-8,6,8,26,79,-9,7,8,26,76,-3,17,22,27,69,41,63,74,25,76,18,74,92,25,78,-2,29,55,26,76,29,55,63,26,74,33,50,60,26,74,26,23,33,26,71,26,23,34,26,82,-10,18,23,26,80,-14,6,8,25,77,-12,8,10,26,78,-14,6,8,26,78,-13,6,7,25,82,-10,5,7,27,77,14,42,51,27,71,36,52,64,26,79,-7,13,28,26,70,33,48,59,26,70,39,54,70,26,76,5,33,41,26,80,-1,49,55,26,78,1,27,48,26,73,17,40,66,26,79,-9,15,19,26,80,-15,7,8,25,78,-13,5,6,25,78,-13,6,8,25,77,-13,4,5,26,77,4,21,25,27,72,46,79,102,27,79,6,45,51,26,81,5,36,42,26,72,17,24,29,24,80,-11,7,12,26,69,36,52,60,27,70,38,60,67,27,68,40,70,81,26,72,26,29,35,25,78,-12,10,13,26,79,-16,5,6,25,78,-10,8,10,26,78,-14,6,8,25,78,-15,5,8,26,72,37,58,70,27,78,8,36,55,27,74,18,51,58,27,69,41,65,75,26,75,-6,17,21,26,76,24,76,94,27,75,24,85,107,25,76,5,45,55,27,79,-9,7,9,25,80,-11,5,6,26,81,-15,6,7,26,80,-18,6,7,26,77,-16,5,7,25,81,-14,6,7,26,75,5,39,45,26,75,11,38,44,26,73,13,44,57,26,75,4,45,54,25,80,-15,7,11,26,78,-1,44,52,26,76,-10,14,24,26,77,-8,16,25,26,76,24,85,104,27,79,-12,7,9,26,80,-12,5,6,26,81,-15,5,6,25,80,-16,6,7,26,77,-16,7,9,26,78,-19,7,8,25,80,-16,6,8,26,78,-14,7,9,27,67,43,61,72,26,76,-15,11,16,28,64,25,36,42,27,71,26,70,80,26,78,-13,7,9,25,81,-10,8,10,26,77,16,60,70,26,82,-7,7,8,25,82,-9,8,9,25,80,-15,5,6,26,79,-17,6,7,26,79,-11,6,8,26,78,-19,6,7,26,78,-16,6,8,26,71,22,49,60,26,73,11,24,30,27,77,-17,7,18,31,55,80,41,58,28,71,47,75,84,26,79,12,53,58,26,78,8,43,48,26,79,17,56,66,26,80,-8,7,15,25,83,-10,6,7,26,79,-16,6,7,26,81,-16,6,8,26,79,-9,5,6,25,80,-12,6,8,26,79,-3,25,32,26,69,38,48,58,26,79,-15,6,8,27,76,-20,6,7,27,75,4,53,60,26,79,8,47,55,26,78,10,44,51,26,78,7,43,48,26,78,11,48,57,26,78,13,50,64,26,81,-11,4,6,25,79,-12,5,6,26,79,-17,5,6,25,81,-8,7,10,25,80,-10,8,10,26,79,-5,15,20,25,82,-6,13,16,25,80,-10,6,7,26,79,-12,6,7,26,78,8,44,50,26,79,-8,20,27,26,76,26,89,99,26,78,-13,6,7,26,77,7,43,49,26,75,3,44,49,26,79,-14,4,5,26,80,-15,5,7,27,77,-18,5,7,26,82,-8,6,8,26,82,-11,7,8,25,82,-9,8,10,25,80,-10,7,9,26,81,-9,7,8,25,81,-11,6,8,26,81,10,44,49,26,81,14,53,60,26,79,6,44,49,26,77,8,54,62,27,76,4,48,57,27,75,6,63,69,26,80,-14,6,8,26,79,-18,6,7,27,77,-20,5,7,25,84,-6,9,11,24,84,-8,8,10,24,85,-7,9,11,25,84,-5,7,9,25,84,-6,7,9,25,83,-7,10,12,24,84,-7,8,10,25,84,-5,23,27,26,80,-16,6,8,26,78,-13,20,24,26,77,-12,29,33,27,78,-19,5,6,26,80,-14,6,7,26,78,-18,6,8,27,76,-19,6,8],solution:{type:"search",spot:{level:0,topleft:{x:2565,y:3248},botright:{x:2565,y:3248}},entity:"Crate"}},{id:45,type:"map",tier:"medium",image_url:"assets/Map_clue_McGrubors_Wood.png",text:["A crate in the woods directly next to a building."],ocr_data:[26,78,180,26,77,-4,6,8,26,77,-5,8,10,25,78,-4,6,7,26,80,-1,5,6,25,77,-2,7,8,26,77,-1,18,23,26,76,-2,13,17,25,80,-6,10,14,25,85,-3,11,15,25,82,-7,6,7,26,82,-5,5,6,26,82,-5,10,15,25,82,-6,5,7,25,85,-7,6,7,26,81,-8,8,10,26,78,-4,7,9,25,76,-8,7,9,25,79,-5,5,7,26,81,-2,6,8,26,79,-3,7,8,26,79,7,49,56,28,68,31,57,67,25,77,7,24,37,26,77,2,21,27,27,77,14,42,50,26,82,7,37,46,28,77,20,52,65,25,79,-9,5,7,25,83,-10,7,8,26,80,-8,6,8,25,77,-6,8,10,26,78,-8,6,8,26,78,-7,6,7,26,80,2,15,22,27,76,5,24,30,28,74,21,58,66,26,80,4,40,49,26,79,-3,11,18,25,78,-5,14,18,27,73,23,57,66,26,81,4,32,40,26,76,5,24,34,26,77,-1,17,21,26,80,-10,6,7,26,80,-9,7,8,25,78,-7,5,6,25,78,-7,6,8,25,77,-7,4,5,26,81,-7,4,7,27,81,-7,8,10,26,78,-2,21,24,27,81,20,56,65,26,79,-3,19,24,24,80,-5,7,8,26,80,7,37,41,27,74,13,28,33,27,77,3,17,21,27,74,16,42,46,25,79,-9,6,8,26,79,-10,5,6,25,78,-4,8,10,26,78,-8,6,8,26,77,-6,13,17,27,74,18,41,50,27,76,8,28,33,26,80,-8,6,8,26,80,8,45,56,26,77,-12,6,12,25,79,-7,6,8,27,77,16,52,59,25,75,-1,13,20,27,79,-3,7,10,25,80,-5,5,6,26,81,-9,6,7,26,80,-12,6,7,26,77,-10,5,7,25,81,-8,6,7,26,78,-12,6,7,26,78,-6,13,18,26,75,-3,21,27,27,75,4,28,34,26,82,12,54,62,26,80,3,32,48,27,78,6,48,63,27,77,26,82,94,26,74,6,24,33,28,74,12,27,33,26,80,-6,5,7,26,81,-9,5,6,25,80,-10,6,7,26,77,-10,7,9,26,78,-13,7,8,25,80,-10,6,8,27,73,8,30,41,26,76,-4,14,17,27,74,-3,21,28,26,80,0,39,46,25,77,-9,8,11,26,79,7,55,61,26,83,22,51,62,26,77,4,25,32,26,79,8,25,34,25,82,-2,8,9,25,80,-9,5,6,26,79,-11,6,7,26,79,-5,6,8,26,78,-13,6,7,26,77,-9,9,13,27,74,10,32,37,27,74,7,31,37,27,74,2,31,37,27,82,1,44,51,26,81,-2,23,31,26,81,2,21,31,26,81,7,48,55,26,76,15,36,42,26,80,-2,7,9,26,81,1,14,18,26,79,-10,6,7,26,81,-10,6,8,26,79,-3,5,6,25,80,-6,6,8,26,82,-9,6,8,26,81,-1,15,19,26,78,-5,20,23,27,76,-11,14,18,28,72,10,35,41,26,82,2,33,39,28,71,41,70,80,28,73,31,47,54,26,77,8,20,25,26,80,-5,5,8,27,76,10,28,34,25,79,-6,5,6,26,79,-11,5,6,25,81,-2,7,10,25,80,-4,8,10,26,81,-6,6,9,26,77,15,43,48,25,80,-1,14,17,28,73,16,35,41,26,76,8,33,40,27,76,7,26,35,29,69,45,56,64,29,76,37,44,52,26,74,9,32,36,28,71,12,39,43,26,79,-8,4,5,26,80,-9,5,7,27,77,-12,5,7,26,82,-2,6,8,26,82,-5,7,8,25,82,-3,8,10,26,78,3,17,28,27,77,11,27,34,26,80,-1,13,16,26,82,0,14,19,27,77,14,29,38,26,79,0,14,22,28,74,9,27,33,27,77,-7,13,17,27,75,-6,22,25,26,80,-8,6,8,26,79,-12,6,7,27,77,-14,5,7,25,84,0,9,11,24,84,-2,8,10,24,85,-1,9,11,25,84,1,7,9,25,84,0,7,9,25,83,-1,10,12,24,84,-1,8,10,25,83,1,18,26,26,80,-10,6,8,26,76,-5,22,27,26,77,-13,6,7,27,78,-13,5,6,26,80,-8,6,7,26,78,-12,6,8,27,76,-13,6,8],solution:{type:"search",spot:{level:0,topleft:{x:2658,y:3488},botright:{x:2658,y:3488}},entity:"Crate"}},{id:48,type:"map",tier:"medium",image_url:"assets/Map_clue_Ourania_chaos_altar.png",text:["X marks the spot between lava lakes."],ocr_data:[25,89,175,26,77,-9,6,8,26,77,-10,8,10,25,78,-9,6,7,26,80,-6,5,6,25,77,-7,7,8,26,77,-9,7,9,26,76,-7,23,36,25,78,-1,47,58,25,86,-11,7,8,25,82,-12,6,7,26,82,-10,5,6,26,82,-12,4,6,25,82,-11,5,7,25,85,-12,6,7,26,81,-13,8,10,26,78,-9,7,9,25,76,-13,7,9,25,79,-10,5,7,26,81,-7,6,8,26,79,-8,7,8,26,78,-12,7,8,26,77,4,50,68,24,106,29,45,59,25,84,3,43,50,26,83,-8,11,14,26,83,-8,6,8,26,82,-12,5,6,25,79,-14,5,7,25,83,-15,7,8,26,80,-13,6,8,25,77,-11,8,10,26,78,-13,6,8,26,78,-12,6,7,25,82,-9,5,7,26,80,-12,5,6,27,79,-1,47,54,26,80,-11,8,19,25,112,35,47,55,25,91,10,33,41,26,79,-12,5,7,26,81,-9,6,7,26,79,-10,5,6,26,79,-12,5,7,26,80,-15,6,7,26,80,-14,7,8,25,78,-12,5,6,25,78,-12,6,8,25,77,-12,4,5,26,81,-12,4,6,27,81,-10,17,24,27,81,3,43,54,25,104,12,31,36,22,200,55,4,6,22,187,54,17,24,25,83,3,27,46,26,78,-9,7,9,26,78,-7,7,9,26,80,-10,6,8,25,79,-14,6,8,26,79,-15,5,6,25,78,-9,8,10,26,78,-13,6,8,25,78,-14,5,6,25,80,-12,6,7,27,72,18,107,132,27,79,6,60,70,25,100,14,28,32,22,187,63,2,3,22,188,62,2,3,24,129,44,55,60,25,77,-10,6,10,27,79,-8,7,9,25,80,-10,5,6,26,81,-14,6,7,26,80,-17,6,7,26,77,-15,5,7,25,81,-13,6,7,26,78,-17,6,7,26,79,-14,6,8,26,72,1,46,59,26,78,-1,40,45,26,83,3,45,52,24,124,46,83,95,22,171,67,13,22,22,181,66,3,4,23,126,39,46,53,27,79,-10,8,13,26,80,-11,5,6,26,81,-14,5,6,25,80,-15,6,7,26,77,-15,7,9,26,78,-18,7,8,25,80,-15,6,8,26,78,-13,7,9,26,77,-13,6,8,26,77,0,41,47,26,78,-1,41,46,26,72,20,101,114,23,136,58,31,42,22,171,73,2,3,22,167,67,9,12,25,90,9,42,47,25,82,-8,8,9,25,80,-14,5,6,26,79,-16,6,7,26,79,-10,6,8,26,78,-18,6,7,26,78,-15,6,8,25,78,-11,8,9,26,81,-8,18,26,27,77,1,61,71,26,89,9,51,61,26,89,8,38,44,25,93,12,32,38,23,150,58,37,47,24,115,21,19,24,26,80,-7,7,9,25,83,-9,6,7,26,79,-15,6,7,26,81,-15,6,8,26,79,-8,5,6,25,80,-11,6,8,26,82,-14,6,8,26,82,-9,9,11,24,128,27,29,36,24,111,69,98,116,24,118,58,81,98,25,105,17,32,38,26,80,18,82,92,26,80,0,24,37,26,80,1,20,33,26,78,-1,47,61,26,81,-9,4,7,25,79,-11,5,6,26,79,-16,5,6,25,81,-7,7,10,25,80,-9,8,10,26,81,-11,6,8,25,83,-8,8,10,25,95,8,29,34,22,181,58,18,27,22,186,58,16,24,25,92,8,32,40,26,80,13,65,77,26,78,-9,13,16,25,79,-12,5,6,27,71,2,56,70,26,79,-13,4,5,26,80,-14,5,7,27,77,-17,5,7,26,82,-7,6,8,26,82,-10,7,8,25,82,-8,8,10,25,80,-9,7,9,26,80,-6,17,22,25,88,27,105,116,25,96,11,28,33,25,83,-8,7,9,26,81,-12,6,7,26,76,-4,52,59,27,75,-3,49,64,27,77,-18,5,6,26,80,-13,6,8,26,79,-17,6,7,27,77,-19,5,7,25,84,-5,9,11,24,84,-7,8,10,24,85,-6,9,11,25,84,-4,7,9,25,84,-5,7,9,25,81,-1,21,24,24,84,-6,8,10,25,85,-8,10,12,26,80,-15,6,8,26,77,-14,11,14,26,76,-16,10,14,27,78,-18,5,6,26,80,-13,6,7,26,78,-17,6,8,27,76,-18,6,8],solution:{type:"dig",description:"behind the chaos altar at Ourania",spot:{x:2454,y:3230,level:0}}},{id:51,type:"map",tier:"medium",image_url:"assets/Map_clue_Chemist's_house.png",text:["X marks the spot next to a building at the coast."],ocr_data:[26,78,178,26,77,-6,6,8,26,77,-7,8,10,25,78,-6,6,7,26,80,-1,8,13,26,73,17,36,44,26,77,-6,7,12,26,77,-7,6,8,25,80,-9,7,9,25,86,-8,7,8,25,82,-9,6,7,26,82,-7,5,6,26,82,-9,4,6,25,82,-8,5,7,25,85,-9,6,7,26,81,-10,8,10,26,78,-6,7,9,25,76,-10,7,9,25,79,-7,5,7,26,81,-3,8,11,27,73,22,22,27,27,68,47,65,76,25,78,-9,6,8,26,71,19,49,53,27,71,21,55,61,26,84,-7,5,6,26,83,-5,6,8,26,82,-9,5,6,25,79,-11,5,7,25,83,-12,7,8,26,80,-10,6,8,25,77,-8,8,10,26,78,-10,6,8,26,78,-9,6,7,25,82,-6,5,7,26,80,-9,5,6,26,76,8,19,25,27,74,29,55,64,26,77,0,27,30,27,69,22,54,66,26,76,3,27,34,26,81,-6,6,7,26,79,-7,5,6,26,79,-9,5,7,26,80,-12,6,7,26,80,-11,7,8,25,78,-9,5,6,25,78,-9,6,8,25,77,-9,4,5,26,81,-9,4,6,27,81,-10,6,7,26,80,-10,6,8,26,75,29,35,46,25,77,7,35,46,27,67,30,53,68,27,68,25,56,62,26,78,-6,7,9,26,78,-4,7,9,26,80,-7,6,8,25,79,-11,6,8,26,79,-12,5,6,25,78,-6,8,10,26,78,-10,6,8,25,78,-11,5,6,25,80,-9,6,7,26,80,-9,6,7,26,80,-10,6,8,26,79,-3,20,27,27,71,28,42,47,26,78,-7,11,14,26,78,-10,6,8,25,77,-7,6,8,27,79,-5,7,9,25,80,-7,5,6,26,81,-11,6,7,26,80,-14,6,7,26,77,-12,5,7,25,81,-10,6,7,26,78,-14,6,8,26,78,-3,43,48,26,76,-4,42,46,26,78,-13,5,6,26,72,38,60,69,26,78,2,32,40,27,75,13,48,62,25,77,-7,12,21,25,78,-10,7,17,27,79,-8,7,18,26,80,-8,5,14,26,81,-11,5,6,25,80,-12,6,7,26,77,-12,7,9,26,78,-15,7,8,25,80,-12,6,8,26,78,-10,7,9,26,77,-10,6,8,26,75,-7,17,24,26,70,36,44,51,25,76,5,42,52,26,77,4,22,42,26,79,25,42,71,26,78,15,25,41,26,80,16,25,40,26,80,26,56,71,25,80,-11,5,6,26,79,-13,6,7,26,79,-7,6,8,26,78,-15,6,7,26,78,-12,6,8,25,78,-8,8,11,26,78,-11,6,10,27,76,0,21,26,27,74,26,40,45,26,70,62,123,140,26,77,31,58,73,26,80,-2,14,21,25,82,-5,6,8,26,80,2,23,29,26,80,23,60,76,26,79,-12,6,7,26,81,-12,6,8,26,79,-5,5,6,25,80,-8,6,8,26,82,-11,7,9,26,82,1,43,47,26,79,-3,41,46,27,76,-7,44,51,27,69,39,63,75,26,81,-7,14,25,26,78,12,43,49,26,78,11,42,48,26,79,13,42,48,26,79,12,41,46,26,79,13,43,48,25,79,-8,5,6,26,79,-13,5,6,25,81,-4,7,10,25,80,-6,8,10,26,81,-8,6,8,25,83,-5,8,10,25,80,-6,6,7,26,79,-8,6,7,25,77,6,17,20,26,70,40,44,55,26,70,41,56,65,26,71,28,39,45,26,75,9,31,38,26,76,-14,4,5,27,72,14,33,39,26,79,-8,13,17,27,77,-14,5,7,26,82,-4,6,8,26,82,-7,7,8,25,82,-5,8,10,25,80,-6,7,9,26,81,-5,7,8,25,81,-4,18,21,25,82,5,53,58,25,83,-1,23,26,26,81,-9,6,9,26,76,0,20,24,27,70,24,31,41,27,68,38,59,65,26,68,35,68,79,26,79,-14,6,7,27,77,-16,5,7,25,84,-2,9,11,24,84,-4,8,10,24,85,-3,9,11,25,84,-1,7,9,25,84,-2,7,9,25,83,-3,10,12,24,84,-3,8,10,25,85,-5,10,12,26,80,-12,6,8,26,78,-13,6,8,26,77,-15,6,7,27,78,-15,5,6,26,72,21,29,39,26,75,4,32,38,27,76,-15,6,8],solution:{type:"dig",description:"west of the Chemist's House",spot:{x:2923,y:3210,level:0}}},{id:52,type:"map",tier:"medium",image_url:"assets/Map_clue_Miscellania.png",text:["X marks the spot between some trees at the end of a path."],ocr_data:[26,79,180,26,77,-4,6,8,26,77,-5,8,10,25,78,-4,6,7,26,80,-1,5,6,25,77,-2,7,8,26,77,-4,7,9,26,77,-5,6,8,25,80,-7,7,9,25,86,-6,7,8,25,82,-7,6,7,26,82,-5,5,6,26,82,-7,4,6,25,82,-6,5,7,25,85,-7,6,7,26,81,-8,8,10,26,78,-4,7,9,25,76,-8,7,9,25,79,-3,11,16,26,81,2,13,21,26,79,-3,7,8,26,78,-7,7,8,25,78,-7,6,7,25,80,6,26,32,27,78,17,33,38,26,84,-5,5,6,26,83,-3,6,12,27,80,14,34,42,25,79,-9,5,7,25,83,-10,7,8,26,80,-8,6,8,25,77,-6,8,10,26,78,-8,6,8,26,78,-4,17,23,26,81,13,52,58,27,79,7,43,49,27,78,5,24,29,27,78,15,31,35,26,80,3,22,32,26,78,18,39,46,26,79,-7,5,7,26,80,0,16,22,27,75,42,62,67,26,79,-7,5,7,26,80,-10,6,7,26,80,-9,7,8,25,78,-7,5,6,25,78,-7,6,8,25,77,-3,11,25,27,79,12,42,57,27,80,9,56,63,27,79,3,25,34,26,80,19,41,48,25,80,-11,6,8,24,80,-5,7,8,25,78,-6,6,8,26,78,-4,7,9,26,78,-2,7,9,26,80,-5,6,8,25,79,-9,6,8,26,79,-10,5,6,25,78,-4,8,10,26,78,-8,6,8,25,78,-9,5,6,26,79,22,62,83,26,80,-7,6,7,26,80,-8,6,8,26,81,-11,5,7,26,77,-6,18,23,26,78,8,27,32,26,78,-8,6,8,25,77,-5,6,8,27,79,-3,7,9,25,80,-5,5,6,26,81,-9,6,7,26,80,-12,6,7,26,77,-10,5,7,25,81,-8,6,7,26,78,-12,6,7,26,78,21,63,85,26,77,-10,6,7,27,77,15,42,49,25,77,18,59,73,26,73,35,98,119,27,75,28,45,52,25,78,-7,7,8,25,78,-8,7,9,27,79,-6,7,9,26,80,-6,5,6,26,81,-9,5,6,25,80,-10,6,7,26,77,-10,7,9,26,78,-13,7,8,25,80,-10,6,8,27,77,16,62,75,26,76,13,60,66,28,75,36,64,73,26,77,2,31,47,25,61,31,149,169,26,78,-7,7,9,25,81,-4,8,10,26,79,-2,8,17,27,78,26,36,40,26,79,17,32,36,25,80,-9,5,6,26,79,-11,6,7,26,79,-5,6,8,26,78,-13,6,7,26,78,-10,6,8,26,77,10,44,50,26,78,5,41,48,27,78,-12,5,7,27,81,-11,6,11,26,61,31,157,169,26,70,17,120,144,26,77,5,48,70,29,75,55,54,72,26,79,9,28,34,26,82,5,25,31,26,79,-10,6,7,26,81,-10,6,8,26,79,-3,5,6,25,80,-6,6,8,26,82,-9,6,8,26,81,18,60,66,26,78,11,62,69,27,76,-14,6,7,27,77,-12,6,8,26,79,-2,16,24,26,68,33,99,138,26,68,26,83,124,26,79,17,57,66,26,79,9,39,44,26,80,6,34,37,25,79,-6,5,6,26,79,-11,5,6,25,81,-2,7,10,25,80,-4,8,10,26,81,-4,9,16,26,81,25,67,86,26,79,17,50,59,26,78,20,59,78,25,80,-4,11,17,26,79,14,67,75,26,78,10,46,59,26,76,11,53,66,25,79,-7,5,6,26,76,-12,4,5,26,79,-8,4,5,26,80,-9,5,7,27,77,-12,5,7,26,82,-2,6,8,26,82,-5,7,8,25,82,2,22,28,26,80,5,30,36,26,81,-3,7,10,26,80,12,48,53,26,82,13,48,53,25,83,-3,7,10,26,80,8,41,48,26,78,1,36,44,26,77,0,38,46,27,77,-13,5,6,26,80,-8,6,8,26,79,-12,6,7,27,77,-14,5,7,25,84,0,9,11,24,84,-2,8,10,24,85,-1,9,11,25,84,1,7,9,25,84,0,7,9,25,83,-1,10,12,24,84,-1,8,10,25,85,-3,10,12,26,80,-10,6,9,26,78,-11,6,8,26,77,-13,6,7,27,78,-13,5,6,26,80,-8,6,7,26,78,-12,6,8,27,76,-13,6,8],solution:{type:"dig",description:"between the signpost and the evergreen",spot:{x:2536,y:3865,level:0}}},{id:53,type:"map",tier:"medium",image_url:"assets/Map_clue_Tower_of_Life.png",text:["X marks the spot on a surprisingly detailled map next to a statue on a road."],ocr_data:[29,69,156,28,75,-7,8,11,31,64,7,30,34,28,75,-3,10,14,29,74,-1,15,19,28,74,-2,29,36,27,67,-8,36,44,27,66,-29,16,19,25,72,-27,43,49,26,73,-28,19,25,27,73,-11,37,43,30,72,10,48,57,29,79,-2,6,9,28,78,13,32,37,28,79,15,36,41,29,77,13,37,42,29,76,-4,9,12,28,75,-8,10,12,28,77,-7,8,11,30,74,2,23,29,28,64,-7,34,41,27,69,-33,15,19,26,72,-34,13,17,25,72,-25,38,45,27,72,-12,38,45,28,80,-8,10,13,31,70,18,36,41,29,79,-1,6,8,26,59,24,32,38,25,51,16,10,11,26,56,27,31,37,28,75,-7,10,15,30,71,-2,17,21,29,74,-3,14,19,31,68,15,43,50,29,67,0,46,54,28,62,-27,16,20,27,66,-29,15,20,27,68,-17,26,31,28,77,-7,29,37,33,66,16,31,39,29,78,1,6,7,29,77,1,6,9,25,56,28,34,40,25,51,15,8,10,26,54,26,33,40,28,66,12,23,30,30,64,10,29,33,29,71,4,21,26,30,75,1,15,20,29,80,-5,13,18,28,78,-6,28,33,27,82,-14,21,26,27,77,-20,11,14,27,77,-10,10,13,30,65,6,31,37,29,76,-2,10,12,29,76,0,9,13,27,61,25,47,54,26,56,21,36,42,27,59,24,53,61,28,75,-3,13,17,28,67,6,18,22,31,60,11,35,42,31,63,8,34,44,29,75,-2,14,18,29,77,-10,11,13,28,77,-16,9,12,28,74,-19,9,12,30,69,-3,20,26,30,69,3,25,31,28,76,-1,7,9,29,75,-3,11,15,28,78,-5,6,8,29,77,-6,11,16,31,69,3,20,25,30,72,-2,18,24,31,66,11,35,42,28,66,1,19,24,32,59,10,40,46,32,63,7,27,33,29,74,-6,13,18,29,47,19,73,78,29,75,-8,14,18,30,71,-3,22,26,31,66,12,33,40,30,71,5,26,32,32,66,7,25,29,30,69,3,20,26,31,67,3,22,28,30,71,1,24,31,31,67,10,35,40,31,66,1,44,51,29,72,-6,22,28,29,67,5,25,32,29,65,11,23,30,29,66,7,21,25,21,80,6,68,78,31,64,5,26,33,32,65,14,36,44,30,72,10,26,31,33,61,15,38,41,29,79,2,8,9,29,74,6,19,22,29,75,-2,15,20,30,74,-1,18,24,28,76,-7,13,18,32,66,8,38,46,29,70,-1,28,35,30,68,9,32,40,30,72,1,20,25,29,75,-6,11,17,29,67,12,10,16,29,76,-3,12,16,31,67,11,55,61,29,70,4,38,46,29,76,1,19,23,29,80,6,21,27,28,82,6,26,32,31,69,9,31,36,33,67,11,34,44,28,77,-4,9,12,28,77,-5,16,21,32,68,8,40,48,28,79,-7,11,13,29,78,-8,11,16,28,65,10,49,56,26,54,19,36,42,26,59,21,40,46,29,70,15,44,60,29,74,4,22,33,29,73,8,47,54,29,61,-6,37,46,29,57,-8,31,39,28,79,1,28,34,29,71,-7,27,32,29,76,3,16,21,32,64,10,29,37,32,70,10,24,28,28,79,-5,10,12,27,68,15,40,47,25,52,12,11,15,25,53,12,30,35,25,51,16,16,20,26,56,25,41,49,29,78,-1,13,19,28,63,-7,34,42,27,68,-38,13,17,27,67,-31,19,24,28,74,-2,49,56,29,78,-10,27,32,32,65,11,25,31,29,76,-1,14,22,28,75,1,23,29,28,77,-4,10,12,28,67,16,33,39,25,52,15,11,13,26,68,-13,39,47,25,54,14,30,35,26,54,27,33,41,29,78,0,12,19,29,62,-6,39,48,28,70,-40,10,13,27,73,-36,11,14,28,68,-36,19,23,29,63,-36,17,21,28,80,1,12,16,28,80,-1,10,13,28,78,4,17,22,32,65,16,31,39,29,70,20,49,59,25,53,23,16,23,24,51,22,10,13,24,51,21,11,14,27,62,27,48,58,29,78,-1,12,18,29,62,-8,43,54,28,71,-41,9,12,27,74,-37,7,9,27,72,-40,8,10,28,70,-42,9,12],solution:{type:"dig",description:"south of the giant head",spot:{x:2648,y:3231,level:0}}},{id:57,type:"map",tier:"medium",image_url:"assets/Map_clue_Seers_to_Rellekka_road.png",text:["X marks the spot on a narrow landstrip near a road and a lot of trees."],ocr_data:[26,77,174,26,77,-10,6,8,26,77,-11,8,10,25,78,-10,6,7,26,80,-7,5,6,25,77,-8,7,8,26,77,-10,7,9,26,77,-11,6,8,25,80,-10,16,21,25,82,3,18,23,25,82,-13,6,7,26,82,-11,6,9,26,82,-13,4,6,25,82,-12,5,7,25,85,-13,6,7,26,81,-14,8,10,26,78,-10,7,9,25,76,-14,7,9,25,79,-11,5,7,27,78,13,34,42,27,73,31,117,134,26,75,2,53,67,25,78,-13,6,7,24,80,-14,6,12,26,68,42,63,73,26,82,-6,28,32,26,81,1,47,54,26,82,-12,11,14,25,79,-15,5,7,25,83,-16,7,8,26,80,-14,6,8,25,77,-12,8,10,26,78,-14,6,8,26,78,-13,6,7,30,62,72,35,44,29,64,63,41,46,27,74,18,106,120,27,69,21,62,68,26,77,-2,23,27,26,74,13,38,46,26,71,31,49,58,26,80,-9,8,12,26,79,-8,15,21,26,79,-13,5,9,26,80,-16,6,7,26,80,-15,7,8,25,78,-13,5,6,25,78,-13,6,8,25,77,-13,4,5,26,77,15,40,49,27,78,15,49,56,27,75,16,95,110,27,75,32,50,58,27,69,21,65,77,26,71,18,44,51,25,76,2,27,39,27,69,34,42,54,26,77,-2,28,34,26,79,-3,39,44,25,79,-15,6,8,26,79,-16,5,6,25,78,-10,8,10,26,78,-14,6,8,25,78,-15,5,6,25,80,-13,6,7,28,69,19,56,60,27,72,35,126,141,31,59,84,11,22,28,70,32,44,52,26,75,-4,27,33,26,78,-14,6,9,26,68,32,54,64,27,73,17,26,35,26,78,1,19,22,26,80,-9,12,17,26,80,-18,6,7,26,77,-16,5,7,25,81,-14,6,7,26,78,-18,6,7,27,73,4,25,30,26,74,-4,29,44,26,74,14,81,104,25,75,21,50,60,26,79,-12,15,24,26,66,48,121,141,25,74,9,42,55,25,78,-14,7,9,27,75,10,35,43,26,73,20,35,41,26,80,-10,13,18,25,80,-16,6,7,26,77,-16,7,9,26,78,-19,7,8,25,80,-13,11,15,27,70,14,54,65,26,76,-12,8,12,27,72,14,111,128,26,75,4,74,91,25,77,-16,7,9,27,70,16,45,57,25,79,-1,21,31,28,70,22,52,60,27,71,22,46,52,25,82,-9,8,9,25,80,-15,5,6,26,79,-17,6,7,26,79,-11,6,8,26,78,-19,6,7,26,78,-15,7,12,26,65,46,61,72,26,78,-15,6,8,27,78,-18,5,7,27,78,4,62,80,26,76,19,93,114,26,73,21,71,86,26,77,11,70,84,26,76,13,71,86,27,70,18,49,57,26,78,4,22,31,26,79,-16,6,7,26,81,-16,6,8,26,79,-9,5,6,25,80,-12,6,8,26,82,-15,6,8,26,76,14,26,33,27,68,35,54,66,27,74,-3,34,42,27,77,-17,9,13,27,70,22,54,69,26,78,3,28,54,27,71,21,42,67,28,67,42,110,136,26,77,3,42,57,26,80,-9,6,10,25,79,-12,5,6,26,79,-17,5,6,25,81,-8,7,10,25,80,-10,8,10,26,81,-12,6,8,25,83,-8,11,19,25,78,1,29,42,26,68,37,36,48,26,71,29,52,63,26,76,-2,29,37,25,79,-12,6,10,27,66,24,54,70,26,72,12,54,79,26,73,5,62,76,26,79,-14,4,5,26,80,-15,5,7,27,77,-18,5,7,26,82,-8,6,8,26,82,-11,7,8,25,82,-9,8,10,25,79,-5,19,29,26,80,-3,22,31,25,81,-10,7,13,25,79,9,23,31,26,69,38,44,54,26,81,-13,6,7,26,74,-5,29,38,26,76,-6,30,46,27,74,-1,61,72,26,80,-14,6,8,26,79,-18,6,7,27,77,-20,5,7,25,84,-6,9,11,24,84,-8,8,10,24,85,-7,9,11,25,84,-5,7,9,25,84,-6,7,9,25,83,-7,10,12,24,84,-7,8,10,25,81,2,25,30,26,80,-16,6,8,26,78,-17,6,8,26,77,-19,6,7,27,78,-19,5,6,26,80,-14,6,7,26,78,-18,6,8,27,76,-19,6,8],solution:{type:"dig",description:"next to the bush",spot:{x:2667,y:3562,level:0}}},{id:58,type:"map",tier:"medium",image_url:"assets/Map_clue_Hobgoblin_peninsula.png",text:["X marks the spot near a rock on a peninsula."],ocr_data:[26,78,177,26,77,-7,6,8,26,77,-8,8,10,25,78,-7,6,7,26,80,-4,5,6,25,77,-5,7,8,26,73,14,37,43,26,77,-8,6,9,25,80,-10,7,9,25,86,-9,7,8,25,82,-10,6,7,26,82,-8,5,6,26,82,-10,4,6,25,82,-9,5,7,25,85,-10,6,7,26,81,-11,8,10,26,78,-7,7,9,25,76,-11,7,9,25,79,-8,5,7,26,81,-5,6,8,26,79,-6,7,10,26,73,14,24,31,26,72,23,45,56,26,72,18,49,60,29,69,29,67,78,26,78,4,18,23,26,72,19,26,30,26,82,-10,5,7,25,79,-12,5,7,25,83,-13,7,8,26,80,-11,6,8,25,77,-9,8,10,26,78,-11,6,8,26,78,-10,6,7,26,82,-2,27,31,26,79,-2,39,45,26,79,-10,8,11,26,71,32,46,56,26,75,11,32,42,26,73,8,40,45,26,79,-10,5,7,26,75,7,22,25,26,70,16,24,28,26,79,-10,5,7,26,80,-13,6,7,26,80,-12,7,8,25,78,-10,5,6,25,78,-10,6,8,25,77,-10,4,5,26,81,-10,4,6,27,81,-11,6,7,26,80,-11,6,8,25,84,-10,11,18,26,69,38,43,54,24,80,-8,7,8,27,71,18,52,58,29,69,26,60,67,26,78,-5,7,9,26,80,-8,6,8,25,79,-12,6,8,26,79,-13,5,6,25,78,-7,8,10,26,78,-11,6,8,25,78,-12,5,6,25,80,-10,6,7,26,80,-9,10,14,26,80,-11,6,9,26,78,19,40,49,27,69,45,60,76,26,74,23,52,62,27,75,0,25,31,26,72,12,30,43,28,73,12,29,37,26,79,-4,12,15,26,81,-12,6,7,26,80,-15,6,7,26,77,-13,5,7,25,81,-11,6,7,26,78,-15,6,7,26,79,-7,24,28,26,77,-5,32,40,26,77,6,27,33,26,78,13,42,50,26,74,30,57,68,27,73,24,39,49,26,74,27,51,61,25,78,-10,13,18,29,70,26,58,69,26,80,-9,5,6,26,81,-12,5,6,25,80,-13,6,7,26,77,-13,7,9,26,78,-16,7,8,25,80,-13,6,8,26,78,-11,7,9,26,77,-11,6,8,26,74,23,24,36,26,77,8,43,68,25,74,33,102,122,27,74,38,59,68,26,74,37,49,63,26,78,2,20,27,26,81,-3,9,12,25,82,-6,8,9,25,80,-12,5,6,26,79,-14,6,7,26,79,-8,6,8,26,78,-16,6,7,26,78,-13,6,8,25,78,-9,8,9,26,78,-12,6,7,27,77,13,24,36,27,79,8,40,54,26,76,9,38,49,26,76,22,39,45,26,71,38,38,45,25,77,16,33,40,26,80,-5,7,9,25,83,-7,6,7,26,79,-13,6,7,26,81,-13,6,8,26,79,-6,5,6,25,80,-9,6,8,26,82,-12,6,8,26,82,-7,9,11,26,79,-12,6,8,27,76,-16,7,10,27,75,33,63,74,26,69,18,25,35,26,72,32,43,50,26,76,19,33,46,26,77,22,44,54,26,80,-8,4,5,26,81,-8,4,6,25,79,-9,5,6,26,79,-14,5,6,25,81,-5,7,10,25,80,-7,8,10,26,81,-9,6,8,25,83,-5,12,22,25,80,1,30,42,26,79,-2,36,43,25,80,-2,17,23,27,79,27,58,65,25,79,-6,12,19,27,69,44,59,70,26,72,27,38,52,27,71,32,52,63,26,79,-9,7,13,26,80,-12,5,7,27,77,-15,5,7,26,82,-5,6,8,26,82,-8,7,8,25,82,-6,8,10,26,80,-2,16,24,26,81,-6,7,10,25,81,-6,6,14,25,83,-6,8,10,26,75,39,54,60,26,81,-10,6,7,26,77,-2,23,31,27,68,33,46,56,27,77,-13,8,14,26,80,-11,6,8,26,79,-15,6,7,27,77,-17,5,7,25,84,-3,9,11,24,84,-5,8,10,24,85,-4,9,11,25,84,-2,7,9,25,84,-3,7,9,25,83,-4,10,12,24,84,-4,8,10,25,80,17,26,37,26,80,-9,13,20,26,78,-14,6,8,26,72,11,41,46,27,78,-16,5,6,26,80,-11,6,7,26,78,-15,6,8,27,76,-16,6,8],solution:{type:"dig",spot:{x:2906,y:3296,level:0},description:"west of the snape grass at the tip of the hobgoblin peninsula."}},{id:60,type:"map",tier:"medium",image_url:"assets/Map_clue_Lighthouse_peninsula.png",text:["X marks the spot on a small landmass surrounded by water."],ocr_data:[26,77,176,26,77,-8,6,8,26,77,-9,8,10,25,78,-8,6,7,26,80,-5,5,6,25,77,-6,7,8,26,77,-8,7,9,26,77,-9,6,8,25,80,-11,7,9,25,86,-10,7,8,25,82,-11,6,7,26,82,-9,5,6,26,82,-11,4,6,25,82,-10,5,7,25,85,-11,6,7,26,81,-12,8,10,26,78,-8,7,9,25,76,-12,7,9,25,79,-9,5,7,26,81,-6,6,8,26,79,-7,7,8,26,77,-10,8,14,26,70,28,44,58,25,72,30,64,71,26,73,18,54,62,26,76,23,45,52,26,73,31,51,59,26,81,-9,8,12,26,76,-1,28,33,25,83,-14,7,8,26,80,-12,6,8,25,77,-10,8,10,26,78,-12,6,8,26,78,-11,6,7,25,82,-8,5,7,26,77,2,61,69,26,79,-11,5,7,26,78,-4,15,33,26,80,-11,6,8,25,79,-11,8,14,26,78,0,47,63,26,75,21,109,126,27,68,55,71,88,27,64,69,100,113,26,80,-14,6,7,26,80,-13,7,8,25,78,-11,5,6,25,78,-11,6,8,25,77,-11,4,5,26,81,-11,4,6,27,78,4,61,78,26,76,13,101,117,27,71,29,85,99,25,79,-2,52,62,25,77,17,108,129,27,69,29,67,89,26,72,15,36,40,26,68,41,58,69,26,73,22,33,45,25,78,-12,7,13,26,79,-14,5,6,25,78,-8,8,10,26,78,-12,6,8,25,78,-13,5,6,25,77,-2,23,32,27,72,13,33,43,26,79,-8,18,29,27,74,19,66,93,27,69,29,128,153,26,78,-3,20,32,26,74,-2,31,38,25,75,-1,21,27,27,70,35,52,59,25,80,-9,5,6,26,81,-13,6,7,26,80,-16,6,7,26,77,-14,5,7,25,81,-12,6,7,26,77,-11,14,17,26,75,0,23,30,26,76,-11,9,12,26,78,-15,5,6,26,79,-4,42,58,26,74,14,113,133,26,76,-12,9,16,26,68,30,52,61,26,68,36,62,71,27,75,14,33,41,26,80,-9,7,10,26,81,-13,5,6,25,80,-14,6,7,26,77,-14,7,9,26,78,-17,7,8,25,80,-13,9,13,27,68,33,58,66,26,67,34,58,65,26,74,4,55,64,26,75,17,110,132,25,77,-12,7,13,26,77,-6,17,26,26,67,48,59,71,26,68,42,61,71,26,80,1,34,40,25,81,1,40,45,25,80,-13,6,9,26,79,-15,6,7,26,79,-9,6,8,26,78,-17,6,7,26,78,-14,6,8,25,73,10,24,29,26,68,30,52,62,26,69,41,106,120,27,77,9,47,64,26,71,27,54,62,26,69,39,52,60,26,72,19,54,71,27,65,51,65,79,26,78,1,16,23,25,83,-8,6,7,26,79,-14,6,7,26,81,-14,6,8,26,79,-7,5,6,25,80,-10,6,8,26,82,-13,6,8,26,68,45,61,71,26,79,-13,6,8,27,76,-18,6,7,27,68,35,66,77,26,78,3,18,22,25,79,-7,11,15,26,72,24,34,44,26,72,25,35,44,26,80,-9,4,5,26,81,-9,4,6,25,79,-10,5,6,26,79,-15,5,6,25,81,-6,7,10,25,80,-8,8,10,26,81,-10,6,8,26,69,44,56,65,25,78,2,26,36,26,75,13,37,44,26,74,20,25,33,26,78,-5,30,35,26,78,-2,44,52,26,78,-10,9,12,25,79,-11,5,6,26,76,-16,4,5,26,79,-12,4,5,26,80,-13,5,7,27,77,-16,5,7,26,82,-6,6,8,26,82,-9,7,8,25,82,-7,8,10,25,79,-3,13,17,27,71,31,35,45,26,71,37,46,56,25,83,-5,10,15,25,83,-7,7,9,26,81,-11,6,7,26,78,-13,11,13,26,76,-6,45,50,27,75,-7,51,58,26,79,-7,25,29,26,79,-16,6,7,27,77,-18,5,7,25,84,-4,9,11,24,84,-6,8,10,24,85,-5,9,11,25,84,-3,7,9,25,84,-4,7,9,25,83,-5,10,12,24,84,-5,8,10,25,85,-7,10,12,26,80,-14,6,8,26,78,-15,6,8,26,77,-17,6,7,27,78,-17,5,6,26,80,-12,6,7,26,78,-16,6,8,27,76,-17,6,8],solution:{type:"dig",spot:{x:2579,y:3597,level:0},description:"at the end of the branching path next to the crystal tree"}},{id:61,type:"map",image_url:"assets/Map_clue_Haunted_Mine.png",tier:"medium",text:["X marks the spot near some weird looking grass"],ocr_data:[26,76,169,26,77,-15,6,8,26,77,-16,8,10,25,78,-15,6,8,26,80,-12,5,7,25,77,-13,7,9,26,77,-5,24,30,26,77,-16,7,12,25,79,-1,32,36,25,86,-17,8,12,26,79,2,31,38,26,82,-16,5,6,26,81,2,27,32,25,82,-16,6,10,25,85,-18,6,7,26,81,-19,8,10,26,78,-15,7,9,25,76,-19,7,9,25,78,-5,27,33,26,76,20,38,47,26,79,-14,7,8,27,73,28,58,67,26,78,-11,41,49,25,75,25,47,56,25,80,-20,6,10,26,77,28,54,65,26,83,-10,26,31,26,77,13,36,43,26,78,-9,17,20,25,83,-21,7,8,26,80,-19,6,8,25,77,-17,8,10,26,78,-19,6,8,26,78,-18,6,7,26,76,28,47,58,29,70,17,111,128,26,78,-6,15,21,26,75,27,62,71,26,76,22,49,57,25,79,-18,7,9,26,74,30,54,71,26,80,-7,28,39,26,77,6,35,43,26,78,-1,17,20,26,80,-21,6,7,26,80,-20,7,8,25,78,-18,5,6,25,78,-18,6,8,25,77,-18,4,5,27,73,31,58,68,30,68,29,137,164,27,75,-3,43,57,25,84,-19,7,9,25,80,-18,18,23,24,80,-6,17,22,26,73,28,62,73,27,70,20,39,49,26,74,20,43,53,28,72,18,94,103,25,79,-20,6,8,26,79,-21,5,6,25,78,-15,8,10,26,78,-19,6,8,26,75,11,51,60,25,79,-1,46,70,29,68,46,105,135,29,73,8,73,95,26,79,-9,28,42,26,75,13,30,40,25,79,-14,13,18,27,73,26,60,68,26,73,27,52,58,27,76,19,47,63,30,67,32,146,175,26,79,-14,21,29,26,80,-23,6,7,26,77,-21,5,7,25,81,-19,6,7,26,76,0,20,23,26,76,4,37,49,27,74,24,53,66,31,63,36,154,186,28,68,22,91,115,26,69,2,51,59,26,64,5,106,112,26,67,3,43,54,25,78,-19,7,9,27,79,-16,7,12,29,68,25,132,163,28,73,8,74,91,25,80,-21,6,7,26,77,-21,7,9,26,78,-24,7,8,26,79,2,18,23,27,77,0,41,56,27,74,26,50,57,30,65,24,142,169,28,62,36,137,171,25,72,-5,92,103,26,78,-18,7,9,25,70,4,38,50,26,78,-12,15,22,26,81,-10,14,21,27,77,5,66,86,28,70,18,102,121,26,79,-22,6,7,26,79,-16,6,8,26,78,-24,6,8,26,75,25,62,74,26,77,8,57,73,29,66,43,121,138,31,65,30,158,188,28,68,51,152,189,28,70,20,113,138,26,79,-8,21,36,26,70,3,40,50,29,69,26,116,140,29,70,23,116,134,27,75,13,90,110,28,73,-1,54,70,26,81,-21,6,8,26,79,-14,5,6,25,80,-17,6,8,26,82,-17,12,18,26,76,29,57,65,28,73,5,75,98,31,64,29,148,191,31,65,30,147,187,30,67,31,147,178,28,70,17,102,116,26,64,14,134,150,29,68,24,119,144,30,66,32,141,176,30,67,30,142,169,25,79,-16,6,10,26,79,-22,5,6,25,81,-13,7,10,25,80,-15,8,10,26,81,-17,6,8,26,78,25,35,52,25,79,-11,16,24,28,70,18,114,128,29,67,28,132,157,30,66,33,148,183,26,75,-6,36,51,26,69,1,26,42,28,71,10,87,112,29,67,15,103,134,28,71,10,80,106,26,80,-20,5,8,27,77,-23,5,7,26,82,-13,6,8,26,82,-16,7,8,25,82,-8,20,31,26,76,22,25,39,26,81,-14,7,8,25,81,-16,6,8,25,83,-14,8,10,25,83,-13,8,13,27,75,1,66,78,26,68,-4,36,46,26,67,-2,31,41,28,74,-9,52,68,27,76,-4,56,67,26,79,-23,6,7,27,77,-25,5,7,25,84,-11,9,11,24,84,-13,8,10,24,84,-9,13,18,25,83,-7,11,14,25,84,-11,7,9,25,83,-12,10,12,24,84,-12,8,10,25,85,-14,10,12,27,75,-1,72,81,26,78,-22,7,11,26,76,-23,8,12,27,78,-24,5,6,26,80,-19,6,7,26,78,-23,6,8,27,76,-24,6,8],solution:{type:"dig",spot:{x:3434,y:3265,level:0},description:"four tiles west of the mushroom"}},{id:62,type:"map",tier:"medium",image_url:"assets/Map_clue_Draynor.png",text:["X marks the spot at the end of a path starting from a rock and near a fishing spot."],ocr_data:[26,78,180,26,77,-4,6,8,26,77,-5,8,10,25,78,-4,6,7,26,79,3,17,23,25,77,-2,7,8,26,77,-4,7,9,26,77,-5,6,8,25,80,-7,7,9,25,86,-6,7,8,25,82,-7,6,7,26,82,-5,5,6,26,82,-7,4,6,25,82,-6,5,7,25,85,-7,6,7,26,81,-8,8,10,26,78,-4,7,9,25,76,-8,7,9,25,79,-5,5,7,26,73,28,35,45,27,70,36,58,67,26,78,-7,7,8,26,77,-3,10,14,24,80,-6,9,14,25,80,-9,5,7,26,84,-5,5,6,26,83,-3,6,8,26,82,-7,5,6,25,79,-9,5,7,25,83,-10,7,8,26,80,-8,6,8,25,77,-6,8,10,26,78,-8,6,8,26,78,-7,6,7,25,82,-4,5,7,27,75,12,21,27,27,69,38,64,74,27,73,15,33,37,27,74,14,28,41,27,73,13,23,28,29,69,32,43,53,26,75,9,90,103,26,74,6,34,43,26,74,4,16,18,26,80,-10,6,7,26,80,-9,7,8,25,78,-7,5,6,25,78,-7,6,8,25,77,-7,4,5,26,81,-7,4,6,27,81,-8,6,7,26,75,12,22,29,26,71,41,68,80,25,78,-3,20,29,26,71,20,47,51,26,73,10,49,64,26,74,4,38,41,26,66,25,25,28,26,66,29,25,28,25,79,-9,6,8,26,79,-10,5,6,25,78,-4,8,10,26,78,-8,6,8,25,78,-9,5,6,25,80,-7,6,8,26,80,1,41,50,26,80,-6,16,21,26,78,1,17,21,27,68,41,68,78,26,78,-1,19,29,29,66,39,78,98,25,71,8,79,80,27,77,2,32,41,25,80,-5,5,6,26,81,-9,6,7,26,80,-12,6,7,26,77,-10,5,7,25,81,-8,6,7,26,78,-12,6,7,26,79,-8,10,19,26,77,-6,9,16,26,78,-10,5,11,25,80,-10,7,8,26,77,0,17,22,27,69,41,60,73,26,73,5,30,34,25,76,-3,20,32,27,72,8,48,63,26,78,0,52,58,26,81,-9,5,6,25,80,-10,6,7,26,77,-10,7,9,26,78,-13,7,8,25,80,-10,6,8,26,78,-8,7,9,26,77,-8,6,8,26,76,-11,7,8,26,78,-13,6,8,26,76,-3,23,28,27,58,62,41,54,27,74,31,68,82,28,72,25,39,46,26,77,25,76,91,25,80,13,60,75,25,80,-9,5,6,26,79,-11,6,7,26,79,-5,6,8,26,78,-13,6,7,26,78,-10,6,8,25,78,-6,8,13,26,78,-6,23,33,27,78,-8,29,42,27,81,-11,7,14,26,81,-8,6,7,26,78,11,23,27,26,72,31,41,48,25,78,5,17,25,25,77,25,68,78,25,81,9,38,44,26,79,-10,6,7,26,81,-10,6,8,26,79,-3,5,6,25,80,-6,6,8,26,82,-9,6,8,26,82,-2,15,24,26,79,-4,16,26,27,76,-9,12,19,27,77,-6,17,30,26,81,-8,7,8,25,80,-6,7,14,26,68,44,40,52,25,80,-4,6,7,26,80,-5,4,5,26,81,-5,4,6,25,79,-6,5,6,26,79,-11,5,6,25,81,-2,7,10,25,80,-4,8,10,26,81,-6,6,8,25,83,-3,8,10,25,80,-4,6,7,26,79,-6,6,7,25,80,-5,7,12,26,79,-7,5,7,25,79,-7,6,7,26,68,43,57,64,25,79,-7,5,6,26,76,-12,4,5,26,79,-8,4,5,26,80,-9,5,7,27,77,-12,5,7,26,82,-2,6,8,26,82,-5,7,8,25,82,-3,8,10,25,80,-4,7,9,26,81,-3,7,8,25,81,-3,14,16,26,83,6,44,52,25,83,1,24,28,26,81,-7,6,7,27,69,37,42,53,26,76,-1,19,28,27,77,-13,5,6,26,80,-8,6,8,26,79,-12,6,7,27,77,-14,5,7,25,84,0,9,11,24,84,-2,8,10,24,85,-1,9,11,25,84,1,7,9,25,84,0,7,9,25,83,-1,10,12,24,84,-1,8,10,25,85,-3,10,12,26,80,-10,6,8,26,77,-7,13,17,26,73,11,35,42,27,78,-13,5,6,26,80,-8,6,7,26,78,-12,6,8,27,76,-13,6,8],solution:{type:"dig",spot:{x:3092,y:3225,level:0},description:"between the southern most willow tree and the small obelisk"}},{id:40,type:"map",tier:"hard",text:["A crate at a group of three buildings."],image_url:"assets/Map_clue_Observatory.png",ocr_data:[26,77,185,26,77,1,6,8,26,77,0,8,10,25,78,1,6,7,26,80,4,5,6,25,77,3,7,8,26,76,5,14,20,26,73,14,19,23,25,80,-2,7,9,25,86,-1,7,8,25,82,-2,6,7,26,82,0,5,6,26,82,-2,4,6,25,82,1,13,18,25,85,-2,6,7,26,81,-3,8,10,26,78,1,7,9,25,76,-3,7,9,25,79,0,5,7,26,81,3,6,8,27,74,18,22,27,27,74,12,24,31,27,69,25,37,53,24,80,-3,6,8,25,80,-4,5,7,26,84,0,5,6,26,83,2,6,8,26,81,6,18,27,26,77,12,44,55,25,83,-5,7,8,26,80,-3,6,8,25,77,-1,8,10,26,78,-3,6,8,26,78,-2,6,7,25,82,1,5,7,27,71,23,40,55,27,76,6,14,25,26,76,9,17,22,28,69,35,47,61,26,75,9,26,30,26,77,20,45,51,26,76,34,59,65,26,76,21,42,47,26,79,-2,5,7,26,80,-5,6,7,26,80,-4,7,8,25,78,-2,5,6,25,78,-2,6,8,25,77,-2,4,5,26,81,-2,4,16,29,65,50,64,76,26,79,0,15,19,26,77,17,33,38,26,72,17,34,53,25,75,33,61,73,26,76,23,46,51,26,76,21,43,49,26,75,23,43,48,26,80,0,6,8,25,79,-4,6,8,26,79,-5,5,6,25,78,1,8,10,26,78,-3,6,8,25,78,-4,5,6,25,80,1,12,34,27,75,30,47,58,27,76,25,43,49,26,78,16,38,44,26,77,-8,5,7,26,75,33,60,66,26,76,13,35,39,26,73,33,65,69,27,76,22,42,49,25,80,0,5,7,26,81,-4,6,7,26,80,-7,6,7,26,77,-5,5,7,25,81,-3,6,7,26,78,-7,6,7,26,76,19,60,68,26,74,18,46,55,26,78,-6,5,6,26,77,20,48,54,26,78,0,15,18,26,76,-4,7,8,25,78,-2,7,8,25,78,-3,7,9,27,78,3,12,17,26,78,16,58,63,26,81,-4,5,6,25,80,-5,6,7,26,77,-5,7,9,26,78,-8,7,8,25,80,-5,6,8,27,74,25,67,78,29,62,62,86,108,29,54,71,50,60,28,67,52,65,73,26,74,21,48,54,26,78,-2,7,9,25,81,1,8,10,26,79,2,8,10,26,82,4,7,8,25,82,2,8,9,25,80,-4,5,6,26,79,-6,6,7,26,79,0,6,8,26,78,-8,6,7,26,78,-5,6,8,25,78,3,14,23,27,71,45,91,106,29,57,85,72,82,28,70,52,53,61,26,79,9,28,35,26,81,2,7,9,26,79,4,20,28,26,78,29,49,54,26,78,22,37,43,25,83,1,6,7,26,79,-5,6,7,26,81,-5,6,8,26,79,2,5,6,25,80,-1,6,8,26,82,-4,6,8,26,82,1,9,11,26,77,14,42,51,27,75,-1,6,29,27,76,0,6,30,26,81,0,7,18,25,80,-1,6,7,26,74,47,57,83,26,77,25,43,48,26,77,21,42,47,26,81,0,4,6,25,79,-1,5,6,26,79,-6,5,6,25,81,3,7,10,25,80,1,8,10,26,81,-1,6,8,25,83,2,8,10,25,80,1,6,7,26,79,-1,6,7,25,80,0,7,8,26,79,-2,5,7,25,79,-2,6,7,26,76,12,24,41,25,79,-2,5,6,26,74,15,43,48,26,79,-3,4,5,26,80,-4,5,7,27,77,-7,5,7,26,82,3,6,8,26,82,0,7,8,25,82,2,8,10,25,80,1,7,9,26,81,2,7,8,25,81,1,7,12,28,70,40,53,60,25,83,2,7,9,26,81,-2,6,7,27,75,24,40,51,27,75,23,43,49,27,76,4,25,30,26,80,-3,6,8,26,79,-7,6,7,27,77,-9,5,7,25,84,5,9,11,24,84,3,8,10,24,85,4,9,11,25,84,6,7,9,25,84,5,7,9,25,83,4,10,12,24,79,16,33,38,25,85,2,10,12,26,80,-5,6,8,26,78,-6,6,8,26,77,-8,6,7,27,78,-8,5,6,26,80,-3,6,7,26,78,-7,6,8,27,76,-8,6,8],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2457,y:3182},botright:{x:2457,y:3182}}}},{id:41,type:"map",tier:"hard",text:["X marks the spot next to a tree behind a building in the corner of a city."],image_url:"assets/Map_clue_Yanille_anvil.png",ocr_data:[26,77,176,26,77,-8,6,8,26,77,-9,8,10,25,78,-8,6,7,26,80,-5,5,6,25,77,-6,7,8,26,76,2,28,32,26,77,-9,6,8,25,79,-2,25,29,25,84,-1,21,25,26,80,-1,22,26,26,82,-9,5,6,26,82,-11,4,6,25,82,-10,5,7,25,85,-11,6,7,26,81,-12,8,10,26,78,-8,7,9,25,76,-12,7,9,25,79,-9,5,7,26,81,-6,6,8,26,79,-7,7,8,26,76,7,41,47,26,76,3,43,49,25,77,11,55,61,26,76,15,43,49,26,79,19,42,47,26,79,3,17,22,26,81,-9,7,13,25,79,-13,5,7,25,83,-14,7,8,26,80,-12,6,8,25,77,-10,8,10,26,78,-12,6,8,26,78,-11,6,7,25,82,-8,5,7,26,80,-11,5,6,26,77,0,37,48,26,79,-5,18,28,26,80,-11,6,8,26,76,17,44,50,26,76,18,42,47,27,70,21,35,48,26,75,3,17,27,26,79,-11,5,7,26,80,-14,6,7,26,80,-13,7,8,25,78,-11,5,6,25,78,-11,6,8,25,77,-11,4,5,26,81,-11,4,6,27,81,-12,6,10,26,79,-1,43,48,26,81,5,51,62,25,79,-1,42,52,25,77,19,43,49,26,75,19,43,48,26,78,-8,7,9,26,78,-6,7,9,26,80,-9,6,8,25,79,-13,6,8,26,79,-14,5,6,25,78,-8,8,10,26,78,-12,6,8,26,77,-5,28,32,25,78,3,45,54,27,77,13,66,80,26,80,-12,6,8,26,81,-15,5,7,26,75,6,66,83,26,75,21,50,60,27,75,17,43,49,25,77,-9,6,8,27,79,-7,7,9,28,67,31,61,66,26,81,-13,6,7,26,80,-16,6,7,26,77,-14,5,7,25,81,-12,6,7,26,78,-16,6,7,26,77,1,44,50,26,75,4,51,60,26,76,0,45,55,26,78,4,47,63,27,63,56,110,137,28,68,34,67,81,26,74,17,43,49,25,78,-12,7,9,27,79,-10,7,9,26,76,-1,23,26,26,81,-13,5,6,25,80,-14,6,7,26,77,-14,7,9,26,78,-17,7,8,25,79,-7,27,42,26,76,1,41,68,26,77,-12,6,29,26,75,-6,30,61,26,76,4,60,99,25,67,38,121,160,26,73,20,70,82,26,76,22,55,61,26,79,-7,8,10,26,82,-5,7,8,25,82,-7,8,9,25,80,-13,5,6,26,79,-15,6,7,26,79,-9,6,8,26,78,-17,6,7,26,75,8,41,46,26,72,43,64,71,27,71,45,63,70,27,71,43,63,71,27,73,44,64,72,27,73,45,62,69,26,75,31,72,84,26,77,7,32,48,25,74,23,34,39,26,72,24,34,40,26,73,31,47,54,26,79,-14,6,7,26,81,-14,6,8,26,79,-7,5,6,25,80,-10,6,8,27,74,8,34,48,28,71,24,64,76,27,76,-3,27,35,27,76,-18,6,7,27,74,-5,18,22,26,78,-1,18,23,25,80,-10,6,7,26,66,50,64,74,26,75,10,21,25,26,76,7,24,32,26,80,-4,9,14,25,79,-10,5,6,26,79,-15,5,6,25,81,-6,7,10,25,80,-8,8,10,26,80,-8,10,14,26,71,22,61,76,26,72,15,45,52,27,73,6,27,31,26,76,2,28,32,26,73,7,29,35,26,70,32,59,70,26,72,20,33,44,25,79,-9,15,18,26,74,-5,50,59,26,79,-9,21,23,26,80,-13,5,7,27,77,-16,5,7,26,82,-6,6,8,26,82,-9,7,8,25,82,-7,8,10,25,80,-8,7,9,26,81,-7,7,10,27,69,24,53,61,26,77,18,42,50,26,69,46,65,77,26,74,16,26,32,26,77,-6,43,47,26,76,-4,52,59,27,77,-13,21,25,26,80,-12,6,8,26,79,-16,6,7,27,77,-18,5,7,25,84,-4,9,11,24,84,-6,8,10,24,85,-5,9,11,25,84,-3,7,9,25,84,-4,7,9,25,79,13,39,46,25,76,25,30,36,25,83,-1,17,23,26,80,-14,6,8,26,78,-15,6,8,26,77,-17,6,7,27,78,-17,5,6,26,80,-12,6,7,26,78,-16,6,8,27,76,-17,6,8],solution:{type:"dig",spot:{x:2616,y:3077,level:0},description:"inside, next to the south-eastern wall of the anvil building, or outside next to the tree"}},{id:42,type:"map",tier:"hard",text:["X marks the spot between two tables."],image_url:"assets/Map_clue_Legends_Guild.png",ocr_data:[26,77,176,26,77,-8,6,8,26,77,-9,8,10,25,78,-8,6,7,26,80,-5,5,6,25,77,-6,7,8,26,77,-8,7,9,26,77,-9,6,8,25,79,0,22,26,26,81,19,40,46,25,82,-11,6,7,26,82,-9,5,6,26,82,-11,4,6,25,82,-10,5,7,25,85,-11,6,7,26,81,-12,8,10,26,78,-8,7,9,25,76,-12,7,9,25,79,-9,5,9,26,76,21,67,79,27,71,43,116,133,26,70,34,99,115,26,75,2,34,47,26,70,43,40,46,31,58,88,8,17,26,81,4,27,34,27,72,24,58,62,26,76,25,60,65,26,74,17,52,57,25,83,-14,7,8,26,80,-12,6,8,25,77,-10,8,10,26,78,-12,6,8,26,78,-11,6,7,27,73,35,38,43,31,59,87,12,19,27,76,9,33,46,26,72,36,101,118,26,72,38,80,113,26,72,48,76,95,26,79,-11,5,7,26,78,-2,20,23,26,72,34,56,68,27,70,44,75,89,26,80,-14,6,7,26,80,-13,7,8,25,78,-11,5,6,25,78,-11,6,8,25,77,-10,5,12,27,74,32,55,63,27,70,64,76,87,26,80,-9,10,19,27,72,21,59,66,25,76,8,41,57,25,72,43,88,105,26,71,39,99,111,27,71,41,92,113,27,71,44,111,127,26,78,4,29,35,25,79,-13,6,8,26,79,-14,5,6,25,78,-8,8,10,26,78,-12,6,8,26,73,16,40,45,31,58,87,4,5,27,73,27,41,48,28,68,23,64,70,26,79,-10,17,20,26,77,-17,5,7,25,79,-11,6,8,26,78,-12,6,8,25,77,-9,6,11,28,69,23,45,55,26,79,-5,14,17,26,81,-13,6,7,26,80,-16,6,7,26,77,-14,5,7,25,81,-12,6,7,26,78,-14,10,14,26,71,46,78,89,26,76,-8,17,24,28,68,18,60,66,25,80,-14,7,8,26,74,-2,26,36,27,68,9,44,64,25,78,-11,7,10,25,78,-12,7,9,27,78,-8,12,16,26,80,-10,5,6,26,81,-13,5,6,25,80,-14,6,7,26,77,-14,7,9,26,78,-17,7,8,25,80,-14,6,8,26,78,-12,7,9,26,77,-12,6,8,26,73,-6,30,33,26,78,-17,6,8,26,70,4,31,34,26,68,14,30,38,25,80,-5,11,18,26,79,-7,8,10,26,82,-5,7,8,25,82,-7,8,9,25,80,-13,5,6,26,79,-15,6,7,26,79,-9,6,8,26,78,-17,6,7,26,78,-14,6,8,25,78,-10,8,9,26,78,-13,6,7,27,78,-16,5,7,27,81,-15,6,8,26,77,5,72,84,26,76,22,66,81,25,73,21,79,92,25,82,-7,6,8,26,80,-6,7,9,26,78,8,34,37,27,72,5,31,40,26,81,-14,6,8,26,79,-7,5,6,25,80,-10,6,8,26,82,-13,6,8,26,82,-8,9,11,26,75,4,90,103,27,76,-14,33,39,27,77,-16,6,12,26,79,4,28,64,25,76,13,42,63,25,72,23,81,93,25,80,-8,6,7,26,78,-3,15,20,26,80,-7,9,12,25,78,-8,8,11,26,79,-15,5,6,25,81,-6,7,10,25,80,-8,8,10,26,81,-10,6,8,25,83,-7,8,10,25,77,0,25,29,26,79,-10,6,7,25,76,2,76,88,26,78,1,25,46,25,79,-11,6,7,26,78,-11,6,7,25,79,-11,5,6,27,68,7,43,46,26,78,-8,12,16,26,80,-13,5,7,27,77,-16,5,7,26,82,-6,6,8,26,82,-9,7,8,25,82,-7,8,10,25,80,-8,7,9,26,81,-7,7,8,25,81,-9,6,8,26,77,8,31,43,26,74,17,45,71,26,81,-11,6,7,26,78,-14,5,6,26,78,-15,5,6,27,77,-17,5,6,26,80,-12,6,8,26,79,-16,6,7,27,77,-18,5,7,25,84,-4,9,11,24,84,-6,8,10,24,85,-5,9,11,25,84,-3,7,9,25,84,-4,7,9,25,83,-5,10,12,24,76,14,34,37,25,74,17,41,45,26,80,-14,6,8,26,78,-15,6,8,26,77,-17,6,7,27,78,-17,5,6,26,80,-12,6,7,26,78,-16,6,8,27,76,-17,6,8],solution:{type:"dig",spot:{x:2723,y:3338,level:0},description:"two tiles south of the northern bench"}},{id:43,type:"map",tier:"hard",image_url:"assets/Map_clue_West_Ardougne.png",text:["X marks the spot in one of multiple column-like buildings."],ocr_data:[26,79,181,26,77,-3,6,8,26,77,-4,8,10,25,78,-3,6,7,26,80,0,5,6,25,77,-1,7,8,26,77,-3,7,9,26,77,-4,6,8,25,80,-6,7,9,25,86,-5,7,8,25,82,-6,6,7,26,82,-4,5,6,26,82,-6,4,6,25,82,-5,5,7,25,85,-6,6,7,26,81,-7,8,10,26,78,-3,7,9,25,76,-7,7,9,25,79,-4,5,7,26,81,-1,6,8,26,77,15,40,44,26,75,18,73,81,26,75,15,43,50,25,77,18,62,82,25,77,13,43,49,26,78,32,78,87,26,80,15,44,49,26,79,16,63,68,25,79,-8,5,7,25,83,-9,7,8,26,80,-7,6,8,25,77,-5,8,10,26,78,-7,6,8,26,78,-6,6,7,25,82,-3,5,7,26,78,4,37,41,27,75,21,67,75,26,77,14,43,49,26,76,24,53,72,26,77,7,44,50,26,76,25,75,87,26,79,8,38,43,26,76,21,67,73,26,79,-6,5,7,26,80,-9,6,7,26,80,-8,7,8,25,78,-6,5,6,25,78,-6,6,8,25,77,-6,4,5,26,81,-6,4,6,27,81,-7,6,7,26,80,-7,6,8,25,84,-7,7,9,25,80,-10,6,8,24,80,-4,7,8,25,78,-5,6,8,26,78,-3,7,9,26,78,-1,7,9,26,80,-4,6,8,25,79,-8,6,8,26,79,-9,5,6,25,78,-3,8,10,26,78,-7,6,8,25,78,-8,5,6,25,80,-6,6,7,26,80,-6,6,7,26,80,-7,6,8,26,81,-10,5,7,26,77,-12,5,7,25,79,-6,6,8,26,78,-7,6,8,25,77,-4,6,8,27,79,-2,7,9,25,80,-4,5,6,26,81,-8,6,7,26,80,-11,6,7,26,77,-9,5,7,25,81,-7,6,7,26,78,-11,6,7,26,79,-8,6,8,26,75,13,70,76,26,76,10,59,65,25,80,-9,7,8,26,76,15,58,81,26,74,7,56,61,25,77,-6,8,15,25,66,65,155,190,27,77,13,53,64,26,80,-5,5,6,26,81,-8,5,6,25,80,-9,6,7,26,77,-9,7,9,26,78,-12,7,8,25,80,-9,6,8,26,78,-7,7,9,26,75,8,47,53,26,75,5,49,56,26,78,-12,6,8,26,75,6,27,53,26,76,9,46,52,25,81,-3,8,10,26,77,9,25,49,26,81,5,21,28,25,82,-2,8,9,25,80,-8,5,6,26,79,-10,6,7,26,79,-4,6,8,26,78,-12,6,7,26,78,-9,6,8,25,78,-5,8,9,26,75,17,58,80,27,75,12,56,75,27,81,-10,6,8,26,78,14,35,70,26,78,17,50,65,26,80,-4,7,9,26,79,18,35,67,26,78,17,52,65,25,83,-3,6,7,26,79,-9,6,7,26,81,-9,6,8,26,79,-2,5,6,25,80,-5,6,8,26,82,-8,6,8,26,82,-3,9,11,26,77,6,46,53,27,75,2,48,53,27,77,-11,6,8,26,80,3,23,40,25,79,3,31,34,25,80,-6,5,7,26,79,7,21,38,26,79,3,25,28,26,81,-4,4,6,25,79,-5,5,6,26,79,-10,5,6,25,81,-1,7,10,25,80,-3,8,10,26,81,-5,6,8,25,83,-2,8,10,26,77,21,67,76,26,76,17,61,69,25,80,-4,7,8,26,76,20,60,86,26,77,10,49,56,26,78,-6,6,7,26,75,21,57,84,26,74,6,50,57,26,79,-7,4,5,26,80,-8,5,7,27,77,-11,5,7,26,82,-1,6,8,26,82,-4,7,8,25,82,-2,8,10,25,80,-3,7,9,27,79,12,50,54,26,79,11,46,52,25,83,-2,8,10,26,81,11,29,51,26,79,8,46,54,26,78,-9,5,6,26,76,5,30,53,27,75,4,47,55,26,80,-7,6,8,26,79,-11,6,7,27,77,-13,5,7,25,84,1,9,11,24,84,-1,8,10,24,85,0,9,11,25,84,2,7,9,25,84,1,7,9,25,83,1,10,17,24,84,0,8,10,25,85,-2,10,12,26,80,-8,6,13,26,78,-10,6,8,26,77,-12,6,7,27,78,-11,5,12,26,80,-7,6,7,26,78,-11,6,8,27,76,-12,6,8],solution:{type:"dig",description:"in the north-western corner of the building",spot:{x:2488,y:3308,level:0}}},{id:46,type:"map",tier:"hard",image_url:"assets/Map_clue_Dark_Warriors_Fortress.png",text:["A crate in the courtyard of a castle."],ocr_data:[26,77,170,26,77,-14,6,8,26,77,-15,8,10,25,78,-14,6,7,26,80,-11,5,6,25,77,-12,7,8,26,77,-14,7,9,26,77,-15,10,13,25,80,-17,9,11,25,86,-16,7,8,25,82,-17,6,7,26,82,-15,5,10,26,82,-16,6,10,25,82,-16,5,7,25,85,-17,6,7,26,81,-18,8,10,26,78,-14,7,9,25,76,-18,7,9,25,79,-15,5,7,26,75,14,31,39,27,67,37,58,66,26,67,28,35,49,26,68,27,57,69,25,72,22,56,69,26,71,27,55,66,26,73,21,23,32,27,69,43,58,68,27,67,42,58,68,26,77,-11,14,18,25,83,-20,7,8,26,80,-18,6,8,25,77,-16,8,10,26,78,-18,6,8,26,78,-17,6,7,27,69,38,58,66,27,78,2,37,43,27,75,17,60,74,26,76,16,55,72,26,77,1,30,37,26,77,-5,20,36,26,74,22,63,78,26,78,12,45,50,26,74,13,38,50,26,74,6,20,24,26,80,-20,6,7,26,80,-19,7,8,25,78,-17,5,6,25,78,-17,6,8,25,77,-17,4,5,27,69,32,48,55,27,79,8,44,49,26,80,-18,6,8,26,80,16,56,64,26,78,3,45,51,25,78,7,42,48,26,75,14,46,53,26,77,-2,25,28,27,69,33,52,63,26,77,-1,19,22,25,79,-19,6,8,26,79,-20,5,6,25,78,-14,8,10,26,78,-18,6,8,25,78,-19,5,6,26,71,27,32,49,27,76,13,52,66,27,76,11,49,57,27,76,22,67,77,26,75,1,44,50,26,77,6,42,48,27,73,24,67,83,26,74,19,54,60,27,70,30,51,60,26,77,1,20,24,26,81,-19,6,7,26,80,-22,6,7,26,77,-20,5,7,25,81,-18,6,7,26,78,-17,17,21,27,71,25,47,56,26,76,-9,24,33,26,76,3,44,50,26,78,3,44,50,26,79,-21,7,8,26,76,-19,7,8,26,76,6,44,62,26,76,5,26,39,27,72,15,37,42,26,76,0,18,21,26,81,-19,5,6,25,80,-20,6,7,26,77,-20,7,9,26,78,-23,7,8,25,79,-15,17,21,27,68,39,60,74,26,76,-12,15,23,26,74,3,47,53,29,58,46,57,65,28,66,32,47,52,26,78,-17,7,9,25,78,9,45,67,26,77,10,27,37,26,77,7,33,40,26,73,17,21,24,25,80,-19,5,6,26,79,-21,6,7,26,79,-15,6,8,26,78,-23,6,7,26,78,-20,6,8,26,67,34,54,66,26,75,8,51,57,27,75,9,50,58,29,60,52,60,69,28,70,37,50,58,26,78,9,42,48,27,75,26,66,77,26,78,16,43,53,26,78,7,29,56,26,70,32,27,41,26,79,-20,6,7,26,81,-20,6,8,26,79,-13,5,6,25,80,-16,6,8,26,82,-19,6,8,26,71,33,49,56,26,76,6,45,51,27,76,-24,6,7,27,74,13,51,64,26,78,5,32,49,26,77,7,31,48,26,76,13,45,53,25,80,-14,6,7,26,77,9,31,48,26,69,36,55,61,25,79,-16,5,6,26,79,-21,5,6,25,81,-12,7,10,25,80,-14,8,10,26,81,-16,6,8,26,71,33,53,60,26,78,3,34,40,26,77,8,43,49,26,78,5,42,56,26,79,-17,5,7,25,79,-17,6,15,26,77,5,40,46,26,76,6,41,47,26,74,-8,26,40,26,67,38,56,65,26,80,-19,5,7,27,77,-22,5,7,26,82,-12,6,8,26,82,-15,7,8,25,82,-13,8,10,26,74,10,25,32,27,70,33,52,59,26,72,29,53,60,26,70,39,42,58,26,70,39,56,70,27,69,35,42,68,27,67,32,56,64,27,68,28,57,64,27,70,18,37,48,26,78,-10,14,19,26,79,-22,6,7,27,77,-24,5,7,25,84,-10,9,11,24,84,-12,8,10,24,85,-11,9,11,25,84,-9,7,9,25,84,-10,7,9,25,83,-11,10,12,24,84,-11,8,10,25,84,-8,21,32,26,80,-13,25,35,26,78,-21,6,11,26,77,-23,6,7,27,78,-23,5,6,26,80,-18,6,7,26,78,-22,6,8,27,76,-23,6,8],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3026,y:3629},botright:{x:3026,y:3629}}}},{id:47,type:"map",tier:"hard",image_url:"assets/Map_clue_Fort_Forinthry.png",text:["A crate outside of some fort's walls."],ocr_data:[26,77,176,26,77,-7,6,8,26,77,-9,8,10,25,78,-8,6,7,26,80,-5,5,6,25,77,-6,7,8,26,77,-8,7,9,26,77,-9,6,8,25,80,-11,7,9,25,86,-10,7,8,25,83,-11,6,7,26,81,-9,5,7,26,82,-11,5,6,25,82,-10,5,7,25,85,-11,6,7,26,81,-12,8,10,26,78,0,35,41,26,75,12,89,102,25,79,-8,6,11,26,81,-6,6,8,26,79,-7,7,8,26,77,-10,7,8,26,78,-11,6,7,24,80,-11,6,8,25,80,-14,5,7,26,84,-9,5,6,26,83,-7,6,7,26,82,-11,5,6,26,79,-3,33,42,26,82,3,64,77,26,81,-9,15,21,25,77,-9,8,10,26,78,-2,39,49,27,78,15,75,88,26,81,17,68,77,27,80,14,68,76,27,78,13,69,77,26,80,-2,33,37,26,80,-11,6,8,26,79,5,55,62,26,78,22,87,102,27,80,23,85,97,27,79,18,68,77,27,79,14,72,85,26,67,11,51,64,26,69,2,24,27,25,78,-11,5,6,25,78,-11,6,8,26,77,-11,4,6,26,81,-11,5,6,27,81,-12,6,7,26,80,-12,7,8,25,84,-12,7,8,25,81,-15,6,8,25,63,14,32,39,25,67,39,95,108,26,75,18,71,86,26,78,-3,13,18,32,75,41,44,51,28,73,17,44,52,26,79,-14,5,6,25,78,-8,8,9,26,78,-12,6,8,25,78,-12,5,6,25,80,-12,6,7,26,80,-11,6,7,26,80,-12,6,8,26,81,-15,5,7,26,77,-17,5,7,25,79,-11,6,12,27,34,39,19,23,25,55,19,18,21,27,79,-1,17,24,31,74,44,40,48,28,78,14,37,42,26,80,-15,6,7,26,77,-13,5,7,25,81,-12,6,7,26,78,-16,6,7,26,79,-13,6,8,26,77,-13,6,8,26,78,-15,5,6,26,80,0,25,37,26,78,-4,27,36,26,76,-12,10,16,28,21,56,7,11,27,35,38,17,20,27,79,-10,7,9,26,81,2,22,28,28,81,12,42,49,27,80,4,30,35,26,77,-14,7,8,26,78,-16,7,8,25,80,-14,6,8,26,78,-13,7,9,26,77,-12,6,8,26,72,-8,15,19,27,76,6,40,53,26,76,10,49,55,26,78,-11,7,9,26,54,15,17,20,27,70,12,32,38,26,82,5,22,28,25,82,-6,7,10,32,73,50,42,53,31,73,41,45,53,26,77,8,53,58,27,76,3,31,50,26,77,4,25,40,26,77,0,25,31,27,78,3,23,31,27,71,16,34,54,28,78,23,67,80,27,78,11,46,54,26,67,9,29,33,25,80,-8,10,17,33,73,49,29,36,33,70,53,28,36,25,83,-3,10,17,26,80,2,32,37,27,82,0,30,40,27,78,16,46,53,26,78,11,48,57,27,78,15,48,65,27,78,26,48,72,27,78,10,24,43,27,76,-11,16,27,27,77,-16,6,8,26,78,12,48,54,25,68,5,15,18,26,55,16,18,21,28,78,31,46,51,30,78,34,52,58,26,81,-8,5,6,25,79,-10,5,6,26,79,-15,5,6,25,81,-6,8,10,25,80,-8,9,11,26,81,-10,6,8,25,83,-8,8,11,25,80,-1,10,25,26,78,7,25,35,26,76,19,54,65,26,77,13,45,51,26,60,11,17,20,26,43,28,15,19,26,79,-4,16,23,26,77,-6,19,23,26,79,-12,4,5,26,80,-13,5,7,27,77,-16,5,7,26,82,-6,6,8,26,81,-9,7,8,25,82,-7,8,10,25,80,-8,7,9,26,81,-7,7,8,25,81,-8,6,8,26,80,20,43,50,26,80,16,44,49,26,81,-11,6,7,26,79,-14,5,6,26,78,-14,5,6,27,77,-17,5,6,26,79,-12,6,7,26,79,-16,6,7,27,77,-18,6,7,25,84,-4,8,10,25,84,-6,9,11,24,84,-5,10,12,25,83,-4,7,8,25,84,-5,6,8,25,83,-5,10,12,25,81,20,44,50,26,83,19,40,46,26,81,-14,6,8,26,78,-16,6,8,26,77,-17,6,7,27,78,-17,5,6,26,79,-12,6,7,26,78,-16,6,8,27,76,-17,6,8],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3312,y:3528},botright:{x:3312,y:3528}}}},{id:59,type:"map",tier:"hard",image_url:"assets/Map_clue_small_volcanoes.png",text:["X marks the spot between three small volcanoes."],ocr_data:[26,78,184,26,77,0,6,8,26,77,-1,8,10,25,78,0,6,7,26,79,8,24,32,26,77,4,10,20,26,77,0,7,9,26,77,-1,6,8,25,80,-3,7,9,25,86,-2,7,8,25,82,-3,6,7,26,82,-1,5,6,26,82,-3,4,6,25,82,-2,5,7,25,85,-3,6,7,26,81,-4,8,10,26,78,0,7,9,25,76,-4,7,9,25,79,-1,5,7,26,75,19,61,68,26,78,4,18,25,26,78,-3,7,8,25,78,-3,6,7,24,80,-4,6,8,25,80,-5,5,7,26,84,-1,5,6,26,83,1,6,8,26,82,-3,5,6,25,79,-5,5,7,25,83,-6,7,8,26,80,-4,6,8,25,77,-2,8,10,26,78,-4,6,8,26,78,-3,6,7,25,82,0,5,7,26,80,-3,5,6,26,79,-3,5,7,26,80,-4,5,6,26,80,-3,6,8,25,79,-4,7,8,26,79,-3,5,7,26,81,0,6,7,26,79,-1,5,6,26,79,-3,5,7,26,80,-6,6,7,26,80,-5,7,8,25,78,-3,5,6,25,78,-3,6,8,25,77,-3,4,5,26,81,-3,4,6,27,81,-4,6,7,26,80,0,14,19,25,84,-2,12,17,25,80,-7,6,8,24,80,-1,7,8,25,78,-2,6,8,26,78,0,7,9,26,78,2,7,9,26,80,-1,6,8,25,79,-5,6,8,26,79,-6,5,6,25,78,0,8,10,26,78,-4,6,8,25,78,-5,5,6,25,80,-3,6,7,26,80,-3,6,7,25,58,36,42,47,25,63,27,36,41,26,77,-9,5,7,25,79,-3,6,8,26,77,-3,11,22,25,77,-1,6,8,27,79,1,8,12,26,76,19,96,103,26,81,-5,6,7,26,80,-8,6,7,26,77,-6,5,7,25,81,-4,6,7,26,78,-8,6,7,26,79,-5,6,8,26,77,-6,6,7,26,78,-7,5,6,25,80,-4,14,23,25,71,61,122,141,26,63,20,42,55,24,46,101,37,51,25,76,0,13,20,27,79,-2,7,9,26,77,5,20,23,26,81,-5,5,6,25,80,-6,6,7,26,77,-6,7,9,26,78,-9,7,8,25,80,-6,6,8,26,78,-4,7,9,26,77,-4,6,8,26,76,-7,7,8,26,78,-8,7,13,25,75,15,38,47,25,63,22,31,41,23,47,47,22,26,26,71,13,22,27,26,82,3,7,8,25,82,1,8,9,25,80,-5,5,6,26,79,-7,6,7,26,79,-1,6,8,26,78,-9,6,7,26,78,-6,6,8,25,78,-2,8,9,26,78,-5,6,7,27,78,-8,5,7,27,81,-7,6,8,26,81,-4,6,7,26,81,1,7,9,26,80,-1,7,9,25,82,1,6,8,26,80,2,7,9,25,83,0,6,7,26,79,-6,6,7,26,81,-6,6,8,26,79,1,5,6,25,80,-2,6,8,26,82,-5,6,8,26,82,0,9,11,26,79,-5,6,8,27,76,-10,6,7,27,77,-8,6,11,24,53,58,59,66,25,79,-1,7,13,25,80,-3,5,7,25,80,0,6,7,26,80,-1,4,5,26,81,-1,4,6,25,79,-2,5,6,26,79,-7,5,6,25,81,2,7,10,25,80,0,8,10,26,81,-2,6,8,25,83,1,8,10,25,80,0,6,7,26,79,-2,6,7,25,80,-1,7,11,25,70,11,21,25,25,78,-2,7,11,26,78,-3,6,7,25,79,-3,5,6,26,76,-8,4,5,26,79,-4,4,5,26,80,-5,5,7,27,77,-8,5,7,26,82,2,6,8,26,82,-1,7,8,25,82,1,8,10,25,80,0,7,9,26,80,5,25,33,26,77,17,76,86,25,83,1,8,10,25,83,1,7,9,26,81,-3,6,7,26,78,-6,5,6,26,78,-7,5,6,27,77,-9,5,6,26,80,-4,6,8,26,79,-8,6,7,27,77,-10,5,7,25,84,4,9,11,24,84,2,8,10,24,85,3,9,11,25,84,5,7,9,25,84,4,7,9,25,81,8,18,24,24,84,3,8,10,25,85,1,10,12,26,80,-6,6,8,26,78,-7,6,8,26,77,-9,6,7,27,78,-9,5,6,26,80,-4,6,7,26,78,-8,6,8,27,76,-9,6,8],solution:{type:"dig",spot:{x:3021,y:3913,level:0},description:"two tiles west of the large geyser"}}],e.anagram=[{id:14,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Eek Zero Op"],challenge:[{type:"challengescroll",question:"How many animals are in the Ardougne Zoo?",answers:[{answer:40,note:"Before Eagles' Peak and Hunt for Red Raktuber"},{answer:41,note:"After either Eagles' Peak or Hunt for Red Raktuber"},{answer:42,note:"After both Eagles' Peak and Hunt for Red Raktuber"}]}],solution:{type:"talkto",npc:"Zookeeper",spots:[{range:{origin:{x:2607,y:3268,level:0},size:{x:14,y:14}},description:"in Ardougne Zoo"}]},anagram:["Eek Zero Op"]},{id:24,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Stab Ob","This anagram reveals who to speak to next: Boast B"],solution:{type:"talkto",spots:[{id:"before-death-plateu",description:"in his cave near Burthorpe",range:{origin:{x:2267,y:4752,level:0},size:{x:5,y:9}},note:"Before 'Death Plateu'"}],npc:"Sabbot"},anagram:["Stab Ob","Boast B"]},{id:318,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Nod med"],challenge:[{type:"challengescroll",question:"How many pigeon cages are there around the back of Jerico's house?",answers:[{answer:3}]}],solution:{type:"talkto",npc:"Edmond",spots:[{range:{origin:{x:2564,y:3330,level:0},size:{x:7,y:7}},description:"north of Ardougne castle"}]},anagram:["Nod med"]},{id:320,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Winston Lane"],challenge:[{type:"challengescroll",question:"How many tables are there in the Pick and Lute Inn?",answers:[{answer:10}]}],solution:{type:"talkto",npc:"Nails Newton",spots:[{range:{origin:{x:2880,y:3443,level:0},size:{x:3,y:3}},description:"near Taverley Lodestone"}]},anagram:["Winston Lane"]},{id:321,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Or A Vile"],challenge:[{type:"challengescroll",question:"How many windows look out into the Citharede Abbey courtyard?",answers:[{answer:17}]}],solution:{type:"talkto",npc:"Valerio",spots:[{range:{origin:{x:3399,y:3148,level:0},size:{x:3,y:3}},description:"outside of the abbey"}]},anagram:["Or A Vile"]},{id:322,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Icy Fe"],solution:{type:"talkto",npc:"Fycie",spots:[{range:{origin:{x:2646,y:9390,level:0},size:{x:8,y:9}},description:"in Rantz's cave"}]},anagram:["Icy Fe"]},{id:323,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Aha Jar"],solution:{type:"talkto",npc:"Jaraah",spots:[{range:{origin:{x:3290,y:3215,level:0},size:{x:8,y:5}},description:"at the northern end of Al Kharid"}]},anagram:["Aha Jar"]},{id:326,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Bail Trims"],solution:{type:"talkto",spots:[{range:{origin:{x:2405,y:9815,level:0},size:{x:9,y:8}},description:"in his cave at Tree Gnome Stronghold"}],npc:"Brimstail"},anagram:["Bail Trims"]},{id:327,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Ok Co"],challenge:[{type:"challengescroll",question:"How many cannons does Lumbridge Castle have?",answers:[{answer:7}]}],solution:{type:"talkto",npc:"Cook",spots:[{range:{origin:{x:3208,y:3215,level:0},size:{x:3,y:1}},description:"in Lumbridge Castle's kitchen"}]},anagram:["Ok Co"]},{id:328,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Are Col"],challenge:[{type:"challengescroll",question:"If x is 15 and y is 3, what is 3x + y? ",answers:[{answer:48}]}],solution:{type:"talkto",npc:"Oracle",spots:[{range:{origin:{x:3008,y:3498,level:0},size:{x:12,y:6}},description:"on the peak of Ice Mountain"}]},anagram:["Are Col"]},{id:329,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Arc O Line"],challenge:[{type:"challengescroll",question:"How many fishermen are there on the Fishing Platform?",answers:[{answer:11,note:"Before 'Kennith's Concerns'"},{answer:0,note:"After 'Kennith's Concerns'"}]}],solution:{type:"talkto",npc:"Caroline",spots:[{id:"default",description:"in Witchhaven",range:{origin:{x:2713,y:3290,level:0},size:{x:6,y:16}},note:"Before 'Sea Slug'"},{range:{origin:{x:2708,y:3280,level:1},size:{x:5,y:6}},description:"in her house in Witchhaven",note:"After 'Sea Slug'."}]},anagram:["Arc O Line"]},{id:330,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Goblin Kern"],solution:{type:"talkto",spots:[{range:{origin:{x:2540,y:3167,level:0},size:{x:3,y:5}},description:"in Tree Gnome Village"}],npc:"King Bolren"},anagram:["Goblin Kern"]},{id:331,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Soy Drain"],challenge:[{type:"challengescroll",question:"How many ore rocks are there in the nearby copper and tin mine?",answers:[{answer:8}]}],solution:{type:"talkto",npc:"Ysondria",spots:[{range:{origin:{x:3219,y:3182,level:0},size:{x:3,y:3}},description:"at the Nexus"}]},anagram:["Soy Drain"]},{id:332,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Dt Run B"],challenge:[{type:"challengescroll",question:"How many people are waiting for the next bard to perform?",answers:[{answer:4}]}],solution:{type:"talkto",npc:"Brundt the Chieftain",spots:[{range:{origin:{x:2657,y:3666,level:0},size:{x:4,y:5}},description:"in Relekka Longhall"}]},anagram:["Dt Run B"]},{id:334,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Me if"],solution:{type:"talkto",spots:[{range:{origin:{x:2457,y:3380,level:0},size:{x:5,y:3}},description:"at gates of Tree Gnome Stronghold"}],npc:"Femi"},anagram:["Me if"]},{id:335,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: R Ak Mi"],challenge:[{type:"challengescroll",question:"I have 16 kebabs, I eat one myself and share the rest equally between 3 friends. How many do they have each?",answers:[{answer:5}]}],solution:{type:"talkto",npc:"Karim",spots:[{range:{origin:{x:3269,y:3182,level:0},size:{x:3,y:3}},description:"in Al Kharid"}]},anagram:["R Ak Mi"]},{id:336,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Got A Boy"],challenge:[{type:"challengescroll",question:"How many buildings are in the village?",answers:[{answer:11}]}],solution:{type:"talkto",npc:"Gabooty",spots:[{range:{origin:{x:2786,y:3063,level:0},size:{x:16,y:8}},description:"in Tai Bwo Wannai Village"}]},anagram:["Got A Boy"]},{id:337,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Halt Us"],solution:{type:"talkto",spots:[{range:{origin:{x:2935,y:3152,level:0},size:{x:7,y:5}},description:"at Musa Point"}],npc:"Luthas"},anagram:["Halt Us"]},{id:338,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Err Cure It"],challenge:[{type:"challengescroll",question:"How many houses have a cross on the door?",answers:[{answer:20}]}],solution:{type:"talkto",npc:"Recruiter",spots:[{range:{origin:{x:2539,y:3302,level:0},size:{x:6,y:7}},description:"in West Ardougne"}]},anagram:["Err Cure It"]},{id:339,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Iz A Ammo Load For Mrs Yakkers"],challenge:[{type:"challengescroll",question:"How many bottles are there on the stall to the east of Mr Ex?",answers:[{answer:7}]}],solution:{type:"talkto",npc:"Moldark, Emissary of Zamorak",spots:[{range:{origin:{x:3104,y:3508,level:0},size:{x:2,y:3}},description:"in Edgeville"}]},anagram:["Iz A Ammo Load For Mrs Yakkers"]},{id:340,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Im Krom"],challenge:[{type:"challengescroll",question:"How many rocks in the Rimmington mine cannot be used to make bronze?",answers:[{answer:7}]}],solution:{type:"talkto",npc:"Rommik",spots:[{range:{origin:{x:2945,y:3193,level:0},size:{x:6,y:7}},description:"in Rimmington"}]},anagram:["Im Krom"]},{id:341,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: El Ow"],solution:{type:"talkto",spots:[{range:{origin:{x:3230,y:3420,level:0},size:{x:7,y:3}},description:"in Varrock's Archery Store"}],npc:"Lowe"},anagram:["El Ow"]},{id:342,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Peaty Pert"],solution:{type:"talkto",spots:[{range:{origin:{x:3048,y:3372,level:0},size:{x:7,y:7}},description:"in the Party Room"}],npc:"Party Pete"},anagram:["Peaty Pert"]},{id:343,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Lark In Dog"],challenge:[{type:"challengescroll",question:"How many bookcases are there in the Varrock Palace library?",answers:[{answer:24}]}],solution:{type:"talkto",npc:"King Roald",spots:[{range:{origin:{x:3217,y:3471,level:0},size:{x:8,y:8}},description:"in Varrock Castle"}]},anagram:["Lark In Dog"]},{id:20,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Me Am The Calc","This anagram reveals who to speak to next: Ace Match Elm","This anagram reveals who to speak to next: The Cal Came"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3284,y:3234,level:0},size:{x:11,y:8}},description:"north of Al Kharid"}],npc:"Cam the Camel"},anagram:["Me Am The Calc","Ace Match Elm","The Cal Came"]},{id:287,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: I Eat Its Chart Hints Do U"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3420,y:2926,level:0},size:{x:11,y:5}},description:"in Nardah"}],npc:"Shiratti the Custodian"},anagram:["I Eat Its Chart Hints Do U"]},{id:288,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: An Paint Tonic"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2860,y:9873,level:0},size:{x:18,y:11}},description:"in the Dwarven Tunnel under the White Wolf Mountain"}],npc:"Captain Ninto"},anagram:["An Paint Tonic"]},{id:289,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Arr! So I am a crust, and?"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2338,y:3673,level:0},size:{x:9,y:6}},description:"at the Piscatoris Fishing Colony"}],npc:"Ramara du Croissant"},anagram:["Arr! So I am a crust, and?"]},{id:290,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: C On Game Hoc"],challenge:[{type:"challengescroll",question:"How many gnomes on the gnome ball field have red patches on their uniforms?",answers:[{answer:6}]}],solution:{type:"talkto",npc:"Gnome Coach",spots:[{range:{origin:{x:2381,y:3479,level:0},size:{x:29,y:19}},description:"roaming around the gnomeball field"}]},anagram:["C On Game Hoc"]},{id:291,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: He Do Pose. It Is Cultrrl, Mk?"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2903,y:10206,level:0},size:{x:3,y:3}},description:"in eastern Keldagrim"}],npc:"Riki the sculptor's model"},anagram:["He Do Pose. It Is Cultrrl, Mk?"]},{id:292,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Profs Lose Wrong Pie"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3103,y:3146,level:0},size:{x:12,y:20}},description:"on the ground floor of Wizard's Tower"}],npc:"Professor Onglewip"},anagram:["Profs Lose Wrong Pie"]},{id:293,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: O Birdz A Zany En Pc"],challenge:[{type:"challengescroll",question:"How many banana trees are there in the plantation?",answers:[{answer:33}]}],solution:{type:"talkto",npc:"Cap'n Izzy No-Beard",spots:[{range:{origin:{x:2806,y:3190,level:0},size:{x:3,y:3}},description:"at the Agility Arena"}]},anagram:["O Birdz A Zany En Pc"]},{id:295,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Red Art Tans"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3032,y:3190,level:0},size:{x:3,y:2}},description:"in Port Sarim"}],npc:"Trader Stan"},anagram:["Red Art Tans"]},{id:296,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Or Zinc Fumes Ward"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2587,y:9488,level:0},size:{x:3,y:2}},description:"in the basement of Wizard's Guild"}],npc:"Wizard Frumscone"},anagram:["Or Zinc Fumes Ward"]},{id:297,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: By Look"],challenge:[{type:"challengescroll",question:"How many flowers are there in the clearing below this platform?",answers:[{answer:13}]}],solution:{type:"talkto",npc:"Bolkoy",spots:[{range:{origin:{x:2525,y:3160,level:1},size:{x:7,y:5}},description:"in Tree Gnome Village"}]},anagram:["By Look"]},{id:298,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Sequin Dirge"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2499,y:3861,level:1},size:{x:4,y:4}},note:"After 'Blood Runs Deep'",description:"in Miscellania's Throneroom"},{range:{origin:{x:2612,y:3871,level:1},size:{x:6,y:9}},note:"Before 'Blood Runs Deep'",description:"in Etceteria Castle"}],npc:"Queen Sigrid"},anagram:["Sequin Dirge"]},{id:299,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: A Zen She"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2657,y:3291,level:0},size:{x:5,y:3}},description:"in her house south of Ardougne Market"}],npc:"Zenesha"},anagram:["A Zen She"]},{id:300,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Gulag Run"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2437,y:3047,level:0},size:{x:14,y:11}},description:"south of Castle Wars"}],npc:"Uglug Nar"},anagram:["Gulag Run"]},{id:301,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Land Doomd"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3358,y:3502,level:0},size:{x:7,y:9}},description:"at the limestone mine"}],npc:"Odd Old Man"},anagram:["Land Doomd"]},{id:302,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: I Faffy Run"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2384,y:4466,level:0},size:{x:6,y:6}},description:"north of the bank in Zanaris"}],npc:"Fairy Nuff"},anagram:["I Faffy Run"]},{id:303,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: An exile that isn't wholly free WE IRK OVER NA."],solution:{type:"talkto",spots:[{range:{origin:{x:4644,y:5382,level:0},size:{x:5,y:5}},description:"at the bottom of Polypore Dungeon"}],npc:"Ramokee Skinweaver"},anagram:["An exile that isn't wholly free WE IRK OVER NA."]},{id:306,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: He often preaches of QUIT THY BRINE RAT ROLL"],solution:{type:"talkto",spots:[{range:{origin:{x:3679,y:2960,level:0},size:{x:5,y:5}},description:"by the docks on Mos Le'Harmless",note:"Mos Le'Harmless"},{range:{origin:{x:3783,y:2822,level:0},size:{x:8,y:8}},description:"on Harmony Island",note:"Harmony"}],npc:"Brother Tranquility"},anagram:["He often preaches of QUIT THY BRINE RAT ROLL"]},{id:307,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: They seek spirits O EASTERN WISHES"],challenge:[{type:"towers"}],solution:{type:"talkto",spots:[{range:{origin:{x:1784,y:11952,level:0},size:{x:3,y:3}},description:"on Tuaei Leit"}],npc:"Sensei Seaworth"},anagram:["They seek spirits O EASTERN WISHES"]},{id:308,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: This lady wants me to find ancient scrolls ERGO I DIG CLAY"],challenge:[{type:"towers"}],solution:{type:"talkto",spots:[{id:"outside",description:"outside of the entrance to the empty throne room",range:{origin:{x:3376,y:3403,level:0},size:{x:3,y:3}},note:"Outside the empty throne room"},{id:"inside",description:"inside the empty throne room",range:{origin:{x:2825,y:12630,level:2},size:{x:3,y:3}},note:"Inside the empty throne room"}],npc:"Celia Diggory"},anagram:["This lady wants me to find ancient scrolls ERGO I DIG CLAY"]},{id:309,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: Master of the elements, he may REIGN US IF IMMORTAL"],challenge:[{type:"lockbox"}],solution:{type:"talkto",spots:[{id:"armadyl-tower",range:{origin:{x:2997,y:3263,level:0},size:{x:8,y:11}},description:"by Armadyl's tower"},{id:"city-of-um",range:{origin:{x:1034,y:1762,level:1},size:{x:3,y:3}},description:"at the Ritual Site"}],npc:"Malignus mortifer"},anagram:["Master of the elements, he may REIGN US IF IMMORTAL"]},{id:310,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: If distracted from their work AH; WET ARM"],challenge:[{type:"lockbox"}],solution:{type:"talkto",spots:[{range:{origin:{x:2346,y:3163,level:0},size:{x:3,y:3}},description:"in Lletya"}],npc:"Amaethwr"},anagram:["If distracted from their work AH; WET ARM"]},{id:311,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: Young but stylish PIN HEIR ALL IN PLACE"],solution:{type:"talkto",npc:"Philippe Carnillean",spots:[{id:"before",description:"at Carnillean Mansion",range:{origin:{x:2564,y:3267,level:0},size:{x:12,y:8}},note:"Before Carnillean Rising"},{id:"50qp",description:"at the entrance of Ardounge Combat Training Camp",range:{origin:{x:2514,y:3354,level:0},size:{x:8,y:4}},note:"50 qp."},{id:"100qp",description:"at the entrance to Mountain Camp",range:{origin:{x:2752,y:3649,level:0},size:{x:8,y:8}},note:"100 qp."},{id:"150qp",description:"in Shilo Village",range:{origin:{x:2857,y:2993,level:1},size:{x:9,y:9}},note:"150 qp."},{id:"200qp",description:"in the Green Ghost Inn",range:{origin:{x:3671,y:3489,level:0},size:{x:11,y:11}},note:"200 qp."},{id:"250qp",description:"at the bottom of Polypore Dungeon",range:{origin:{x:4643,y:5384,level:0},size:{x:8,y:8}},note:"250 qp."},{id:"300qp",description:"outside of Oldak's house",range:{origin:{x:2709,y:5357,level:0},size:{x:6,y:6}},note:"300 qp."},{id:"350qp",description:"at Piscatoris Fishing Colony",range:{origin:{x:2338,y:3673,level:0},size:{x:9,y:6}},note:"350 qp."},{id:"400qp",description:"at the TzHaar fight Caves",range:{origin:{x:4610,y:5123,level:0},size:{x:8,y:8}},note:"400 qp."}]},anagram:["Young but stylish PIN HEIR ALL IN PLACE"]},{id:312,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: In his youth, this adventurer was a WINSOME LAD"],solution:{type:"talkto",spots:[{range:{origin:{x:3087,y:3254,level:0},size:{x:3,y:2}},description:"in Draynor"}],npc:"Wise Old Man"},anagram:["In his youth, this adventurer was a WINSOME LAD"]},{id:313,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: The cabbage diet must work because he has A PURE GLOW"],solution:{type:"talkto",spots:[{id:"farm",note:"Before Gower Quest",range:{origin:{x:3252,y:3353,level:0},size:{x:5,y:3}},description:"at the farm south of Varrock"},{id:"life-altar",note:"After Gower Quest",range:{origin:{x:1055,y:5549,level:1},size:{x:3,y:3}},description:"at the Life Altar"}],npc:"Paul Gower"},anagram:["The cabbage diet must work because he has A PURE GLOW"]},{id:314,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: Age allows a new perspective in this vital place TABOO RISES SHYLY"],solution:{type:"talkto",spots:[{range:{origin:{x:3197,y:6960,level:1},size:{x:3,y:3}},description:"at the entrance to Telos"}],npc:"Soothsayer Sybil"},anagram:["Age allows a new perspective in this vital place TABOO RISES SHYLY"]},{id:315,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: With her age, it's no surprise to HEAR A LADY RANT"],solution:{type:"talkto",spots:[{range:{origin:{x:2220,y:3297,level:1},size:{x:3,y:3}},description:"at the seren stones"}],npc:"Lady Trahaearn"},anagram:["With her age, it's no surprise to HEAR A LADY RANT"]},{id:316,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: He claimed to be a human scholar but I SAW THE LIE"],solution:{type:"talkto",spots:[{range:{origin:{x:3416,y:2935,level:0},size:{x:6,y:6}},description:"in Nardaah"}],npc:"Ali The Wise"},anagram:["He claimed to be a human scholar but I SAW THE LIE"]},{id:317,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: His job leaves him kind of HATED"],solution:{type:"talkto",spots:[{id:"office",range:{origin:{x:414,y:674,level:0}},description:"in Death's Office",note:"Death's Office"}],npc:"Death"},anagram:["His job leaves him kind of HATED"]}],e.coordinates=[{id:402,type:"coordinates",tier:"medium",text:["00 degrees 05 minutes south,01 degrees 13 minutes east"],coordinates:{latitude:{degrees:0,minutes:5,direction:"south"},longitude:{degrees:1,minutes:13,direction:"east"}}},{id:403,type:"coordinates",tier:"medium",text:["00 degrees 13 minutes south,14 degrees 00 minutes east"],coordinates:{latitude:{degrees:0,minutes:13,direction:"south"},longitude:{degrees:14,minutes:0,direction:"east"}}},{id:404,type:"coordinates",tier:"medium",text:["00 degrees 18 minutes south,09 degrees 28 minutes east"],coordinates:{latitude:{degrees:0,minutes:18,direction:"south"},longitude:{degrees:9,minutes:28,direction:"east"}}},{id:405,type:"coordinates",tier:"medium",text:["00 degrees 20 minutes south,23 degrees 15 minutes east"],coordinates:{latitude:{degrees:0,minutes:20,direction:"south"},longitude:{degrees:23,minutes:15,direction:"east"}}},{id:406,type:"coordinates",tier:"medium",text:["00 degrees 31 minutes south,17 degrees 43 minutes east"],coordinates:{latitude:{degrees:0,minutes:31,direction:"south"},longitude:{degrees:17,minutes:43,direction:"east"}}},{id:407,type:"coordinates",tier:"medium",text:["00 degrees 50 minutes north,24 degrees 16 minutes east"],coordinates:{latitude:{degrees:0,minutes:50,direction:"north"},longitude:{degrees:24,minutes:16,direction:"east"}}},{id:408,type:"coordinates",tier:"medium",text:["01 degrees 18 minutes south,14 degrees 15 minutes east"],coordinates:{latitude:{degrees:1,minutes:18,direction:"south"},longitude:{degrees:14,minutes:15,direction:"east"}}},{id:410,type:"coordinates",tier:"medium",text:["01 degrees 26 minutes north,08 degrees 01 minutes east"],coordinates:{latitude:{degrees:1,minutes:26,direction:"north"},longitude:{degrees:8,minutes:1,direction:"east"}}},{id:411,type:"coordinates",tier:"medium",text:["01 degrees 35 minutes south,07 degrees 28 minutes east"],coordinates:{latitude:{degrees:1,minutes:35,direction:"south"},longitude:{degrees:7,minutes:28,direction:"east"}}},{id:413,type:"coordinates",tier:"medium",text:["02 degrees 50 minutes north,06 degrees 20 minutes east"],coordinates:{latitude:{degrees:2,minutes:50,direction:"north"},longitude:{degrees:6,minutes:20,direction:"east"}}},{id:414,type:"coordinates",tier:"medium",text:["02 degrees 50 minutes north,21 degrees 46 minutes east"],coordinates:{latitude:{degrees:2,minutes:50,direction:"north"},longitude:{degrees:21,minutes:46,direction:"east"}}},{id:416,type:"coordinates",tier:"medium",text:["03 degrees 35 minutes south,13 degrees 35 minutes east"],coordinates:{latitude:{degrees:3,minutes:35,direction:"south"},longitude:{degrees:13,minutes:35,direction:"east"}}},{id:419,type:"coordinates",tier:"medium",text:["04 degrees 00 minutes south,12 degrees 46 minutes east"],coordinates:{latitude:{degrees:4,minutes:0,direction:"south"},longitude:{degrees:12,minutes:46,direction:"east"}}},{id:422,type:"coordinates",tier:"medium",text:["04 degrees 13 minutes north,12 degrees 45 minutes east"],coordinates:{latitude:{degrees:4,minutes:13,direction:"north"},longitude:{degrees:12,minutes:45,direction:"east"}}},{id:425,type:"coordinates",tier:"medium",text:["05 degrees 20 minutes south,04 degrees 28 minutes east"],coordinates:{latitude:{degrees:5,minutes:20,direction:"south"},longitude:{degrees:4,minutes:28,direction:"east"}}},{id:427,type:"coordinates",tier:"medium",text:["05 degrees 43 minutes north,23 degrees 05 minutes east"],coordinates:{latitude:{degrees:5,minutes:43,direction:"north"},longitude:{degrees:23,minutes:5,direction:"east"}}},{id:431,type:"coordinates",tier:"medium",text:["06 degrees 31 minutes north,01 degrees 46 minutes west"],coordinates:{latitude:{degrees:6,minutes:31,direction:"north"},longitude:{degrees:1,minutes:46,direction:"west"}}},{id:432,type:"coordinates",tier:"medium",text:["07 degrees 05 minutes north,30 degrees 56 minutes east"],coordinates:{latitude:{degrees:7,minutes:5,direction:"north"},longitude:{degrees:30,minutes:56,direction:"east"}}},{id:434,type:"coordinates",tier:"medium",text:["07 degrees 33 minutes north,15 degrees 00 minutes east"],coordinates:{latitude:{degrees:7,minutes:33,direction:"north"},longitude:{degrees:15,minutes:0,direction:"east"}}},{id:440,type:"coordinates",tier:"medium",text:["08 degrees 33 minutes north,01 degrees 39 minutes west"],coordinates:{latitude:{degrees:8,minutes:33,direction:"north"},longitude:{degrees:1,minutes:39,direction:"west"}}},{id:442,type:"coordinates",tier:"medium",text:["09 degrees 33 minutes north,02 degrees 15 minutes east"],coordinates:{latitude:{degrees:9,minutes:33,direction:"north"},longitude:{degrees:2,minutes:15,direction:"east"}}},{id:443,type:"coordinates",tier:"medium",text:["09 degrees 48 minutes north,17 degrees 39 minutes east"],coordinates:{latitude:{degrees:9,minutes:48,direction:"north"},longitude:{degrees:17,minutes:39,direction:"east"}}},{id:444,type:"coordinates",tier:"medium",text:["11 degrees 03 minutes north,31 degrees 20 minutes east"],coordinates:{latitude:{degrees:11,minutes:3,direction:"north"},longitude:{degrees:31,minutes:20,direction:"east"}}},{id:445,type:"coordinates",tier:"medium",text:["11 degrees 05 minutes north,00 degrees 45 minutes west"],coordinates:{latitude:{degrees:11,minutes:5,direction:"north"},longitude:{degrees:0,minutes:45,direction:"west"}}},{id:446,type:"coordinates",tier:"medium",text:["11 degrees 41 minutes north,14 degrees 58 minutes east"],coordinates:{latitude:{degrees:11,minutes:41,direction:"north"},longitude:{degrees:14,minutes:58,direction:"east"}}},{id:449,type:"coordinates",tier:"medium",text:["14 degrees 54 minutes north,09 degrees 13 minutes east"],coordinates:{latitude:{degrees:14,minutes:54,direction:"north"},longitude:{degrees:9,minutes:13,direction:"east"}}},{id:462,type:"coordinates",tier:"medium",text:["22 degrees 30 minutes north,03 degrees 01 minutes east"],coordinates:{latitude:{degrees:22,minutes:30,direction:"north"},longitude:{degrees:3,minutes:1,direction:"east"}}},{id:401,type:"coordinates",tier:"hard",text:["00 degrees 00 minutes north,07 degrees 13 minutes west"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:0,minutes:0,direction:"north"},longitude:{degrees:7,minutes:13,direction:"west"}}},{id:409,type:"coordinates",tier:"hard",text:["01 degrees 24 minutes north,08 degrees 05 minutes west"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:1,minutes:24,direction:"north"},longitude:{degrees:8,minutes:5,direction:"west"}}},{id:412,type:"coordinates",tier:"hard",text:["02 degrees 33 minutes north,28 degrees 45 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:2,minutes:33,direction:"north"},longitude:{degrees:28,minutes:45,direction:"east"}}},{id:415,type:"coordinates",tier:"hard",text:["03 degrees 03 minutes south,05 degrees 03 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:3,minutes:3,direction:"south"},longitude:{degrees:5,minutes:3,direction:"east"}}},{id:417,type:"coordinates",tier:"hard",text:["03 degrees 39 minutes south,13 degrees 58 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:3,minutes:39,direction:"south"},longitude:{degrees:13,minutes:58,direction:"east"}}},{id:418,type:"coordinates",tier:"hard",text:["03 degrees 45 minutes south,22 degrees 45 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:3,minutes:45,direction:"south"},longitude:{degrees:22,minutes:45,direction:"east"}}},{id:420,type:"coordinates",tier:"hard",text:["04 degrees 03 minutes south,03 degrees 11 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:4,minutes:3,direction:"south"},longitude:{degrees:3,minutes:11,direction:"east"}}},{id:421,type:"coordinates",tier:"hard",text:["04 degrees 05 minutes south,04 degrees 24 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:4,minutes:5,direction:"south"},longitude:{degrees:4,minutes:24,direction:"east"}}},{id:423,type:"coordinates",tier:"hard",text:["04 degrees 16 minutes south,16 degrees 16 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:4,minutes:16,direction:"south"},longitude:{degrees:16,minutes:16,direction:"east"}}},{id:424,type:"coordinates",tier:"hard",text:["04 degrees 41 minutes north,03 degrees 09 minutes west"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:4,minutes:41,direction:"north"},longitude:{degrees:3,minutes:9,direction:"west"}}},{id:426,type:"coordinates",tier:"hard",text:["05 degrees 37 minutes north,31 degrees 15 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:5,minutes:37,direction:"north"},longitude:{degrees:31,minutes:15,direction:"east"}}},{id:428,type:"coordinates",tier:"hard",text:["05 degrees 50 minutes south,10 degrees 05 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:5,minutes:50,direction:"south"},longitude:{degrees:10,minutes:5,direction:"east"}}},{id:429,type:"coordinates",tier:"hard",text:["06 degrees 00 minutes south,21 degrees 48 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:6,minutes:0,direction:"south"},longitude:{degrees:21,minutes:48,direction:"east"}}},{id:430,type:"coordinates",tier:"hard",text:["06 degrees 11 minutes south,15 degrees 07 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:6,minutes:11,direction:"south"},longitude:{degrees:15,minutes:7,direction:"east"}}},{id:433,type:"coordinates",tier:"hard",text:["07 degrees 22 minutes north,14 degrees 15 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:7,minutes:22,direction:"north"},longitude:{degrees:14,minutes:15,direction:"east"}}},{id:435,type:"coordinates",tier:"hard",text:["07 degrees 41 minutes north,06 degrees 00 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:7,minutes:41,direction:"north"},longitude:{degrees:6,minutes:0,direction:"east"}}},{id:436,type:"coordinates",tier:"hard",text:["07 degrees 43 minutes south,12 degrees 26 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:7,minutes:43,direction:"south"},longitude:{degrees:12,minutes:26,direction:"east"}}},{id:437,type:"coordinates",tier:"hard",text:["08 degrees 03 minutes north,31 degrees 16 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:8,minutes:3,direction:"north"},longitude:{degrees:31,minutes:16,direction:"east"}}},{id:438,type:"coordinates",tier:"hard",text:["08 degrees 05 minutes south,15 degrees 56 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:8,minutes:5,direction:"south"},longitude:{degrees:15,minutes:56,direction:"east"}}},{id:439,type:"coordinates",tier:"hard",text:["08 degrees 26 minutes south,10 degrees 28 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:8,minutes:26,direction:"south"},longitude:{degrees:10,minutes:28,direction:"east"}}},{id:441,type:"coordinates",tier:"hard",text:["09 degrees 22 minutes north,02 degrees 24 minutes west"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:9,minutes:22,direction:"north"},longitude:{degrees:2,minutes:24,direction:"west"}}},{id:447,type:"coordinates",tier:"hard",text:["12 degrees 48 minutes north,20 degrees 20 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:12,minutes:48,direction:"north"},longitude:{degrees:20,minutes:20,direction:"east"}}},{id:448,type:"coordinates",tier:"hard",text:["13 degrees 46 minutes north,21 degrees 01 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:13,minutes:46,direction:"north"},longitude:{degrees:21,minutes:1,direction:"east"}}},{id:450,type:"coordinates",tier:"hard",text:["15 degrees 48 minutes north,13 degrees 52 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:15,minutes:48,direction:"north"},longitude:{degrees:13,minutes:52,direction:"east"}}},{id:451,type:"coordinates",tier:"hard",text:["16 degrees 20 minutes north,12 degrees 45 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:16,minutes:20,direction:"north"},longitude:{degrees:12,minutes:45,direction:"east"}}},{id:452,type:"coordinates",tier:"hard",text:["16 degrees 30 minutes north,16 degrees 28 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:16,minutes:30,direction:"north"},longitude:{degrees:16,minutes:28,direction:"east"}}},{id:453,type:"coordinates",tier:"hard",text:["16 degrees 35 minutes north,27 degrees 01 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:16,minutes:35,direction:"north"},longitude:{degrees:27,minutes:1,direction:"east"}}},{id:454,type:"coordinates",tier:"hard",text:["17 degrees 50 minutes north,08 degrees 30 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:17,minutes:50,direction:"north"},longitude:{degrees:8,minutes:30,direction:"east"}}},{id:455,type:"coordinates",tier:"hard",text:["18 degrees 03 minutes north,25 degrees 16 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:18,minutes:3,direction:"north"},longitude:{degrees:25,minutes:16,direction:"east"}}},{id:456,type:"coordinates",tier:"hard",text:["18 degrees 22 minutes north,16 degrees 33 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:18,minutes:22,direction:"north"},longitude:{degrees:16,minutes:33,direction:"east"}}},{id:457,type:"coordinates",tier:"hard",text:["19 degrees 43 minutes north,25 degrees 07 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:19,minutes:43,direction:"north"},longitude:{degrees:25,minutes:7,direction:"east"}}},{id:458,type:"coordinates",tier:"hard",text:["20 degrees 05 minutes north,21 degrees 52 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:20,minutes:5,direction:"north"},longitude:{degrees:21,minutes:52,direction:"east"}}},{id:459,type:"coordinates",tier:"hard",text:["20 degrees 07 minutes north,18 degrees 33 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:20,minutes:7,direction:"north"},longitude:{degrees:18,minutes:33,direction:"east"}}},{id:460,type:"coordinates",tier:"hard",text:["20 degrees 33 minutes north,15 degrees 48 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:20,minutes:33,direction:"north"},longitude:{degrees:15,minutes:48,direction:"east"}}},{id:461,type:"coordinates",tier:"hard",text:["21 degrees 24 minutes north,17 degrees 54 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:21,minutes:24,direction:"north"},longitude:{degrees:17,minutes:54,direction:"east"}}},{id:463,type:"coordinates",tier:"hard",text:["22 degrees 35 minutes north,19 degrees 18 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:22,minutes:35,direction:"north"},longitude:{degrees:19,minutes:18,direction:"east"}}},{id:464,type:"coordinates",tier:"hard",text:["22 degrees 45 minutes north,26 degrees 33 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:22,minutes:45,direction:"north"},longitude:{degrees:26,minutes:33,direction:"east"}}},{id:465,type:"coordinates",tier:"hard",text:["24 degrees 26 minutes north,26 degrees 24 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:24,minutes:26,direction:"north"},longitude:{degrees:26,minutes:24,direction:"east"}}},{id:466,type:"coordinates",tier:"hard",text:["24 degrees 56 minutes north,22 degrees 28 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:24,minutes:56,direction:"north"},longitude:{degrees:22,minutes:28,direction:"east"}}},{id:467,type:"coordinates",tier:"hard",text:["24 degrees 58 minutes north,18 degrees 43 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:24,minutes:58,direction:"north"},longitude:{degrees:18,minutes:43,direction:"east"}}},{id:468,type:"coordinates",tier:"hard",text:["25 degrees 03 minutes north,17 degrees 05 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:25,minutes:3,direction:"north"},longitude:{degrees:17,minutes:5,direction:"east"}}},{id:469,type:"coordinates",tier:"hard",text:["25 degrees 03 minutes north,23 degrees 24 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:25,minutes:3,direction:"north"},longitude:{degrees:23,minutes:24,direction:"east"}}}],e.scan=[{id:36,type:"scan",tier:"elite",text:["This scroll will work in the deepest levels of the Wilderness. Orb scan range: 25 paces."],spots:[{x:2958,y:3917,level:0},{x:2979,y:3962,level:0},{x:2998,y:3914,level:0},{x:2956,y:3908,level:0},{x:2944,y:3909,level:0},{x:2990,y:3924,level:0},{x:3055,y:3914,level:0},{x:3060,y:3941,level:0},{x:3029,y:3949,level:0},{x:3012,y:3959,level:0},{x:3057,y:3948,level:0},{x:3048,y:3926,level:0},{x:3037,y:3925,level:0},{x:3031,y:3926,level:0},{x:3021,y:3926,level:0},{x:3110,y:3954,level:0},{x:3125,y:3909,level:0},{x:3080,y:3911,level:0},{x:3160,y:3943,level:0},{x:3182,y:3926,level:0},{x:3193,y:3950,level:0},{x:3179,y:3943,level:0},{x:3175,y:3962,level:0},{x:3242,y:3956,level:0},{x:3241,y:3944,level:0},{x:3210,y:3910,level:0},{x:3216,y:3944,level:0},{x:3266,y:3936,level:0},{x:3307,y:3916,level:0},{x:3306,y:3947,level:0},{x:3281,y:3942,level:0},{x:3315,y:3914,level:0},{x:3269,y:3914,level:0},{x:3380,y:3960,level:0},{x:3342,y:3894,level:0},{x:3334,y:3906,level:0},{x:3363,y:3960,level:0},{x:3346,y:3976,level:0},{x:3408,y:3937,level:0}],range:25,scantext:"the deepest levels of the Wilderness"},{id:349,type:"scan",tier:"elite",text:["This scroll will work in the desert, east of the Elid and north of Nardah. Orb scan range: 27 paces."],spots:[{x:3421,y:2949,level:0},{x:3444,y:2952,level:0},{x:3447,y:2967,level:0},{x:3438,y:2960,level:0},{x:3417,y:2959,level:0},{x:3427,y:2970,level:0},{x:3442,y:2974,level:0},{x:3408,y:2986,level:0},{x:3426,y:2984,level:0},{x:3436,y:2989,level:0},{x:3406,y:3003,level:0},{x:3393,y:2997,level:0},{x:3419,y:3017,level:0},{x:3382,y:3015,level:0},{x:3385,y:3024,level:0},{x:3383,y:3018,level:0},{x:3423,y:3020,level:0},{x:3448,y:3019,level:0},{x:3411,y:3048,level:0},{x:3422,y:3051,level:0},{x:3448,y:3063,level:0},{x:3401,y:3064,level:0},{x:3460,y:3022,level:0},{x:3476,y:3018,level:0},{x:3462,y:3047,level:0},{x:3465,y:3034,level:0},{x:3502,y:3050,level:0},{x:3510,y:3041,level:0},{x:3476,y:3057,level:0},{x:3480,y:3090,level:0},{x:3473,y:3082,level:0},{x:3482,y:3108,level:0},{x:3499,y:3104,level:0},{x:3505,y:3093,level:0},{x:3401,y:3099,level:0},{x:3396,y:3110,level:0},{x:3406,y:3126,level:0},{x:3433,y:3122,level:0},{x:3444,y:3085,level:0},{x:3446,y:3128,level:0},{x:3360,y:3095,level:0},{x:3387,y:3123,level:0},{x:3373,y:3126,level:0},{x:3384,y:3081,level:0},{x:3405,y:3136,level:0},{x:3409,y:3119,level:0},{x:3432,y:3105,level:0},{x:3427,y:3141,level:0},{x:3444,y:3141,level:0},{x:3435,y:3129,level:0},{x:3456,y:3140,level:0}],range:27,scantext:"the desert, east of the Elid and north of Nardah"},{id:350,type:"scan",tier:"elite",text:["This scroll will work in Isafdar and Lletya. Orb scan range: 22 paces."],spots:[{x:2173,y:3125,level:0},{x:2283,y:3265,level:0},{x:2217,y:3130,level:0},{x:2253,y:3118,level:0},{x:2247,y:3143,level:0},{x:2271,y:3165,level:0},{x:2287,y:3141,level:0},{x:2310,y:3187,level:0},{x:2331,y:3171,level:0},{x:2322,y:3190,level:0},{x:2348,y:3183,level:0},{x:2225,y:3145,level:0},{x:2186,y:3146,level:0},{x:2205,y:3155,level:0},{x:2216,y:3159,level:0},{x:2182,y:3192,level:0},{x:2226,y:3158,level:0},{x:2176,y:3201,level:0},{x:2225,y:3212,level:0},{x:2219,y:3221,level:0},{x:2194,y:3220,level:0},{x:2194,y:3237,level:0},{x:2229,y:3248,level:0},{x:2203,y:3254,level:0},{x:2258,y:3212,level:0},{x:2289,y:3220,level:0},{x:2302,y:3230,level:0},{x:2282,y:3262,level:0},{x:2232,y:3223,level:0}],range:22,scantext:"Isafdar and Lletya"},{id:351,type:"scan",tier:"elite",text:["This scroll will work within the walls of Varrock and the Grand Exchange Orb scan range: 16 paces"],spots:[{x:3197,y:3383,level:0},{x:3211,y:3385,level:0},{x:3228,y:3383,level:0},{x:3240,y:3383,level:0},{x:3175,y:3404,level:0},{x:3175,y:3415,level:0},{x:3196,y:3415,level:0},{x:3197,y:3423,level:0},{x:3253,y:3393,level:0},{x:3228,y:3409,level:0},{x:3231,y:3439,level:0},{x:3220,y:3407,level:0},{x:3204,y:3409,level:0},{x:3273,y:3398,level:0},{x:3284,y:3378,level:0},{x:3185,y:3472,level:0},{x:3188,y:3488,level:0},{x:3180,y:3510,level:0},{x:3141,y:3488,level:0},{x:3213,y:3484,level:0},{x:3230,y:3494,level:0},{x:3241,y:3480,level:0},{x:3213,y:3462,level:0},{x:3248,y:3454,level:0}],range:16,scantext:"Varrock and the Grand Exchange"},{id:352,type:"scan",tier:"elite",text:["This scroll will work within the walls of East or West Ardougne. Orb scan range: 22 paces."],spots:[{x:2442,y:3310,level:0},{x:2440,y:3319,level:0},{x:2462,y:3282,level:0},{x:2483,y:3313,level:0},{x:2467,y:3319,level:0},{x:2496,y:3282,level:0},{x:2517,y:3281,level:0},{x:2512,y:3267,level:0},{x:2529,y:3270,level:0},{x:2537,y:3306,level:0},{x:2520,y:3318,level:0},{x:2500,y:3290,level:0},{x:2540,y:3331,level:0},{x:2509,y:3330,level:0},{x:2475,y:3331,level:0},{x:2583,y:3265,level:0},{x:2589,y:3319,level:0},{x:2582,y:3314,level:0},{x:2623,y:3311,level:0},{x:2570,y:3321,level:0},{x:2662,y:3304,level:0},{x:2625,y:3292,level:0},{x:2635,y:3313,level:0},{x:2662,y:3338,level:0},{x:2633,y:3339,level:0},{x:2613,y:3337,level:0},{x:2589,y:3330,level:0},{x:2569,y:3340,level:0}],range:22,scantext:"East or West Ardougne"},{id:353,type:"scan",tier:"elite",text:["This scroll will work within the dwarven city of Keldagrim. Orb scan range: 11 paces."],spots:[{x:2841,y:10189,level:0},{x:2856,y:10192,level:0},{x:2822,y:10193,level:0},{x:2873,y:10194,level:0},{x:2872,y:10181,level:0},{x:2846,y:10233,level:0},{x:2860,y:10215,level:0},{x:2837,y:10209,level:0},{x:2905,y:10162,level:0},{x:2924,y:10162,level:0},{x:2938,y:10162,level:0},{x:2936,y:10206,level:0},{x:2906,y:10202,level:0},{x:2937,y:10191,level:0},{x:2904,y:10193,level:0},{x:2924,y:10191,level:0},{x:2922,y:10179,level:0},{x:2938,y:10179,level:0}],range:11,scantext:"Keldagrim"},{id:354,type:"scan",tier:"elite",text:["This scroll will work in Menaphos. Orb scan range: 30 paces"],spots:[{x:3099,y:2677,level:0},{x:3127,y:2643,level:0},{x:3095,y:2730,level:0},{x:3096,y:2692,level:0},{x:3108,y:2742,level:0},{x:3131,y:2791,level:0},{x:3135,y:2775,level:0},{x:3146,y:2659,level:0},{x:3155,y:2641,level:0},{x:3180,y:2669,level:0},{x:3180,y:2700,level:0},{x:3199,y:2750,level:0},{x:3145,y:2759,level:0},{x:3153,y:2799,level:0},{x:3165,y:2814,level:0},{x:3193,y:2797,level:0},{x:3237,y:2664,level:0},{x:3200,y:2709,level:0},{x:3210,y:2770,level:0},{x:3231,y:2770,level:0},{x:3238,y:2792,level:0}],range:30,scantext:"Menaphos"},{id:355,type:"scan",tier:"elite",text:["This scroll will work in the Piscatoris Hunter Area. Orb scan range: 14 paces."],spots:[{x:2310,y:3518,level:0},{x:2336,y:3540,level:0},{x:2364,y:3547,level:0},{x:2353,y:3543,level:0},{x:2324,y:3553,level:0},{x:2361,y:3567,level:0},{x:2308,y:3560,level:0},{x:2313,y:3576,level:0},{x:2331,y:3574,level:0},{x:2342,y:3575,level:0},{x:2358,y:3557,level:0},{x:2363,y:3527,level:0},{x:2358,y:3580,level:0},{x:2388,y:3586,level:0},{x:2398,y:3582,level:0},{x:2392,y:3591,level:0},{x:2373,y:3612,level:0},{x:2372,y:3626,level:0},{x:2318,y:3601,level:0},{x:2339,y:3589,level:0},{x:2362,y:3612,level:0},{x:2347,y:3609,level:0},{x:2332,y:3632,level:0},{x:2320,y:3625,level:0},{x:2344,y:3645,level:0},{x:2310,y:3587,level:0}],range:14,scantext:"Piscatoris Hunter Area"},{id:356,type:"scan",tier:"elite",text:["This scroll will work in Brimhaven Dungeon. Orb scan range: 14 paces."],spots:[{x:2703,y:9439,level:0},{x:2738,y:9456,level:0},{x:2737,y:9433,level:0},{x:2722,y:9444,level:0},{x:2729,y:9427,level:0},{x:2695,y:9457,level:0},{x:2739,y:9506,level:0},{x:2745,y:9488,level:0},{x:2707,y:9486,level:0},{x:2699,y:9481,level:0},{x:2730,y:9513,level:0},{x:2717,y:9517,level:0},{x:2712,y:9524,level:0},{x:2701,y:9516,level:0},{x:2713,y:9503,level:0},{x:2679,y:9479,level:0},{x:2650,y:9488,level:0},{x:2649,y:9499,level:0},{x:2665,y:9504,level:0},{x:2681,y:9505,level:0},{x:2647,y:9511,level:0},{x:2664,y:9522,level:0},{x:2672,y:9514,level:0},{x:2652,y:9528,level:0},{x:2640,y:9533,level:0},{x:2641,y:9541,level:0},{x:2680,y:9542,level:0},{x:2669,y:9573,level:0},{x:2675,y:9582,level:0},{x:2660,y:9589,level:0},{x:2642,y:9575,level:0},{x:2638,y:9594,level:2},{x:2630,y:9581,level:2},{x:2638,y:9566,level:2},{x:2634,y:9551,level:2},{x:2627,y:9530,level:2},{x:2631,y:9516,level:2},{x:2639,y:9504,level:2},{x:2628,y:9489,level:2},{x:2655,y:9475,level:2},{x:2703,y:9564,level:0},{x:2697,y:9563,level:0}],range:14,scantext:"Brimhaven Dungeon"},{id:357,type:"scan",tier:"elite",text:["This scroll will work in Taverley Dungeon. Orb scan range: 22 paces."],spots:[{x:2858,y:9788,level:0},{x:2870,y:9791,level:0},{x:2875,y:9805,level:0},{x:2832,y:9813,level:0},{x:2835,y:9819,level:0},{x:2822,y:9826,level:0},{x:2892,y:9783,level:0},{x:2895,y:9769,level:0},{x:2914,y:9757,level:0},{x:2936,y:9764,level:0},{x:2905,y:9734,level:0},{x:2907,y:9718,level:0},{x:2907,y:9705,level:0},{x:2926,y:9692,level:0},{x:2968,y:9786,level:0},{x:2952,y:9786,level:0},{x:2949,y:9773,level:0},{x:2938,y:9812,level:0},{x:2904,y:9809,level:0},{x:2884,y:9799,level:0},{x:2895,y:9831,level:0},{x:2933,y:9848,level:0},{x:2907,y:9842,level:0},{x:2888,y:9846,level:0},{x:2945,y:9796,level:0}],range:22,scantext:"Taverley Dungeon"},{id:358,type:"scan",tier:"elite",text:["This scroll will work on the faraway island of Mos Le'Harmless. Orb scan range: 27 paces."],spots:[{x:3702,y:2972,level:0},{x:3657,y:2955,level:0},{x:3699,y:2996,level:0},{x:3651,y:2991,level:0},{x:3692,y:2976,level:0},{x:3676,y:2981,level:0},{x:3773,y:2960,level:0},{x:3728,y:2973,level:0},{x:3730,y:2996,level:0},{x:3765,y:2995,level:0},{x:3717,y:2969,level:0},{x:3758,y:2956,level:0},{x:3752,y:3006,level:0},{x:3669,y:3055,level:0},{x:3695,y:3063,level:0},{x:3697,y:3052,level:0},{x:3687,y:3046,level:0},{x:3679,y:3018,level:0},{x:3702,y:3027,level:0},{x:3757,y:3063,level:0},{x:3742,y:3063,level:0},{x:3736,y:3041,level:0},{x:3726,y:3038,level:0},{x:3765,y:3030,level:0},{x:3769,y:3015,level:0},{x:3740,y:3018,level:0},{x:3802,y:3035,level:0},{x:3791,y:3023,level:0},{x:3818,y:3027,level:0},{x:3831,y:3031,level:0},{x:3843,y:2987,level:0},{x:3850,y:3010,level:0}],range:27,scantext:"Mos Le'Harmless"},{id:359,type:"scan",tier:"elite",text:["This scroll will work within the Haunted Woods. Orb scan range: 11 paces."],spots:[{x:3534,y:3470,level:0},{x:3523,y:3460,level:0},{x:3551,y:3514,level:0},{x:3575,y:3511,level:0},{x:3562,y:3509,level:0},{x:3583,y:3484,level:0},{x:3583,y:3466,level:0},{x:3552,y:3483,level:0},{x:3573,y:3484,level:0},{x:3529,y:3501,level:0},{x:3544,y:3465,level:0},{x:3567,y:3475,level:0},{x:3609,y:3499,level:0},{x:3596,y:3501,level:0},{x:3637,y:3486,level:0},{x:3623,y:3476,level:0},{x:3604,y:3507,level:0},{x:3624,y:3508,level:0},{x:3616,y:3512,level:0},{x:3606,y:3465,level:0},{x:3590,y:3475,level:0}],range:11,scantext:"the Haunted Woods"},{id:360,type:"scan",tier:"elite",text:["This scroll will work in the Kharazi Jungle. Orb scan range: 14 paces."],spots:[{x:2775,y:2891,level:0},{x:2786,y:2914,level:0},{x:2804,y:2924,level:0},{x:2762,y:2918,level:0},{x:2775,y:2936,level:0},{x:2766,y:2932,level:0},{x:2815,y:2887,level:0},{x:2859,y:2891,level:0},{x:2848,y:2907,level:0},{x:2827,y:2934,level:0},{x:2832,y:2935,level:0},{x:2852,y:2934,level:0},{x:2857,y:2919,level:0},{x:2841,y:2915,level:0},{x:2872,y:2901,level:0},{x:2920,y:2888,level:0},{x:2892,y:2907,level:0},{x:2931,y:2920,level:0},{x:2921,y:2937,level:0},{x:2892,y:2937,level:0},{x:2929,y:2894,level:0},{x:2927,y:2925,level:0},{x:2936,y:2917,level:0},{x:2944,y:2902,level:0},{x:2932,y:2935,level:0},{x:2942,y:2934,level:0}],range:14,scantext:"the Kharazi Jungle"},{id:361,type:"scan",tier:"elite",text:["This scroll will work in the city of Zanaris. Orb scan range: 16 paces."],spots:[{x:2414,y:4378,level:0},{x:2423,y:4372,level:0},{x:2420,y:4381,level:0},{x:2389,y:4405,level:0},{x:2377,y:4410,level:0},{x:2404,y:4406,level:0},{x:2372,y:4467,level:0},{x:2402,y:4466,level:0},{x:2396,y:4457,level:0},{x:2410,y:4460,level:0},{x:2400,y:4441,level:0},{x:2380,y:4421,level:0},{x:2406,y:4428,level:0},{x:2429,y:4431,level:0},{x:2417,y:4444,level:0},{x:2417,y:4470,level:0},{x:2385,y:4447,level:0},{x:2439,y:4460,level:0},{x:2441,y:4428,level:0},{x:2468,y:4439,level:0},{x:2457,y:4443,level:0},{x:2453,y:4471,level:0}],range:16,scantext:"Zanaris"},{id:362,type:"scan",tier:"elite",text:["This scroll will work in the dark and damp caves below Lumbridge Swamp. Orb scan range: 11 paces."],spots:[{x:3172,y:9570,level:0},{x:3167,y:9546,level:0},{x:3179,y:9559,level:0},{x:3191,y:9555,level:0},{x:3170,y:9557,level:0},{x:3210,y:9557,level:0},{x:3233,y:9547,level:0},{x:3246,y:9566,level:0},{x:3252,y:9577,level:0},{x:3227,y:9575,level:0},{x:3209,y:9587,level:0},{x:3210,y:9571,level:0}],range:11,scantext:"The caves beneath Lumbridge Swamp"},{id:363,type:"scan",tier:"elite",text:["This scroll will work on the Fremennik Isles of Jatizso and Neitiznot. Orb scan range: 16 paces."],spots:[{x:2354,y:3790,level:0},{x:2360,y:3799,level:0},{x:2324,y:3808,level:0},{x:2322,y:3787,level:0},{x:2311,y:3801,level:0},{x:2340,y:3803,level:0},{x:2342,y:3809,level:0},{x:2330,y:3829,level:0},{x:2311,y:3835,level:0},{x:2376,y:3800,level:0},{x:2381,y:3789,level:0},{x:2402,y:3789,level:0},{x:2421,y:3792,level:0},{x:2397,y:3801,level:0},{x:2419,y:3833,level:0},{x:2395,y:3812,level:0},{x:2373,y:3834,level:0},{x:2314,y:3851,level:0},{x:2326,y:3866,level:0},{x:2326,y:3850,level:0},{x:2354,y:3853,level:0},{x:2349,y:3880,level:0},{x:2312,y:3894,level:0},{x:2352,y:3892,level:0},{x:2414,y:3848,level:0},{x:2418,y:3870,level:0},{x:2377,y:3850,level:0},{x:2400,y:3870,level:0},{x:2368,y:3870,level:0},{x:2417,y:3893,level:0},{x:2399,y:3888,level:0},{x:2389,y:3899,level:0}],range:16,scantext:"Fremennik Isles of Jatizso and Neitiznot"},{id:364,type:"scan",tier:"elite",text:["This scroll will work within the walls of Falador. Orb scan range: 22 paces."],spots:[{x:2938,y:3322,level:0},{x:2976,y:3316,level:0},{x:2947,y:3316,level:0},{x:3005,y:3326,level:0},{x:2958,y:3379,level:0},{x:2972,y:3342,level:0},{x:2945,y:3339,level:0},{x:2948,y:3390,level:0},{x:2942,y:3388,level:0},{x:2939,y:3355,level:0},{x:3039,y:3331,level:0},{x:3050,y:3348,level:0},{x:3015,y:3339,level:0},{x:3027,y:3365,level:0},{x:3025,y:3379,level:0},{x:3059,y:3384,level:0},{x:3031,y:3379,level:0},{x:3011,y:3382,level:0}],range:22,scantext:"Falador"},{id:365,type:"scan",tier:"elite",text:["This scroll will work in the cave goblin city of Dorgesh-Kaan. Orb scan range: 16 paces."],spots:[{x:2747,y:5263,level:0},{x:2731,y:5266,level:0},{x:2740,y:5273,level:0},{x:2723,y:5279,level:0},{x:2711,y:5271,level:0},{x:2729,y:5295,level:0},{x:2711,y:5284,level:0},{x:2730,y:5315,level:0},{x:2717,y:5311,level:0},{x:2739,y:5253,level:1},{x:2738,y:5301,level:1},{x:2700,y:5284,level:1},{x:2704,y:5321,level:0},{x:2732,y:5327,level:0},{x:2704,y:5349,level:0},{x:2701,y:5343,level:1},{x:2704,y:5357,level:1},{x:2734,y:5370,level:1},{x:2747,y:5327,level:1},{x:2698,y:5316,level:1}],range:16,scantext:"Dorgesh-Kaan"},{id:366,type:"scan",tier:"elite",text:["This scroll will work in the Fremennik Slayer Dungeons. Orb scan range: 16 paces."],spots:[{x:2720,y:9969,level:0},{x:2741,y:9977,level:0},{x:2701,y:9978,level:0},{x:2724,y:9977,level:0},{x:2714,y:9990,level:0},{x:2731,y:9998,level:0},{x:2718,y:1e4,level:0},{x:2722,y:10025,level:0},{x:2705,y:10027,level:0},{x:2745,y:10024,level:0},{x:2743,y:9986,level:0},{x:2751,y:9995,level:0},{x:2754,y:10009,level:0},{x:2804,y:10004,level:0},{x:2808,y:10018,level:0},{x:2789,y:10042,level:0},{x:2772,y:10030,level:0},{x:2757,y:10029,level:0},{x:2767,y:10002,level:0}],range:16,scantext:"Fremennik Slayer Dungeons"},{id:367,type:"scan",tier:"elite",text:["This scroll will work in the crater of the Wilderness volcano. Orb scan range: 11 paces."],spots:[{x:3112,y:3678,level:0},{x:3124,y:3698,level:0},{x:3130,y:3672,level:0},{x:3120,y:3665,level:0},{x:3104,y:3704,level:0},{x:3087,y:3712,level:0},{x:3133,y:3717,level:0},{x:3118,y:3724,level:0},{x:3110,y:3735,level:0},{x:3096,y:3738,level:0},{x:3134,y:3741,level:0},{x:3169,y:3745,level:0},{x:3180,y:3713,level:0},{x:3163,y:3724,level:0},{x:3146,y:3738,level:0},{x:3174,y:3705,level:0},{x:3152,y:3698,level:0},{x:3145,y:3681,level:0},{x:3146,y:3698,level:0}],range:11,scantext:"The crater of the Wilderness volcano"},{id:368,type:"scan",tier:"master",text:["This scroll will work in the elven city of Prifddinas. Orb scan range: 30 paces."],spots:[{x:2175,y:3291,level:1},{x:2133,y:3379,level:1},{x:2145,y:3381,level:1},{x:2148,y:3351,level:1},{x:2174,y:3398,level:1},{x:2180,y:3322,level:1},{x:2199,y:3268,level:1},{x:2212,y:3272,level:1},{x:2227,y:3295,level:1},{x:2224,y:3328,level:1},{x:2197,y:3433,level:1},{x:2222,y:3429,level:1},{x:2228,y:3424,level:1},{x:2247,y:3267,level:1},{x:2234,y:3265,level:1},{x:2275,y:3382,level:1},{x:2292,y:3361,level:1},{x:2268,y:3397,level:1}],range:30,scantext:"Prifddinas"},{id:369,type:"scan",tier:"master",text:["This scroll will work in the vampyre city of Darkmeyer. Orb scan range: 16 paces."],spots:[{x:3599,y:3328,level:0},{x:3590,y:3344,level:0},{x:3588,y:3361,level:0},{x:3596,y:3375,level:0},{x:3631,y:3358,level:0},{x:3611,y:3328,level:0},{x:3606,y:3391,level:0},{x:3639,y:3390,level:0},{x:3651,y:3405,level:0},{x:3670,y:3373,level:0},{x:3632,y:3344,level:0},{x:3654,y:3335,level:0},{x:3666,y:3344,level:0},{x:3654,y:3357,level:0},{x:3671,y:3366,level:0},{x:3661,y:3374,level:0},{x:3676,y:3392,level:0}],range:16,scantext:"Darkmeyer"},{id:370,type:"scan",tier:"master",text:["This scroll will work on The Islands That Once Were Turtles. Orb scan range: 27 paces."],spots:[{x:2103,y:11425,level:0},{x:2092,y:11427,level:0},{x:2100,y:11432,level:0},{x:2101,y:11440,level:0},{x:2099,y:11448,level:0},{x:2286,y:11452,level:0},{x:2285,y:11440,level:0},{x:2266,y:11455,level:0},{x:2221,y:11497,level:0},{x:2198,y:11481,level:0},{x:2183,y:11500,level:0},{x:2194,y:11500,level:0},{x:2200,y:11501,level:0},{x:2251,y:11428,level:0},{x:2267,y:11441,level:0},{x:2275,y:11453,level:0},{x:2283,y:11499,level:0},{x:2272,y:11428,level:0},{x:2286,y:11473,level:0}],range:27,scantext:"Islands That Once Were Turtles"},{id:371,type:"scan",tier:"master",text:["This scroll will work in the the Heart of Gielinor. Orb scan range: 49 paces."],spots:[{x:3119,y:6905,level:1},{x:3124,y:6905,level:1},{x:3148,y:6913,level:1},{x:3131,y:6921,level:1},{x:3131,y:6932,level:1},{x:3156,y:6925,level:1},{x:3166,y:6910,level:1},{x:3165,y:6932,level:1},{x:3236,y:6924,level:1},{x:3257,y:6927,level:1},{x:3258,y:6913,level:1},{x:3248,y:6903,level:1},{x:3227,y:6982,level:1},{x:3217,y:7004,level:1},{x:3219,y:7023,level:1},{x:3180,y:6985,level:1},{x:3129,y:6998,level:1},{x:3141,y:7018,level:1},{x:3183,y:7015,level:1},{x:3194,y:7029,level:1},{x:3210,y:7028,level:1},{x:3229,y:6980,level:1},{x:3241,y:7039,level:1},{x:3147,y:7046,level:1},{x:3156,y:7040,level:1},{x:3274,y:7045,level:1}],range:49,scantext:"Heart of Gielinor"}],e.skilling=[{type:"skilling",text:["Crossing the desert I met a crocodile. She gave me a dazzling smile but she had something in her teeth."],tier:"master",id:372,areas:[{topleft:{x:3274,y:2685},botright:{x:3290,y:2662},level:0}],answer:"Catch a plover bird in the southern part of Sophanem.",cursor:"hunt"},{type:"skilling",text:["I once met a man returning from market. He showed me the spoils of his day. It's precious to see what people pay for."],tier:"master",id:373,areas:[{topleft:{x:2666,y:3304},botright:{x:2669,y:3301},level:0}],answer:"Steal from the Ardougne Gem Stall.",cursor:"thieve"},{type:"skilling",text:["A view of the city from high above. I can hear their prayers below."],tier:"master",id:374,areas:[{topleft:{x:2183,y:3454},botright:{x:2196,y:3441},level:2}],cursor:"agility",answer:"Go to the top of the Hefin Agility Course."},{type:"skilling",text:["Round and round we go, burning, burning all aglow."],tier:"master",id:375,areas:[{topleft:{x:3018,y:9249},botright:{x:3052,y:9228},level:0}],cursor:"burn",answer:"Start a firepit with a Curly Root in the Jadinko Lair."},{type:"skilling",text:["When I encountered this individual, she had more rings than any I had seen before."],tier:"master",id:376,areas:[{topleft:{x:2269,y:3390},botright:{x:2273,y:3386},level:1},{topleft:{x:3259,y:3373},botright:{x:3265,y:3367},level:0}],answer:"Cut some elder logs from an elder tree.",cursor:"chop"},{type:"skilling",text:["Rowdy Unruly Boisterous I am pie."],tier:"master",id:377,answer:"Cook a wild pie. The 'Bake Pie' spell works.",cursor:"cook",areas:null},{type:"skilling",text:["In a station of power someone requires assistance. Do a good deed to spread some happiness."],tier:"master",id:378,areas:[{topleft:{x:2688,y:5247},botright:{x:2751,y:5184},level:3}],cursor:"agility",answer:"Help Turgall at the Dorgesh-Kaan Agility Course."},{type:"skilling",text:["Those things I once held dear continue to fade. I look upon her face and barely know who she is. But her eyes... They are still so radiant."],tier:"master",id:379,areas:[{topleft:{x:3801,y:3555},botright:{x:3808,y:3548},level:0}],cursor:"divine",answer:"Harvest a radiant memory."},{type:"skilling",text:["There are those who prove themselves and become a beacon of light in the darkness. Come to the crystal city and become that figure."],tier:"master",cursor:"pray",id:380,areas:[{topleft:{x:2100,y:3459},botright:{x:2292,y:3277},level:1}],answer:"Active the Light Form Prayer in Prifddinas"},{type:"skilling",text:["Stare into the flames for long enough and you may see something you didn't realise was there."],tier:"master",id:381,answer:"Light some magic logs.",cursor:"burn",areas:null},{type:"skilling",text:["The crystals tempt most however, there are other riches to gain for the quick-fingered."],tier:"master",id:382,answer:"Pickpocket any elf",cursor:"thieve",areas:null},{type:"skilling",text:["Magical energy floats unleashed. The fluid of life that flows through us all. Span the gap to capture this energy."],tier:"master",id:383,areas:[{topleft:{x:4343,y:6055},botright:{x:4364,y:6038},level:1}],answer:"Siphon some blood runes in the Runespan.",cursor:"runecraft"},{type:"skilling",text:["The spell struck me in the chest. Perhaps if I had worn armour today. Black looks better than red."],tier:"master",id:384,answer:"Craft a black dragonhide body.",cursor:"craft",areas:null},{type:"skilling",text:["Ernie once mentioned to me a secret to improve my cooking. His idea was strong but I went the extra mile."],tier:"master",id:385,answer:"Add a fire rune to a decorated cooking urn (nr).",cursor:"craft",areas:null},{type:"skilling",text:["I have all the ingredients for soup but sometimes a simple meal tastes the best."],tier:"master",id:386,answer:"Cook a raw shark, raw rocktail or raw sailfish.",cursor:"cook",areas:null},{type:"skilling",text:["Take the journey to a distant mining site. Become a blight to your foes."],tier:"master",id:387,answer:"Smelt a Bane bar at a furnace.",cursor:"smith",areas:null},{type:"skilling",text:["Where there is Light there is also Death. Should you contain this you may progress."],tier:"master",id:388,areas:[{topleft:{x:2203,y:4838},botright:{x:2207,y:4834},level:0}],answer:"Craft a death rune.",cursor:"runecraft"},{type:"skilling",text:["There is a temple where there are rivers of red. Bind the magic to get ahead."],tier:"master",id:389,areas:[{topleft:{x:2460,y:4898},botright:{x:2465,y:4893},level:1}],answer:"Craft a blood rune.",cursor:"runecraft"},{type:"skilling",text:["Corruption seeps from this stone but there are those who work to cleanse it. Lend your voice."],tier:"master",id:390,areas:[{topleft:{x:2187,y:3451},botright:{x:2193,y:3445},level:1}],answer:"Completely use up a cleansing crystal on the Corrupted Seren Stone.",cursor:"pray"},{type:"skilling",text:["Charm me and I shall unlock. But be brave in the darkness."],tier:"master",id:391,areas:[{topleft:{x:3365,y:3748},botright:{x:3380,y:3731},level:0}],answer:"Catch a charming moth in the Wilderness.",cursor:"hunt"},{type:"skilling",text:["I once met an ancient warrior who told me tales of his adventures. His eyes lit up as he spoke."],tier:"master",id:392,answer:"Burn some elder logs.",cursor:"herblore",areas:null},{type:"skilling",text:["Keeping all your gold together. That's a good idea. It shall be mine."],tier:"master",id:393,answer:"Mine a concentrated gold deposit in the Living Rock Caverns.",cursor:"mine",areas:null},{type:"skilling",text:["Rumours of a great shark continue to spread. Catch me one and I will be fed."],tier:"master",id:394,answer:"Catch a raw great white shark.",cursor:"fish",areas:null},{type:"skilling",text:["The God of Order requires a sacrifice of strength but in return restores me. If only we could keep that feeling in his absence."],tier:"master",id:395,answer:"Create a Saradomin brew.",cursor:"herblore",areas:null},{type:"skilling",text:["Head protection is never a bad thing. Make it from rune for the best chance of survival."],tier:"master",id:396,answer:"Smith a rune med helm or rune full helm.",cursor:"smith",areas:null},{type:"skilling",text:["Being open to Chaos can raise your defences. It may also bring you closer to death. Take a moment to bottle this feeling."],tier:"master",id:397,answer:"Create a Zamorak brew.",cursor:"herblore",areas:null},{type:"skilling",text:["Catching only one shark. That don't impress me much."],tier:"master",id:398,answer:"Catch two sharks at once.",cursor:"fish",areas:null}],e.all=[...e.simple,...e.cryptic,...e.map,...e.emote,...e.anagram,...e.scan,...e.compass,...e.skilling,...e.coordinates],e.index=Ms.simple(e.all),e.spot_index=Ls.simple(e.index)}(Ds||(Ds={}));var Rs,Bs,js,Ns=We.timestamp,Fs=_s.ClueSpot;!function(e){e.setMeta=function(e,t){e.author=t.author,e.description=t.description,e.name=t.name,e.default_assumptions=m.cloneDeep(t.default_assumptions),e.default_method_name=t.default_method_name},e.meta=function(e){return{name:e.name,author:e.author,description:e.description,default_assumptions:m.cloneDeep(e.default_assumptions),default_method_name:e.default_method_name}}}(Rs||(Rs={})),function(e){e.isSame=function(e,t){return e==t||e&&t&&js.equals(js.fromMethod(e),js.fromMethod(t))}}(Bs||(Bs={})),function(e){e.fromMethod=function(e){return{local_pack_id:e.pack.local_id,method_id:e.method.id}},e.equals=function(e,t){return e.local_pack_id==t.local_pack_id&&e.method_id==t.method_id}}(js||(js={}));class Zs{constructor(){this.local_pack_store=zs.instance().variable("data/local_methods"),this.local_packs=[],this.pack_set_changed=we(),this.saved=we(),this.method_index=Ls.simple(Ds.index).with((()=>({methods:[]}))),this.default_packs=[Is,Os],this.initialized=this.local_pack_store.get().then((async e=>{this.local_packs=e||[]})),this.invalidateIndex(),this.pack_set_changed.on((()=>this.invalidateIndex()))}async save(){await this.local_pack_store.set(this.local_packs),this.invalidateIndex(),this.saved.trigger(null)}invalidateIndex(){this.index_created=new Promise((async e=>{this.method_index.forEach((e=>e.methods=[])),(await this.all()).forEach((e=>{e.methods.forEach((t=>{this.method_index.get(t.for).methods.push({method:t,pack:e,clue:Ds.index.get(t.for.clue).clue})}))})),e()}))}async all(){return await this.initialized,[...this.default_packs,...this.local_packs]}async create(e){return(e=m.cloneDeep(e)).local_id=Ps(),e.original_id=e.local_id,e.type="local",e.timestamp=Ns(),this.local_packs.push(e),await this.save(),this.pack_set_changed.trigger(await this.all()),e}async import(e){return(e=m.cloneDeep(e)).local_id=Ps(),e.type="imported",this.local_packs.push(e),this.invalidateIndex(),await this.save(),this.pack_set_changed.trigger(await this.all()),e}async getPack(e){return(await this.all()).find((t=>t.local_id==e))}async deletePack(e){if("default"==e.type)return void console.log("Attempting to delete default pack");let t=this.local_packs.findIndex((t=>t.local_id==e.local_id));t<0?console.log("Attempting to delete non-existing pack"):(this.local_packs.splice(t,1),await this.save(),this.pack_set_changed.trigger(await this.all()))}async updatePack(e,t){if("local"==e.type)return t(e),e.timestamp=Ns(),await this.save(),e}async updateMethod(e){let t=this.local_packs.find((t=>"local"==t.type&&t.local_id==e.pack.local_id)),i=t.methods.findIndex((t=>t.id==e.method.id));i>=0?t.methods[i]=e.method:t.methods.push(e.method),e.method.timestamp=t.timestamp=Ns(),this.save()}deleteMethod(e){let t=this.local_packs.find((t=>"local"==t.type&&t.local_id==e.pack.local_id)),i=t.methods.findIndex((t=>t.id==e.method.id));t.methods.splice(i,1),t.timestamp=Ns(),this.save()}static instance(){return Zs._instance||(Zs._instance=new Zs),Zs._instance}async getForClue(e,t=void 0){await this.index_created;const i=this.method_index.get(e).methods;return t?i.filter((e=>t.includes(e.pack.local_id))):i}async get(e,t=void 0){return await this.getForClue(Fs.toId(e),t)}async getMethod(e,t){const i=await this.getPack(e);return i?i.methods.find((e=>e.id==t)):null}async resolve(e){const t=(await this.all()).find((t=>t.local_id==e.local_pack_id));if(!t)return null;const i=t.methods.find((t=>t.id==e.method_id));return i?{method:i,pack:t,clue:Ds.index.get(i.for.clue).clue}:null}}Zs._instance=null;class qs extends ge{constructor(e,t){super($("<div class='nisl-selectdropdown'>")),this.options=e,this.dropdown=null,this.selected=we(),this.enabled=Ae(!0),this._list_constructor=async()=>[],this.selection=Ae(t),this.input_container=c("<div></div>").appendTo(this),this.selection.subscribe((e=>{this.renderInput()}),!0),this.enabled.subscribe((e=>{var t;null===(t=this.input)||void 0===t||t.toggleClass("disabled",!e)})),this.setItems([t])}renderInput(){this.input=c("<div class='nisl-selectdropdown-input' tabindex='-1'>").on("click",(e=>{this.openDropdown()})).append(this.construct(this.selection.value())).appendTo(this.input_container.empty())}construct(e){var t;return(null===(t=this.options.type_class)||void 0===t?void 0:t.toHTML)?this.options.type_class.toHTML(e):c(`<div>${e}</div>`)}setItems(e){return Array.isArray(e)?this._list_constructor=()=>Promise.resolve(e):this._list_constructor=e,this}async openDropdown(){this.enabled.value()&&(this.dropdown=new qs.DropDown({dropdownClass:"nisl-selectdropdown-options",renderItem:e=>c().append(this.construct(e))}).setItems(await this._list_constructor()).setHighlighted(this.selection.value()).onClosed((()=>this.dropdown=null)).onSelected((e=>{this.selection.set(e),this.selected.trigger(e)})).open(this,this.onOpen()),this.dropdown)}onOpen(){return this.input_container}setValue(e){return this.selection.set(e),this}selectValue(e){this.setValue(e),this.selection.set(e)}onSelection(e,t=!1){return this.selected.on(e),t&&e(this.selection.value()),this}setEnabled(e){return this.enabled.set(e),this}}!function(e){var t=We.positiveMod;e.DropDown=class{constructor(e){this.options=e,this.selectable_items=Ae([]),this.highlight_index=Ae(null),this.selected=we(),this.closed=we(),e.renderItem||(e.renderItem=e=>c().text(JSON.stringify(e))),this.selectable_items.subscribe(((e,t)=>{this.highlight_index.set(0),this.renderItems()})),this.highlight_index.subscribe(((e,t)=>{var i,n,r,o;this.rows&&(null!=t&&(null===(i=this.rows[t])||void 0===i||i.toggleClass("selected",!1)),null!=e&&(null===(o=null===(r=null===(n=this.rows[e])||void 0===n?void 0:n.toggleClass("selected",!0))||void 0===r?void 0:r.raw())||void 0===o||o.scrollIntoView(!1)))}))}select(e){this.selected.trigger(e),this.close()}setItems(e){return this.selectable_items.set(e),this}renderItems(){this.container&&(this.container.empty(),this.rows=this.selectable_items.value().map(((e,t)=>this.options.renderItem(e).toggleClass("selected",this.highlight_index.value()==t).on("click",(()=>{this.select(e)})).on("mousemove",(()=>{this.highlight_index.set(t)})).appendTo(this.container))))}open(e,i){return this.container=c("<div style='z-index: 1000000' tabindex='0'></div>").addClass("nisl-abstract-dropdown"),i&&(null==i.raw().getAttribute("tabindex")&&i.setAttribute("tabindex","-1"),this.focus_widget=i,i.on("keydown",this.input_handler=e=>{var i,n;if("Escape"==e.key&&(e.stopPropagation(),this.focus_widget.raw().blur()),"ArrowUp"==e.key&&this.highlight_index.set(t((null!==(i=this.highlight_index.value())&&void 0!==i?i:this.selectable_items.value().length)-1,this.selectable_items.value().length)),"ArrowDown"==e.key&&this.highlight_index.set(t((null!==(n=this.highlight_index.value())&&void 0!==n?n:this.selectable_items.value().length-1)+1,this.selectable_items.value().length)),"Enter"==e.key){let e=this.highlight_index.value();null!=e&&e>=0&&e<this.selectable_items.value().length&&this.select(this.selectable_items.value()[e])}}).on("focusout",(e=>{e.originalEvent.relatedTarget instanceof HTMLElement&&(this.container.container.is(e.originalEvent.relatedTarget)||0!=this.container.container.has(e.originalEvent.relatedTarget).length)||this.close()})).raw().focus()),this.container.addClass(this.options.dropdownClass||"nisl-abstract-dropdown-default-styling"),this.renderItems(),this.instance=y.fi(e.raw(),this.container.appendTo(n()).raw(),{placement:"bottom-start",modifiers:[{name:"flip",enabled:!0},{name:"preventOverflow",enabled:!0,options:{boundary:"viewport",rootBoundary:"viewport"}},{name:"widthSync",enabled:!0,phase:"beforeWrite",fn:({state:e})=>{e.styles.popper.width=`${e.rects.reference.width}px`,e.styles.popper.maxWidth=`${e.rects.reference.width}px`}}]}),this}close(){this.instance&&(this.instance.destroy(),this.instance=null,this.container.remove(),this.closed.trigger(void 0)),this.focus_widget&&(this.focus_widget.container.off("keydown",this.input_handler),this.focus_widget=null,this.input_handler=null)}onSelected(e){return this.selected.on(e),this}onClosed(e){return this.closed.on(e),this}setHighlighted(e){let t=this.selectable_items.value().indexOf(e);return t>=0&&this.highlight_index.set(t),this}};let i=null;function n(){return i||(i=c("<div style='position: absolute; top: 0; left: 0; overflow: visible; max-width: 100%; max-height: 100%'>").appendTo($("body"))),i}e.getDropdownPane=n}(qs||(qs={}));var Us=xe.spacer,Vs=xe.span,Hs=xe.hbox,Ws=xe.bold;class Ks extends ge{constructor(e,t){super(),this.parent=e,this.clue=t,this.method=Ae(e.active_method),this.method.subscribe((e=>this.render(e)),!0)}render(e){this.row=Hs(e?Ws(e.method.name):c("<span style='font-style: italic; color: gray'> No method selected</span>"),Us(),Ts.dropdown()).addClass("ctr-clickable").setAttribute("tabindex","-1"),this.row.on("click",(()=>this.openMethodSelection())).appendTo(this)}async openMethodSelection(){new qs.DropDown({dropdownClass:"ctr-neosolving-favourite-dropdown",renderItem:e=>{var t;return e?Hs((new Cs).set(e==this.parent.active_method),Vs(`${e.method.name} (${null!==(t=e.method.expected_time.toFixed(2))&&void 0!==t?t:"?"} ticks)`),Us()).tooltip(e.method.description):Hs((new Cs).set(e==this.parent.active_method),Vs("None"),Us())}}).setItems((await Zs.instance().getForClue(this.clue)).concat([null])).onSelected((e=>{this.parent.app.favourites.setMethod(this.clue,e),this.parent.setMethod(e)})).open(this.row,this.row)}}var Gs=xe.div,Qs=xe.img;class Ys extends ge{constructor(e){super(),this.tooltip(e.hover()),this.addClass("ctr-teleport-icon"),this.append(Qs(`assets/icons/teleports/${e.image().url}`,e.hover()),Gs().text(e.code()))}}var Js=xe.hbox,Xs=xe.span,$s=xe.div,ea=xe.hboxl,ta=xe.img,ia=xe.staticentity,na=Kr.ability_icon,ra=xe.bold,oa=xe.entity,sa=We.index;class aa extends ge{constructor(e,t,i,n){super(),this.sections=e,this.current_section_id=t,this.step_graphics=i,this.template_resolver=n,this.render()}render(){if(this.empty(),this.sections&&this.current_section_id){let e=io.getPath(this.sections,this.current_section_id);e.forEach(((t,i)=>{if(0==i||"inner"!=(null==t?void 0:t.type))return;let n=e[i-1];if(_o("inner"==n.type),n.children.length<=1)return;let r=n.children.indexOf(t);"inner"==t.type&&Js(r>0?Ts.arrow("left").withClick((()=>{let e=m.clone(this.current_section_id);e[i-1]-=1,this.setCurrentSection(e)})):void 0,Xs(t.value.name).css("flex-grow","1").css("text-align","center"),r<n.children.length-1?Ts.arrow("right").withClick((()=>{let e=m.clone(this.current_section_id);e[i-1]+=1,this.setCurrentSection(e)})):void 0).appendTo(this)}));let t=(()=>{let t=sa(e,-2);return _o("inner"==t.type),t.children.map((e=>(_o("leaf"==e.type),e.value)))})();this.step_graphics&&io.forLeafs(this.step_graphics,(e=>{})),t.forEach(((e,t)=>{let i=m.clone(this.current_section_id);i[i.length-1]=t;let n=io.index(this.step_graphics,i);_o("leaf"==n.type),new aa.StepRow(i,e,this.template_resolver).setAssociatedGraphics(n.value).appendTo(this)}))}}setCurrentSection(e){this.current_section_id=io.fixIndex(this.sections,e),this.render()}}!function(e){var t=Wr.resolveTeleport;class i extends ge{constructor(e,t,n){super(),this.section_index=e,this.step=t,this.template_resolver=n,this.highlighted=Ae(!1),this.associated_graphics=null,this.highlighted.subscribe((e=>{var t,i;this.toggleClass("ctr-neosolving-path-legend-highlighted",e),e?null===(t=this.associated_graphics)||void 0===t||t.requestActivation(!1):null===(i=this.associated_graphics)||void 0===i||i.resetActivation()}));const r=We.index(this.section_index,-1);let o=c().text(`${r+1}.`);const{icon:s,content:a}=i.renderStep(t);ea(o,s,a).addClass("ctr-neosolving-path-legend").on("mouseover",(()=>this.setHighlight(!0))).on("mouseleave",(()=>this.setHighlight(!1))).appendTo(this)}setAssociatedGraphics(e){return this.associated_graphics=e,e&&this.associated_graphics.highlighted.subscribe((e=>{this.setHighlight(e)})),this}setHighlight(e){this.highlighted.set(e)}}e.StepRow=i,function(e){e.renderStep=function(e){let i=c().addClass("ctr-neosolving-path-stepicon"),n=$s();switch(e.type){case"orientation":i.append(ta("assets/icons/compass.png")),n.append("Face ",ra(rr.toString(e.direction)));break;case"ability":i.append(ta(na(e.ability))),n.append((0,m.capitalize)(e.ability)," "),e.target?(n.append("on ",oa(e.target)),e.target_text&&n.append(", ",e.target_text)):e.target_text?n.append(e.target_text," "):n.append(ra(rr.toString(rr.fromVector(l.sub(e.to,e.from)))));break;case"run":i.append(ta("assets/icons/run.png")),n.append("Run "),e.to_text?n.append(e.to_text):n.append(`${or.pathLength(e.waypoints)} tiles`);break;case"teleport":let r=t(e.id);i.append(new Ys(r).css2({display:"inline-block",height:"20px"})),n.append("Teleport to ",ra(r.spot.name));break;case"redclick":i.append(ta(Ur.meta(e.how).icon_url)),n.append("Target ",ia("Entity"));break;case"powerburst":i.append(ta("assets/icons/accel.png").tooltip("Powerburst of Acceleration")),n.append("Drink ",Xs("Powerburst of Acceleration").addClass("nisl-item"));break;case"transport":let o=e.internal,s=o.actions[0];i.append(ta(Ur.meta(e.internal.actions[0].cursor).icon_url)),n.append(s.name," ",oa(o.entity));break;case"cheat":i.append(ta("assets/icons/Rotten_potato.png")),n.append("")}return{icon:i,content:n}}}(i=e.StepRow||(e.StepRow={}))}(aa||(aa={}));class la extends eo{constructor(e){super(),this.parent=e,this.method=null,this.sectioned_path=null,this.path_layer=new xr,this.step_graphics=null,this.widget=null}begin(){this.path_layer.addTo(this.parent.layer)}end(){this.path_layer.remove()}setPath(e){this.set(null,no.Section.split_into_sections(e))}setSections(e,t=null){this.set(null,e,t)}setMethod(e){let t=io.init({name:"root"});io.add(t,no.Section.split_into_sections(e.method.main_path,"To Spot")),1==t.children.length&&(t=t.children[0]),this.set(e,t)}set(e,t,i=null){this.sectioned_path=t,this.method=e;const n=io.fixIndex(this.sectioned_path,i||[]);this.path_layer.clearLayers(),this.step_graphics=io.map(this.sectioned_path,(e=>new ko({highlightable:!0,interactive:!0,step:e}).addTo(this.path_layer))),this.renderWidget(n)}reset(){var e;return this.sectioned_path=null,this.method=null,null===(e=this.widget)||void 0===e||e.remove(),this.widget=null,this.path_layer.clearLayers(),this}renderWidget(e){var t;null===(t=this.widget)||void 0===t||t.remove(),this.widget=null;let i=c();this.method&&new Ks(this.parent,this.method.method.for).addClass("ctr-neosolving-solution-row").appendTo(i),this.sectioned_path&&new aa(this.sectioned_path,e,this.step_graphics,this.parent.app.template_resolver).addClass("ctr-neosolving-solution-row").appendTo(i),i.container.is(":empty")||(this.widget=i.appendTo(this.parent.layer.path_container))}}class ca extends Fo{constructor(e="Button",t="round"){super(),"round"==t&&this.addClass("ctr-lightbutton-round"),this.addClass("ctr-lightbutton").setHTML(e)}setText(e){return this.text(e),this}setHTML(e){return this.container.html(e),this}}var ha=xe.vbox,ua=xe.spacer;class da extends ge{constructor(e){super($(`<div class='ctr-step-issue'><div class="ctr-step-issue-icon"></div> ${e.message}</div>`).attr("level",e.level.toString()))}}class pa extends ge{constructor(e){super(),this.editor=e,this.step_rows=[],this.inbetween_rows=[],this.addClass("path-edit-control"),this.steps_container=ha().appendTo(this).css2({"max-height":"800px","overflow-y":"auto"}).addClass("ctr-path-edit-overview"),e.value.committed_value.subscribe((e=>this.render(e))),e.value.cursor_state.subscribe((()=>{this.inbetween_rows.forEach((e=>e.render()))}))}setDragTarget(e){this.inbetween_rows.forEach(((t,i)=>{t.is_dragged_over.set(i==e)}))}render(e){if(e){this.step_rows=[],this.inbetween_rows=[],this.steps_container.empty();for(let t=0;t<=e.steps.length;++t)this.inbetween_rows.push(new pa.InbetweenSteps(this,e,t).appendTo(this.steps_container)),t<e.steps.length&&this.step_rows.push(new pa.Step(this,e.steps[t]).appendTo(this.steps_container));return e.path.issues.length>0&&ha(...e.path.issues.map((e=>new da(e)))).appendTo(this.steps_container),this}}}!function(e){var t=xe.span,i=xe.hboxl;e.InbetweenSteps=class extends ge{constructor(e,t,i){super(),this.parent=e,this.va=t,this.index=i,this.is_dragged_over=Ae(!1),this.value=no.augmented.getState(this.va.path,this.index),this.addTippy(new As(this.value),{delay:[300,0]}),this.addClass("ctr-path-edit-overview-inbetween"),this.on("click",(()=>{this.va.builder.setCursor(this.index)})),this.on("drop",(e=>{e.preventDefault();const t=JSON.parse(e.originalEvent.dataTransfer.getData("text/plain"));this.is_dragged_over.set(!1),this.va.builder.move(t.step_index,this.index)})),this.on("dragover",(e=>{e.preventDefault(),this.parent.setDragTarget(this.index),e.originalEvent.dataTransfer.dropEffect="move"})),this.on("dragleave",(()=>{this.is_dragged_over.set(!1)})),this.on("contextmenu",(e=>{e.preventDefault();const t=[{type:"basic",text:"Select",handler:()=>{this.va.builder.setCursor(this.index)}}];this.value.position.tile&&t.push({type:"basic",text:"Show on map",handler:()=>{this.parent.editor.game_layer.getMap().fitView(p.from(this.value.position.tile))}}),new Pe({type:"submenu",text:"",children:t}).showFromEvent(e)})),this.on("dblclick",(()=>{this.value.position.tile&&this.parent.editor.game_layer.getMap().fitView(p.from(this.value.position.tile))})),this.is_dragged_over.subscribe((()=>this.render())),this.render()}render(){const e=this.va.builder.cursor_state.value();if(!e)return;this.empty();const n=i().appendTo(this);t(`T${this.value.tick}`).addClass("ctr-path-edit-overview-row-first").addClass("nisl-textlink").appendTo(n),this.toggleClass("ctr-path-edit-overview-inbetween-dragged-over",this.is_dragged_over.value()),this.is_dragged_over.value()?n.append("Drop to move step here"):this.index==e.cursor&&(n.append(xe.inlineimg("assets/icons/youarehere.png").css2({"margin-right":"3px"}),"You are here"),0!=this.index||this.value.position.tile||this.value.position.direction||n.append(new ca("Assume starting orientation").css("margin-left","5px").onClick((e=>{const t={type:"submenu",text:"",children:rr.all.map((e=>({type:"basic",text:rr.toString(e),handler:()=>{this.va.builder.add({type:"orientation",direction:e})}})))};new Pe(t).showFromEvent(e)}))))}},e.Step=class extends ge{constructor(e,t){super(),this.parent=e,this.value=t,this.setAttribute("draggable","true");const{icon:n,content:r}=aa.StepRow.renderStep(t.step.raw);this.addClass("ctr-path-edit-overview-step").append(i(c("<div>&#x2630;</div>").addClass("ctr-path-edit-overview-step-grab-indicator").addClass("ctr-path-edit-overview-row-first"),n.css("margin-left","0"),r,ua(),c().setInnerHtml("&#x22EE;").addClass("ctr-clickable").addClass("ctr-path-edit-overview-step-options").on("click",(e=>{this.contextMenu(e.originalEvent)}))),ha(...t.step.issues.map((e=>new da(e))))),this.on("dblclick",(e=>{e.preventDefault(),this.parent.editor.editStepDetails(t)})),this.on("contextmenu",(e=>{e.preventDefault(),this.contextMenu(e.originalEvent)})),this.on("dragstart",(e=>{e.originalEvent.dataTransfer.setData("text/plain",JSON.stringify({step_index:this.value.index}))})),this.on("dragover",(e=>{e.preventDefault();const t=e.pageY-this.raw().getBoundingClientRect().top<this.raw().offsetHeight/2;this.parent.setDragTarget(t?this.value.index:this.value.index+1),e.originalEvent.dataTransfer.dropEffect="move"})),this.on("drop",(e=>{e.preventDefault();const t=JSON.parse(e.originalEvent.dataTransfer.getData("text/plain")),i=e.pageY-this.raw().getBoundingClientRect().top<this.raw().offsetHeight/2;this.parent.inbetween_rows[this.value.index].is_dragged_over.set(!1),this.parent.inbetween_rows[this.value.index+1].is_dragged_over.set(!1),this.value.parent.move(t.step_index,i?this.value.index:this.value.index+1)}))}contextMenu(e){new Pe(this.parent.editor.contextMenu(this.value)).showFromEvent2(e)}}}(pa||(pa={}));class ga{constructor(){this.canUndo=Ae(!1),this.canRedo=Ae(!1),this.state={current_state:void 0,undo:[],redo:[]}}update(){this.canUndo.set(this.state.undo.length>0),this.canRedo.set(this.state.redo.length>0)}pushState(e){void 0!==this.state.current_state&&this.state.undo.push(this.state.current_state),this.state.current_state=e,this.state.redo=[],this.update()}undo(){if(this.state.undo.length>0)return this.state.redo.push(this.state.current_state),this.state.current_state=this.state.undo.pop(),this.update(),this.state.current_state}redo(){if(this.state.redo.length>0)return this.state.undo.push(this.state.current_state),this.state.current_state=this.state.redo.pop(),this.update(),this.state.current_state}reset(){this.state.undo=[],this.state.redo=[],this.state.current_state=void 0,this.update()}}class ma{constructor(e){this.apply_state=e,this.stack=new ga,this.canUndo=this.stack.canUndo.map(m.identity),this.canRedo=this.stack.canRedo.map(m.identity)}undo(){if(this.stack.canUndo.value())return this.apply_state(this.stack.undo())}redo(){if(this.stack.canRedo.value())return this.apply_state(this.stack.redo())}}var fa=We.copyUpdate;class ya{constructor(e={},t=[]){this.meta=e,this.commit_lock=Promise.resolve(),this.cursor=0,this.committed_value=Ae(null),this.cursor_state=Ae(null),this.path=[],this.undoredo=new ma((e=>this.setState(e))),this.preview_layer=new xr,this.commit(t.length,t)}async commit(e,t,i=!0){await this.commit_lock,this.commit_lock=(async()=>{const n=void 0!==t?t.length:this.path.length;if(this.cursor=Math.max(0,Math.min(n,null!=e?e:this.cursor)),void 0!==t){this.path=t;const e=await no.augment(this.path,this.meta.start_state,this.meta.target),i=e.steps.map(((e,t)=>new ya.Step(this,t,e)));{const e=new xr;i.forEach((t=>{t.associated_preview=new ko({step:t.step.raw,highlightable:!0,interactive:!0}).addTo(e)})),this.preview_layer.clearLayers().add(e)}this.committed_value.set({builder:this,path:e,steps:i})}i&&this.saveState(),this.cursor_state.set({state:no.augmented.getState(this.committed_value.value().path,this.cursor),value:this.committed_value.value(),cursor:this.cursor})})()}setCursor(e){return this.commit(e,void 0,!1),this}add(...e){return this.commit(this.cursor+e.length,fa(this.path,(t=>{t.splice(this.cursor,0,...e)}))),this}move(e,t){if(e==t||e+1==t)return;let i=0;return e>=this.cursor&&t<this.cursor&&(i=1),e<this.cursor&&t>this.cursor&&(i=-1),this.commit(this.cursor+i,fa(this.path,(i=>{const[n]=i.splice(e,1);e<=t&&(t-=1),i.splice(t,0,n)}))),this}delete(e){if(e<0||e>=this.path.length)return this;const t=e<=this.cursor;return this.commit(t?this.cursor-1:this.cursor,fa(this.path,(t=>{t.splice(e,1)}))),this}updateCopy(e,t){const i=m.cloneDeep(this.path[e]);return t(i),this.update(e,i)}update(e,t){return this.commit(void 0,fa(this.path,(i=>{i[e]=m.cloneDeep(t)}))),this}async set(e,t=!1,i=void 0){return await this.commit_lock,t&&this.undoredo.stack.reset(),this.commit(null!=i?i:e.length,e),this}copyState(){return{cursor:this.cursor,path:m.cloneDeep(this.path)}}saveState(){this.undoredo.stack.pushState(this.copyState())}async setState(e){this.commit(e.cursor,e.path,!1)}get(){return this.path}}!function(e){e.Step=class{constructor(e,t,i){this.parent=e,this.index=t,this.step=i,this.associated_preview=null}update(e){this.parent.updateCopy(this.index,e)}delete(){this.parent.delete(this.index)}}}(ya||(ya={}));var va=ve.observe_combined;class _a{constructor(e={}){switch(this.options=e,this.shown=we(),this.hidden=we(),this.removed=we(),this.visible=Ae(!1),this.should_dismount=Ae(!1),this._modal=c("<div class='modal ctr-modal' tabindex='-1'><div class='modal-dialog'></div></div>"),this._dialog=c("<div class='modal-dialog'></div>").appendTo(this._modal),this._content=c("<div class='modal-content'></div>").appendTo(this._dialog),this._modal.container.modal({backdrop:!e.fixed||"static",keyboard:!e.fixed}),this._modal.container.on("shown.bs.modal",(()=>{this.visible.set(!0),this.shown.trigger(this)})),e.no_fade||this._modal.addClass("fade"),e.size||"medium"){case"small":this._dialog.addClass("modal-sm");break;case"large":this._dialog.addClass("modal-lg")}this._modal.container.on("hidden.bs.modal",(()=>{this.visible.set(!1),this.hidden.trigger(this)})),va({visible:this.visible,should_dismount:this.should_dismount}).subscribe((({visible:e,should_dismount:t})=>{!e&&t&&this.dismount()}))}mount(){0==this._modal.container.parent().length&&this._modal.appendTo($("body"))}dismount(){this._modal.detach(),this.removed.trigger(this)}async show(){let e=new Promise((e=>{this.hidden.on((()=>e(this)))}));return this.mount(),await this.render(),this._modal.container.modal("show"),e}hide(){this._modal.container.modal("hide")}remove(){this.should_dismount.set(!0),this.hide()}content(){return this._content}}var xa=xe.spacer;class ba extends ge{constructor(e={}){var t;super(),this.customization=e,this.css2({display:"flex","justify-content":null!==(t=e.align)&&void 0!==t?t:"center"})}buttons(...e){return e.forEach((e=>e.css("flex-basis",this.customization.sizing||"100%"))),this.empty(),e.length%2==0&&this.customization.max_center_spacer_width?(this.append(...e.slice(0,e.length/2)),this.append(xa().css("max-width",this.customization.max_center_spacer_width)),this.append(...e.slice(e.length/2))):this.append(...e),this}}class wa extends _a{constructor(e={}){super(e),this.options=e,this.title=Ae(""),this.title.subscribe((e=>{var t;null===(t=this.title_widget)||void 0===t||t.text(e)}))}render(){this._content.addClass("nisl-modal"),this.header=c("<div class='nisl-modal-header'></div>").appendTo(this._content),this.body=c("<div class='nisl-modal-body'></div>").appendTo(this._content);const e=this.getButtons();(this.options.force_footer||e.length>0)&&(this.footer=c("<div class='nisl-modal-footer'></div>").appendTo(this._content),e.length>0&&this.footer.append(new ba({align:"center",sizing:"100px",max_center_spacer_width:"100px"}).buttons(...e))),this.title_widget=c("<h1 class='nisl-modal-title'></h1>").text(this.title.value()).appendTo(this.header),this.options.fixed||c("<div class='nisl-modal-exit' data-bs-dismiss='modal'>").appendTo(this.header)}setTitle(e){return this.title.set(e),this}getButtons(){return[]}}class ka extends wa{constructor(e={}){super(e),this.options=e,this.resolver=null,this.hidden.on((()=>this.cancel()))}confirm(e){this.resolver&&!this.resolver.resolved&&(this.resolver.resolved=!0,this.resolver.handler(e),this.remove())}getValueForCancel(){return null}cancel(){this.confirm(this.getValueForCancel())}do(){return new Promise((e=>{this.resolver={handler:e,resolved:!1},this.show()}))}}class Aa extends Fo{constructor(e,t){super(),c().text(e).addClass("content").appendTo(this),c().addClass("background").appendTo(this),this.addClass("nisl-big-button"),this.addClass(`nisl-big-button-${t}`)}}class Ta extends Fo{constructor(e=null){super(e),e||(this.container.addClass("nissmallimagebutton"),this.append(c("<img>")))}setEnabled(e){return super.setEnabled(e),e?this.container.removeClass("disabled"):this.container.addClass("disabled"),this}setIcon(e){return this.container.children("img").attr("src",e),this}static new(e){return(new Ta).setIcon(e)}}class Ca extends Ta{constructor(){super(),this.value=Ae(!1),this.addClass("nisl-small-image-toggle"),this.onClick((()=>{this.value.set(!this.value.value())})),this.value.subscribe((e=>{this.toggleClass("active",e)}))}setState(e){return this.value.set(e),this}}!function(e){e.sibut=function(t,i){let n=(new e).setIcon(t);return i&&n.onClick(i),n},e.sitog=function(e,t){let i=(new Ca).setIcon(e);return t&&i.value.subscribe(t),i}}(Ta||(Ta={}));class Sa extends Ao{constructor(e={}){super($("<textarea class='nisinput'>")),this.raw().readOnly=!!e.readonly,this.raw().placeholder=e.placeholder||"",this.on("input",(()=>{this.preview(this.container.val())})).on("change",(()=>{this.commit(this.container.val())}))}setEnabled(e){return this.container.prop("disabled",!e),this}setPlaceholder(e){return this.container.attr("placeholder",e),this}render(){this.container.val(this.get())}}var Ea=xe.vbox;class za extends Ao{constructor(e){super(),this.options=e,this.edit_mode=!1,this.main_row=null,this.instruction_input=null,this.generate_button=null,this.edit_button=null,this.container.on("mouseover",(()=>{this.edit_mode||(this.generate_button&&this.generate_button.setVisible(!0),this.edit_button&&this.edit_button.setVisible(!0))})),this.container.on("mouseleave",(()=>{this.edit_mode||(this.generate_button&&this.generate_button.setVisible(!1),this.edit_button&&this.edit_button.setVisible(!1))})),this.onChange((()=>this.renderPreview())),this.addClass("ctr-template-string-edit"),this.render()}render(){this.empty(),this.instruction_input=null,this.preview_container=null,this.options.fullsize?(this.instruction_input=new Sa({placeholder:"Enter text"}).setValue(this.get()).onPreview((e=>{this.preview(e)})).onCommit((e=>{this.commit(e)})).css("height","80px"),this.append(Ea(this.instruction_input,this.preview_container=c()).css2({display:"flex","flex-direction":"column"}))):(this.main_row=c("<div class='ctr-template-string-edit-input-row'></div>"),this.generate_button=Ta.new("assets/icons/regenerate.png").css("margin-left","2px").tooltip("Auto generate").setEnabled(!!this.options.generator).onClick((()=>{this.commit(this.options.generator())})).setVisible(this.edit_mode),this.edit_mode?(this.instruction_input=c("<input type='text' class='nisinput'>").tapRaw((e=>e.val(this.get()).on("input",(()=>{this.preview(this.instruction_input.container.val())})).on("change",(()=>{this.commit(this.instruction_input.container.val())})).on("keyup",(e=>{"Enter"===e.key&&this.instruction_input.raw().blur()})).on("focusout",(()=>{this.edit_mode=!1,this.render()})))),this.main_row.append(this.instruction_input).append(this.generate_button).appendTo(this),this.preview_container=c().appendTo(this)):(this.edit_button=Ta.new("assets/icons/edit.png").css("margin-left","2px").tooltip("Edit").onClick((()=>{this.startEdit()})).setVisible(!1),this.preview_container=c("<span style='cursor: pointer; flex-grow: 1'> </span>").tooltip("Edit").tapRaw((e=>e.on("click",(()=>{this.startEdit()})))),this.main_row.append(this.preview_container).append(this.edit_button).append(this.generate_button).appendTo(this)),this.instruction_input&&this.instruction_input.container.val(this.get())),this.renderPreview()}setResolver(e){return this.options.resolver=e,this.renderPreview(),this}renderPreview(){this.preview_container.container.html(`${this.options.resolver.resolve(this.get()||"")}`)}startEdit(){this.edit_mode=!0,this.render(),this.instruction_input.container.focus()}}class Pa extends qs{constructor(e,t){super(e,t[0]),this.setItems(t)}setItems(e){return super.setItems(e),this}}class Ma extends Pa{constructor(){super({type_class:{toHTML:e=>null!=e?c().text((0,m.capitalize)(rr.toString(e))):c().text("none")}},rr.all.concat(null))}}class La extends Ao{constructor(e,t=null){super(),this.interaction_f=t,this.container.css("min-width","0"),this.css("display","flex"),this.x=c("<input type='text' inputmode='numeric' class='nisinput' min='0' style='text-align: right'>").appendTo(this),this.x.container.on("change",(()=>{this.commit((0,m.tap)(m.clone(this.get()),(e=>e.x=Number(this.x.container.val()))))})),c("<div> | </div>").appendTo(this),this.y=c("<input type='text' inputmode='numeric' class='nisinput' min='0'>").appendTo(this),this.y.container.on("change",(()=>{this.commit((0,m.tap)(m.clone(this.get()),(e=>e.y=Number(this.x.container.val()))))})),c("<div> | </div>").appendTo(this),this.floor=c("<input type='number' class='nisinput' min='0' max='3' style='min-width: 45px; max-width: 45px;'>").appendTo(this),this.floor.container.on("change",(()=>{this.commit((0,m.tap)(m.clone(this.get()),(e=>e.level=Number(this.x.container.val()))))})),e&&(this.x.container.val(e.x),this.y.container.val(e.y),this.floor.container.val(e.level)),this.interaction_f&&Ta.new("assets/icons/marker.png").appendTo(this).onClick((()=>this.interaction_f(this.get()).onCommit((e=>{this.commit(e,!0)})))).css("margin-left","3px"),this.setValue(m.clone(e))}render(){let e=this.get();this.x.container.val(e.x),this.y.container.val(e.y),this.floor.container.val(e.level)}}class Ia extends Pa{constructor(){super({type_class:{toHTML:e=>{let t=Ur.meta(e);return c(`<div><img style="height: 18px; object-fit: contain; margin-right: 3px" src="${t.icon_url}" alt="${t.description}">${t.description}</div>`)}}},Ur.all().map((e=>e.type)))}}class Oa extends Ao{constructor(){super($("<input type='text' class='nisinput'>")),this.container.val(this.get()).on("input",(()=>{this.preview(this.container.val())})).on("change",(()=>{this.commit(this.container.val())}))}setEnabled(e){return this.container.prop("disabled",!e),this}setPlaceholder(e){return this.container.attr("placeholder",e),this}render(){this.container.val(this.get())}}var Da=xe.vbox,Ra=xe.hbox;class Ba extends Ao{constructor(e=["npc","static"]){super(Da().container),this.kinds=e}render(){var e,t;this.empty();const i=Ra();if(this.kinds.length>1){const t=this.kinds.map((e=>({value:e,button:new To({npc:"NPC",static:"Object",item:"Item"}[e],"radio")}))),n=new To.Group(t,!1).setValue((null===(e=this.get())||void 0===e?void 0:e.kind)||"static").onChange((e=>{const t=m.cloneDeep(this.get());t&&(t.kind=e,this.commit(t))}));i.append(...n.buttons.map((e=>e.button)))}const n=(new Oa).css("width","100%").setValue((null===(t=this.get())||void 0===t?void 0:t.name)||"").onCommit((e=>{if(e){let t=m.cloneDeep(this.get());t||(t={name:"",kind:(void 0,t.kind)}),t.name=e,this.commit(t)}else this.commit(null)}));this.append(n,i)}}class ja extends Ao{constructor(e,t){super($(`<input type='number' class='nisinput' min='${e}' max="${t}">`)),this.min=e,this.max=t,this.container.on("input",(()=>{this.commit(Number(this.container.val()))}))}render(){this.container.val(this.get())}}var Na=We.copyUpdate;class Fa extends Ao{constructor(){super()}render(){var e,t;const i=this.get();if(!i)return;const n=new po;switch(this.append(n),n.header("Description"),n.row(new za({fullsize:!0,resolver:Qr().app.template_resolver}).setValue(i.description).onCommit((e=>this.commit(Na(this.get(),(t=>t.description=e)))))),i.type){case"orientation":n.named("Facing",(new Ma).setValue(i.direction).onSelection((e=>{this.commit(Na(this.get(),(t=>t.direction=e)))})));break;case"ability":n.named("From",new La(i.from).onCommit((e=>this.commit(Na(this.get(),(t=>t.from=e)))))),n.named("To",new La(i.to).onCommit((e=>this.commit(Na(this.get(),(t=>t.to=e)))))),"barge"==i.ability&&n.named("Target",new Ba(["npc"]).setValue(null!==(e=i.target)&&void 0!==e?e:{name:"",kind:"npc"}).onCommit((e=>{this.commit(Na(this.get(),(t=>t.target=e.name?e:void 0)))}))),"dive"==i.ability&&n.named("Target Text",(new Oa).setPlaceholder("Text like 'on top of the flower' or 'next to the rock'.").setValue(i.target_text).onCommit((e=>{this.commit(Na(this.get(),(t=>t.target_text=e)))})));break;case"redclick":n.named("Type",(new Ia).setValue(i.how).onSelection((e=>this.commit(Na(this.get(),(t=>t.how=e)))))),n.named("Where",new La(i.where).onCommit((e=>this.commit(Na(this.get(),(t=>t.where=e)))))),n.named("Target",new Ba(["npc","static"]).setValue(null!==(t=i.target)&&void 0!==t?t:{name:"",kind:"static"}).onCommit((e=>{this.commit(Na(this.get(),(t=>t.target=e.name?e:void 0)))})));break;case"run":n.named("Target Text",(new Oa).setPlaceholder("Text like 'on top of the flower' or 'next to the rock'.").setValue(i.to_text).onCommit((e=>{this.commit(Na(this.get(),(t=>t.to_text=e)))})));break;case"teleport":n.named("Spot",new La(i.spot).onCommit((e=>this.commit(Na(this.get(),(t=>t.spot=e))))));break;case"powerburst":n.named("Where",new La(i.where).onCommit((e=>this.commit(Na(this.get(),(t=>t.where=e))))));break;case"transport":break;case"cheat":n.named("Target",new La(i.target).onCommit((e=>this.commit(Na(this.get(),(t=>t.target=e)))))),n.named("Facing",(new Ma).setValue(i.orientation).onSelection((e=>{this.commit(Na(this.get(),(t=>t.orientation=e)))}))),n.named("Ticks",new ja(0,100).setValue(i.ticks).onCommit((e=>{this.commit(Na(this.get(),(t=>t.ticks=e)))})))}}}class Za extends ka{constructor(e){super({size:"small"}),this.value=e,this.title.set("Edit Step Details")}render(){super.render(),this.edit=(new Fa).setValue(Na(this.value,(()=>{}))).appendTo(this.body)}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>this.cancel())),new Aa("Save","confirm").onClick((()=>this.confirm({new_version:this.edit.get()})))]}getValueForCancel(){return{new_version:null}}}class qa extends ka{constructor(e){super({size:"small"}),this.config=e}render(){super.render(),this.title.set(this.config.title||"Confirmation"),this.explanation=c("<p></p>").text(this.config.body).appendTo(this.body)}getButtons(){return[...this.config.options.map((e=>new Aa(e.text,e.kind).onClick((()=>this.confirm(e.value)))))]}getValueForCancel(){var e;return null===(e=this.config.options.find((e=>e.is_cancel)))||void 0===e?void 0:e.value}}class Ua{constructor(){this.persistance=new e.Variable("patheditor/bookmarks",(()=>[])),this.temporary_bookmarks=[]}create(e){switch(e.type){case"persistent":this.persistance.map((t=>{t.push(e)}));break;case"temporary":this.temporary_bookmarks.push(e)}}delete(e){switch(e.type){case"persistent":this.persistance.map((t=>{t.splice(t.indexOf(e),1)}));break;case"temporary":this.temporary_bookmarks.splice(this.temporary_bookmarks.indexOf(e),1)}}getAll(){return[].concat(this.persistance.get(),this.temporary_bookmarks)}}!function(e){class t extends ka{constructor(e,t){super({size:"small"}),this.start_name=e,this.value=t,this.title.set("Create Bookmark"),this.bookmark={name:e,value:t,type:"temporary"}}render(){super.render();const e=(new po).appendTo(this.body);e.named("Bookmark name",(new Oa).setValue(this.start_name).setPlaceholder("Name...").onCommit((e=>this.bookmark.name=e))),e.row(new To("Save for future use?").setValue("persistent"==this.bookmark.type).onCommit((e=>this.bookmark.type=e?"persistent":"temporary")))}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>this.cancel())),new Aa("Save","confirm").onClick((()=>this.confirm(this.bookmark)))]}getValueForCancel(){return null}}e.getContextMenu=function(e,i){return{type:"submenu",text:"",children:[...i.getAll().map((t=>{const n={text:t.name,type:"submenu",children:[]};return n.children.push({type:"basic",text:"Load",handler:()=>{e.set(t.value.path,!1,t.value.cursor)}}),n.children.push({type:"basic",text:"Insert",handler:()=>{e.add(...t.value.path)}}),"temporary"==t.type&&n.children.push({type:"basic",text:"Make persistent",handler:()=>{i.delete(t),t.type="persistent",i.create(t)}}),n.children.push({type:"basic",text:"Delete",handler:async()=>{("temporary"==t.type||await new qa({options:[{text:"Cancel",kind:"cancel",value:!1},{text:"Delete",kind:"cancel",value:!0}],title:"Remove Bookmark?",body:"Do you really want to remove this persistent path bookmark? There is no way to undo this and you will have to recreate it manually."}).do())&&i.delete(t)}}),n})),{type:"basic",text:"Create Bookmark",handler:async()=>{const n=function e(t){const n=`Bookmark ${t}`;return i.getAll().some((e=>e.name==n))?e(t+1):n}(1),r=await new t(n,e.copyState()).do();r&&i.create(r)}}]}}}(Ua||(Ua={}));class Va extends wa{constructor(e,t=""){super({force_footer:!0}),this.string=e,this.explanation=t}render(){super.render(),this.title.set("Export"),c("<p></p>").text(this.explanation).appendTo(this.body),this.textarea=new Sa({readonly:!0}).setValue(this.string).css2({resize:"none",width:"100%",height:"20em"}).on("click",(()=>this.textarea.raw().select())).appendTo(this.body)}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>this.remove())),new Aa("Copy","confirm").onClick((async()=>{await navigator.clipboard.writeText(this.string),Qr().app.notifications.notify({type:"information"},"String copied to clipboard!")}))]}}class Ha extends ka{constructor(e){super(),this.parser=e}render(){super.render(),this.title.set("Import"),this.textarea=new Sa({placeholder:"Paste the shareable string here."}).css2({resize:"none",width:"100%",height:"20em"}).appendTo(this.body),this.textarea.onChange((e=>{this.import_button.setEnabled(!!e.value)}))}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>this.confirm(null))),this.import_button=new Aa("Import","confirm").setEnabled(!1).onClick((()=>{try{let e=this.parser(this.textarea.get());if(null==e)return void Qr().app.notifications.notify({type:"error"},"Invalid input");this.confirm({imported:e})}catch(e){alert(`Invalid input: ${e.toString()}`)}}))]}}var Wa=We.cleanedJSON;class Ka extends ge{constructor(e){super(),this.editor=e,this.addClass("ctr-menurow");{const e=new ca("Undo","rectangle").onClick((()=>this.editor.value.undoredo.undo())),t=new ca("Redo","rectangle").onClick((()=>this.editor.value.undoredo.redo()));e.enabled.bindTo(this.editor.value.undoredo.canUndo),t.enabled.bindTo(this.editor.value.undoredo.canRedo),this.append(e,t,new ca("Bookmarks","rectangle").onClick((e=>{new Pe(Ua.getContextMenu(this.editor.value,this.editor.bookmarks)).showFromEvent(e)})),new ca("Save","rectangle").onClick((()=>{this.editor.options.commit_handler(this.editor.value.get())})).setEnabled(!!this.editor.options.commit_handler),new ca("Close","rectangle").setEnabled(!!this.editor.options.discard_handler).onClick((()=>{this.editor.discard()})),new ca("&#x2630;","rectangle").onClick((e=>{const t=[];this.editor.options.target&&t.push({type:"basic",text:"Focus target",handler:()=>{this.editor.game_layer.getMap().fitView(ar.toRect(this.editor.options.target.parent))}}),t.push({type:"basic",text:"Export",handler:()=>{new Va(no.export_path(this.editor.value.get())).show()}},{type:"basic",text:"Show JSON",handler:()=>{new Va(Wa(this.editor.value.get())).show()}},{type:"basic",text:"Import",handler:async()=>{const e=await new Ha((e=>no.import_path(e))).do();(null==e?void 0:e.imported)&&this.editor.value.set(e.imported)}}),new Pe({type:"submenu",text:"",children:t}).showFromEvent(e)})))}}}var Ga,Qa,Ya,Ja,Xa=We.index,$a=Hr.EntityTransportation,el=ar.activate,tl=(Hr.EntityTransportation.default_interactive_area,xe.vbox),il=Hr.TeleportGroup,nl=Wr.resolveTeleport;class rl extends xr{constructor(e,t){super(),this.editor=e,t&&new ws(!0).addTo(this)}eventContextMenu(e){e.onPost((()=>{var t,i,n;if(this.editor.isActive())if(e.setTitle(`${e.tile().x} | ${e.tile().y} | ${e.tile().level}`),e.active_entity){if(e.active_entity instanceof wo){const t=e.active_entity.config.teleport;if(1==t.group.access.length){const i=t.group.access[0];e.addForEntity({type:"basic",text:()=>c().append("Use via ",wo.accessNameAsWidget(i)),handler:()=>{this.editor.value.add({type:"teleport",spot:t.centerOfTarget(),id:{...t.id(),access:i.id}})}})}else e.addForEntity({type:"submenu",text:"Use via",children:t.group.access.map((e=>({type:"basic",text:()=>c().append(wo.accessNameAsWidget(e)),handler:()=>{this.editor.value.add({type:"teleport",spot:t.centerOfTarget(),id:{...t.id(),access:e.id}})}})))})}else if(e.active_entity instanceof us){const t=e.active_entity.config.access,i=e.active_entity.config.teleport;e.addForEntity({type:"submenu",text:`Use action '${t.action_name}'`,children:e.active_entity.config.teleport.spots.map((e=>{const n=new il.Spot(i,e,t,Qr().app.teleport_settings);return{type:"basic",icon:`assets/icons/teleports/${n.image().url}`,text:n.code()?`${e.code}: ${e.name}`:e.name,handler:async()=>{var e,i;const r=null===(i=null===(e=this.editor.value.cursor_state.value().state)||void 0===e?void 0:e.position)||void 0===i?void 0:i.tile;let o=r;const s=t.interactive_area||$a.default_interactive_area(ar.toRect(t.clickable_area)),a=[];if(r&&!el(s).query(r)){const e=await or.find(or.init_djikstra(r),s);e&&e.length>1?(o&&(o=Xa(e,-1)),a.push({type:"run",waypoints:e})):Qr().app.notifications.notify({type:"error"},"No path to transportation found.")}a.push({type:"teleport",spot:n.centerOfTarget(),id:{...n.id(),access:t.id}}),this.editor.value.add(...a)}}}))})}else if(e.active_entity instanceof ns){let t=Hr.normalize(e.active_entity.config.shortcut);t.actions.forEach((i=>{e.addForEntity({type:"basic",text:`Use action '${i.name}'`,icon:Ur.meta(i.cursor).icon_url,handler:async()=>{var e,n;const r=null===(n=null===(e=this.editor.value.cursor_state.value().state)||void 0===e?void 0:e.position)||void 0===n?void 0:n.tile;let o=r;const s=i.interactive_area||$a.default_interactive_area(t.clickable_area),a=[];if(r&&!el(s).query(r)){const e=await or.find(or.init_djikstra(r),s);e&&e.length>1?(o&&(o=Xa(e,-1)),a.push({type:"run",waypoints:e})):Qr().app.notifications.notify({type:"error"},"No path to transportation found.")}null!=o||(o=r?p.clampInto(r,ar.toRect(s)):s.origin);let l=m.cloneDeep(t);l.actions=[m.cloneDeep(i)],this.editor.value.add(...a,{type:"transport",assumed_start:o,internal:l})}})}))}else if(e.active_entity instanceof ms);else if(e.active_entity instanceof ko){const t=this.editor.value.committed_value.value().steps.find((t=>t.associated_preview==e.active_entity));t&&e.addForEntity(...this.editor.contextMenu(t).children)}}else{const r=null===(n=null===(i=null===(t=this.editor.value.cursor_state.value())||void 0===t?void 0:t.state)||void 0===i?void 0:i.position)||void 0===n?void 0:n.tile,o=e.tile();r&&!d.eq2(r,o)&&e.add({type:"basic",text:"Walk here",icon:"assets/icons/yellowclick.png",handler:async()=>{const e=await or.find(or.init_djikstra(this.editor.value.cursor_state.value().state.position.tile),ar.init(o));e&&e.length>1?this.editor.value.add({type:"run",waypoints:e}):Qr().app.notifications.notify({type:"error"},"No path found.")}}),e.add({type:"submenu",text:"Redclick",icon:"assets/icons/cursor_redclick.png",children:Ur.all().map((t=>({type:"basic",text:t.description,icon:t.icon_url,handler:()=>{this.editor.value.add({type:"redclick",target:Ur.defaultEntity(t.type),where:e.tile(),how:t.type})}})))})}}))}eventKeyDown(e){e.onPost((()=>{const t=e.original;(()=>t.ctrlKey&&"z"==t.key.toLowerCase()?(t.shiftKey?this.editor.value.undoredo.redo():this.editor.value.undoredo.undo(),!0):t.ctrlKey&&"y"==t.key.toLowerCase()?(this.editor.value.undoredo.redo(),!0):t.ctrlKey&&"s"==t.key.toLowerCase()?(this.editor.commit(),!0):"Backspace"==t.key?(this.editor.value.delete(this.editor.value.cursor-1),!0):"Delete"==t.key&&(this.editor.value.delete(this.editor.value.cursor),!0))()&&(e.stopAllPropagation(),t.preventDefault())}))}}class ol extends eo{constructor(e,t,i,n){super(),this.game_layer=e,this.template_resolver=t,this.options=i,this.control=null,this.handler_layer=null,this.overlay_control=null,this.you_are_here_marker=null,this.bookmarks=new Ua,this.handler_layer=new rl(this,n),this.value=new ya({target:this.options.target,start_state:this.options.start_state},i.initial),this.handler_layer.add(this.value.preview_layer),this.value.cursor_state.subscribe((({state:e})=>{this.action_bar&&this.action_bar.state.set(e),this.you_are_here_marker&&(this.you_are_here_marker.remove(),this.you_are_here_marker=null),e.position.tile&&(this.you_are_here_marker=s.marker(l.toLatLong(e.position.tile),{icon:s.icon({iconUrl:"assets/icons/youarehere.png",iconSize:[25,25],iconAnchor:[13,13]})}).addTo(this.handler_layer))})),new Pr({position:"left-top",type:"floating"},tl(new Ka(this),this.control=new pa(this))).addTo(this.handler_layer),this.overlay_control=new Mo(this).addTo(this.handler_layer),this.interaction_guard=(new co).setDefaultLayer(this.handler_layer),this.action_bar=new Yo(this,this.interaction_guard).addTo(this.handler_layer)}begin(){this.handler_layer.addTo(this.game_layer),this.game_layer.getMap().container.focus(),this.options.target&&vr(this.options.target.parent).addTo(this.handler_layer)}end(){this.handler_layer.remove()}discard(){this.options.discard_handler&&(this.options.discard_handler(),this.stop())}commit(){var e,t;null===(t=(e=this.options).commit_handler)||void 0===t||t.call(e,this.value.get())}close(){this.discard(),this.stop()}editStep(e,t){this.interaction_guard.set(t.onStart((()=>{var t;null===(t=e.associated_preview)||void 0===t||t.setVisible(!1),this.overlay_control.lens_layer.enabled2.set(!1)})).onEnd((()=>{var t;null===(t=e.associated_preview)||void 0===t||t.setVisible(!0),this.overlay_control.lens_layer.enabled2.set(!0)})))}async editStepDetails(e){const t=await new Za(e.step.raw).do();t.new_version&&this.value.update(e.index,t.new_version)}redrawAbility(e){const t=e.step.raw;"ability"==t.type?this.editStep(e,new Io(t.ability).setStartPosition(t.from).onCommit((t=>e.update((e=>Object.assign(e,t)))))):"run"==t.type?this.editStep(e,(new Bo).setStartPosition(t.waypoints[0]).onCommit((t=>e.update((e=>Object.assign(e,t)))))):"cheat"==t.type&&this.editStep(e,new Uo(t.assumed_start).onCommit((t=>e.update((e=>Object.assign(e,t))))))}moveStep(e){const t=e.step;if("redclick"==t.raw.type)this.editStep(e,new qo(t.raw.how).onCommit((t=>e.update((e=>{e.where=t.where})))));else if("powerburst"==t.raw.type)this.editStep(e,new jo({preview_render:e=>new ko({step:{type:"powerburst",where:e}})}).onCommit((t=>e.update((e=>{e.where=t})))).attachTopControl((new lo).setName("Selecting tile").setText("Select the location of the powerburst by clicking the tile.")));else if("teleport"==t.raw.type){const i=nl(t.raw.id);this.editStep(e,new jo({preview_render:e=>(_o("teleport"==t.raw.type),el(i.targetArea()).query(e)?new ko({interactive:!1,step:{type:"teleport",id:t.raw.id,spot:e}}):mr(e).setStyle({fillColor:"red",color:"red",stroke:!0}))}).addLayer(vr(i.targetArea()).setStyle({fillColor:"lightgreen",color:"lightgreen",stroke:!0})).onCommit((t=>e.update((e=>{e.spot=t})))).attachTopControl((new lo).setName("Selecting tile").setText("Select the specific target of the teleport by clicking the tile.")))}}contextMenu(e){const t=[];return t.push({type:"basic",icon:"assets/icons/edit.png",text:"Edit",handler:()=>this.editStepDetails(e)}),t.push({type:"basic",icon:"assets/icons/delete.png",text:"Remove",handler:()=>e.delete()}),"ability"!=e.step.raw.type&&"run"!=e.step.raw.type&&"cheat"!=e.step.raw.type||t.push({type:"basic",icon:"assets/icons/edit.png",text:"Redraw on map",handler:()=>this.redrawAbility(e)}),"powerburst"!=e.step.raw.type&&"redclick"!=e.step.raw.type&&"teleport"!=e.step.raw.type||t.push({type:"basic",icon:"assets/icons/move.png",text:"Move on map",handler:()=>this.moveStep(e)}),"orientation"==e.step.raw.type&&t.push({type:"submenu",icon:"assets/icons/compass.png",text:"Choose Direction",children:rr.all.map((t=>({type:"basic",text:rr.toString(t),handler:()=>{e.update((e=>e.direction=t))}})))}),"cheat"==e.step.raw.type&&t.push({type:"submenu",icon:"assets/icons/Rotten_potato.png",text:"Choose Orientation",children:[void 0].concat(rr.all).map((t=>{var i;return{type:"basic",text:null!==(i=rr.toString(t))&&void 0!==i?i:"None",handler:()=>{e.update((e=>e.orientation=t))}}}))}),"redclick"==e.step.raw.type&&t.push({type:"submenu",icon:"assets/icons/cursor_redclick.png",text:"Choose Cursor",children:Ur.all().map((t=>({type:"basic",text:t.description,icon:t.icon_url,handler:()=>{e.update((e=>e.how=t.type))}})))}),{type:"submenu",text:"",children:t}}}class sl extends ge{constructor(e){super(),this.addClass("ctr-map-sidebar"),this.header=new so(e).appendTo(this),this.body=c("<div style='flex-grow: 1; overflow-y: auto; overflow-x: hidden'></div>").appendTo(this)}}!function(e){function t(e,t){return l.max_axis(l.sub(e,t))}let i;function n(e){return{x:e.x,y:(e.y+6400)%12800,level:e.level}}e.get_pulse=function(e,i,r){let o=t(e,i),s=3-Math.min(2,Math.floor(Math.max(0,o-1)/r));return _o(s>=1&&s<=3),{pulse:s,different_level:e.level!=i.level||t(n(e),i)<=r+15}},e.distance=t,function(e){var t=We.Order.natural_order,i=We.Order;function n(e){return e.pulse-1+(e.different_level?3:0)}function r(e,t){return e.different_level?t.some((t=>t.pulse==e.pulse&&!t.different_level))?1==We.count(t,(e=>e.different_level))?{type:null,text:"DL"}:{type:e.pulse,text:"DL"}:{type:e.pulse,text:null}:We.count(t,(e=>e.different_level))==t.length-1?{type:null,text:"TF"}:{type:e.pulse,text:null}}e.hash=n,e.unhash=function(e){return{pulse:e%3+1,different_level:e>=3}},e.equals=function(e,t){return e.pulse==t.pulse&&e.different_level==t.different_level},e.all=[{pulse:1,different_level:!1},{pulse:2,different_level:!1},{pulse:3,different_level:!1},{pulse:1,different_level:!0},{pulse:2,different_level:!0},{pulse:3,different_level:!0}],e.meta=function(e){let t=["Single","Double","Triple"][e.pulse-1];return e.different_level?{pretty:1==e.pulse?"Different Level":t+" (DL)",short:1==e.pulse?"DL":"DL"+e.pulse,shorted:1==e.pulse?'"DL"':'"DL"'+e.pulse}:{pretty:t,short:e.pulse.toString(),shorted:e.pulse.toString()}},e.simplify_with_context=r,e.pretty_with_context=function(e,t){let{type:i,text:n}=r(e,t);if(null==i)switch(n){case"DL":return"Different level";case"TF":return"Too far";case null:return"NULL"}else{let e=["Single","Double","Triple"][i-1];switch(n){case"DL":return`Different Level (${e})`;case"TF":return"NULL";case null:return e}}},e.compare=function(e,i){return t(n(e),n(i))},e.comp=i.comap(t,n)}(i=e.Pulse||(e.Pulse={})),e.complementSpot=n}(Ga||(Ga={})),function(e){var t=Ga.Pulse,i=Ga.get_pulse,n=ar.activate;let r;function o(e,r,o){const s=[];return n(r).getTiles().forEach((n=>{s.push(t.hash(i(e,n,o)))})),[...new Set(s).values()].map(t.unhash)}function s(e,i,n){return e.filter((e=>o(e,i.area,n).some((e=>t.equals(i,e)))))}!function(e){e.equals=function(e,i){return t.equals(e,i)&&!(3==e.pulse&&3==i.pulse&&!d.eq2(null==e?void 0:e.spot,i.spot))}}(r=e.PulseInformation||(e.PulseInformation={})),e.spot_narrowing=function(e,i,n){return t.all.flatMap((t=>{let r=s(e,{area:i,pulse:t.pulse,different_level:t.different_level},n);return 3==t.pulse?r.map((e=>({pulse:{pulse:3,different_level:t.different_level,spot:e},narrowed_candidates:[e]}))):[{pulse:t,narrowed_candidates:r}]}))},e.area_pulse=o,e.narrow_down=s}(Qa||(Qa={})),function(e){var t=no.movement_state,i=_s.digSpotArea,n=Qa.PulseInformation,r=Qa.spot_narrowing;let o;function s(e,t){return e.ordered_spots.findIndex((e=>l.eq(e,t)))+1}function a(e){var t;return(e.raw.path.length>0?e.raw.path.map($r.templateString).join(" - "):"Go")+(0==e.raw.path.length||(null===(t=e.raw.region)||void 0===t?void 0:t.name)||1==e.remaining_candidates.length?" to {{target}}":"")}!function(e){var o=We.avg,a=no.ends_up,l=ar.activate;async function c(e,n){return e.state.paths_augmented||(await async function e(t,n){var r;if(t.path=await no.augment(t.raw.path,n,1==t.remaining_candidates.length?l(i(t.remaining_candidates[0])):(null===(r=t.region)||void 0===r?void 0:r.area)?l(t.region.area):null),t.children.length>0){let i=m.cloneDeep(t.path.post_state);i.tick+=1,await Promise.all(t.children.map((t=>e(t.value,i))))}}(e.root_node,t.start(n)),e.state.paths_augmented=!0),e}function h(e,t){let i={raw:e,clue:t,root_node:null,state:{paths_augmented:!1,completeness_analyzed:!1,correctness_analyzed:!1,timing_analysis:null}};return i.root_node=function t(o,s,a,l,c){var h,u,d;let p={root:i,parent:s,region:{area:(null===(h=o.region)||void 0===h?void 0:h.area)||no.endsUpArea(o.path)||c,name:null!==(d=null===(u=o.region)||void 0===u?void 0:u.name)&&void 0!==d?d:""},raw:o,depth:a,remaining_candidates:l,children:[]};if(o.children.length>0){let i=r(l,p.region.area,e.assumed_range);p.children=o.children.map((e=>({key:e.key,value:t(e?e.value:null,{node:p,key:e.key},a+1,i.find((t=>n.equals(t.pulse,e.key))).narrowed_candidates,p.region.area)})))}return p}(e.root,null,0,e.ordered_spots,null),i}function u(e){if(!e.state.paths_augmented)throw new TypeError("Trying to analyze a decision tree for correctness without augmented paths!");return e.state.correctness_analyzed||(function e(t){t.children.forEach((t=>e(t.value)));let i=t.children.map((e=>e.value)),n=no.collect_issues(t.path);n.some((e=>0==e.level))?t.correctness="error":i.some((e=>"error"==e.correctness||"error_in_children"==e.correctness))?t.correctness="error_in_children":n.some((e=>1==e.level))||i.some((e=>"correct_with_warnings"==e.correctness))?t.correctness="correct_with_warnings":t.correctness="correct"}(e.root_node),e.state.correctness_analyzed=!0),e}function p(e){return e.state.completeness_analyzed||(function e(t){t.children.forEach((t=>e(t.value)));let n=t.children.map((e=>e.value));if(t.completeness="complete",t.remaining_candidates.length>1&&0==n.length)t.completeness="incomplete";else if(n.some((e=>"incomplete"==e.completeness||"incomplete_children"==e.completeness)))t.completeness="incomplete_children";else if(1==t.remaining_candidates.length){const e=a(t.raw.path);e&&l(i(t.remaining_candidates[0])).query(e)||(t.completeness="incomplete")}}(e.root_node),e.state.completeness_analyzed=!0),e}function g(e){let t=e.raw.ordered_spots.map((e=>({spot:e,timings:[],average:0})));return f.traverse(e.root_node,(e=>{if(0==e.children.length){let i="complete"==e.completeness;e.remaining_candidates.forEach((n=>{t.find((e=>d.eq2(e.spot,n))).timings.push({ticks:e.path.post_state.tick,incomplete:!i})}))}})),t.forEach((e=>e.average=o(...e.timings.map((e=>e.ticks))))),e.state.timing_analysis={spots:t,average:o(...t.map((e=>e.average)))},e}let f;e.completeness_meta=function(e){return{complete:{char:"✓",cls:"ctr-correct",desc:"This branch is complete."},correct:{char:"✓",cls:"ctr-correct",desc:"All paths are correct."},correct_with_warnings:{char:"✓",cls:"ctr-semicorrect",desc:"All paths are correct, but some have warnings."},error:{char:"!",cls:"ctr-incorrect",desc:"There is an error in this path."},error_in_children:{char:"!",cls:"ctr-semiincorrect",desc:"A child path has errors."},incomplete:{char:"?",cls:"ctr-incorrect",desc:"This branch is incomplete."},incomplete_children:{char:"?",cls:"ctr-semiincorrect",desc:"Branch has incomplete children."}}[e]},e.path_augmentation=c,e.basic_augmentation=h,e.analyze_correctness=u,e.analyze_completeness=p,e.analyze_timing=g,e.augment=async function(e,t,i){let n=h(t,i);return e.augment_paths&&await c(n,e.path_assumptions),e.analyze_correctness&&u(n),e.analyze_completeness&&p(n),e.analyze_timing&&g(n),n},function(e){e.decision_string=function(e){let t=(()=>{var t;if(e.parent){let i=(null===(t=e.parent.node.region)||void 0===t?void 0:t.name)||"",n=e.parent.key,r=e.parent.node.children.map((e=>e.key));return n.different_level?r.some((e=>e.pulse==n.pulse&&!e.different_level))?1==We.count(r,(e=>e.different_level))?i.length>0?`${i},DL`:"DL":`${i}${n.pulse}DL`:n.pulse.toString():We.count(r,(e=>e.different_level))==r.length-1?i.length>0?`${i},Far`:"Far":`${i}${n.pulse.toString()}`}return"Start"})();return 1==e.remaining_candidates.length?`${t}: Sp. ${s(e.root.raw,e.remaining_candidates[0])}`:t},e.collect_parents=function e(t,i=!0){var n;if(!t)return[];let r=e(null===(n=t.parent)||void 0===n?void 0:n.node,!0);return i&&r.push(t),r},e.traverse=function e(t,i,n=!0){n&&t&&i(t),t.children.forEach((t=>e(t.value,i,!0)))}}(f=e.AugmentedScanTree||(e.AugmentedScanTree={}))}(o=e.Augmentation||(e.Augmentation={})),e.traverse=function e(t,i){t&&i(t),t.children.forEach((t=>e(t.value,i)))},e.init=function(e){return{assumed_range:e.range,ordered_spots:e.spots,root:{children:[],directions:"",path:[]}}},e.init_leaf=function(){return{children:[],directions:"",path:[]}},e.normalize=function(e){return e.root||(e.root={children:[],directions:"",path:[]}),function t(i,o){var s;let a=(null===(s=i.region)||void 0===s?void 0:s.area)||no.endsUpArea(i.path),l=a?r(o,a,e.assumed_range).filter((e=>e.narrowed_candidates.length>0)).map((({pulse:e,narrowed_candidates:t})=>({child:i.children.find((t=>n.equals(e,t.key)))||{key:e,value:{children:[],directions:"",path:[]}},candidates:t}))):[];1==l.length&&(l=[]),i.children=l.map((e=>e.child)),l.forEach((({child:e,candidates:i})=>{t(e.value,i)}))}(e.root,e.ordered_spots),e},e.spotNumber=s,e.defaultScanTreeInstructions=a,e.getInstruction=function(e){return e.raw.directions||a(e)},e.getTargetRegion=function(e){var t,i,n,r;return 1==e.remaining_candidates.length?null:{area:null!==(i=null===(t=e.raw.region)||void 0===t?void 0:t.area)&&void 0!==i?i:no.endsUpArea(e.raw.path),name:null!==(r=null===(n=e.region)||void 0===n?void 0:n.name)&&void 0!==r?r:""}}}(Ya||(Ya={})),function(e){var t=We.timestamp;let i,n;!function(e){let t;e.init=function(){return{double_escape:!0,double_surge:!0,full_globetrotter:!0,meerkats_active:!0,mobile_perk:!0,way_of_the_footshaped_key:!0}},e.filterWithRelevance=function(e,t){const i=m.cloneDeep(e);for(let e of Object.keys(i))t.includes(e)||(i[e]=void 0);return i},function(e){e.all=["double_escape","double_surge","mobile_perk","way_of_the_footshaped_key","full_globetrotter","meerkats_active"],e.forSpot=function(e){const t=["double_escape","double_surge","mobile_perk"];return e.clue.solution&&"search"==e.clue.solution.type&&e.clue.solution.key&&t.push("way_of_the_footshaped_key"),"emote"==e.clue.type&&e.clue.hidey_hole&&t.push("full_globetrotter"),"scan"==e.clue.type&&t.push("meerkats_active"),t}}(t=e.Relevance||(e.Relevance={}))}(i=e.ClueAssumptions||(e.ClueAssumptions={})),function(e){e.meta=function(e){return{name:e.name,description:e.description,assumptions:e.assumptions}},e.setMeta=function(e,t){return e.name=t.name,e.description=t.description,e.assumptions=m.cloneDeep(t.assumptions),e},e.allPaths=function(e){const t=(()=>{switch(e.type){case"general_path":return[e.pre_path,e.main_path,e.post_path];case"scantree":function t(e,i){return e.push(i.path),i.children.forEach((i=>t(e,i.value))),e}return t([],e.tree.root)}})();return t.filter((e=>e&&e.length>0)),t.flat()}}(n=e.Method||(e.Method={})),e.init=function(e){var n;return"scan"==e.clue.type?{id:Ps(),type:"scantree",timestamp:t(),name:"",description:"",assumptions:i.init(),for:{clue:e.clue.id},tree:Ya.init(e.clue)}:{id:Ps(),type:"general_path",timestamp:t(),name:"",description:"",assumptions:i.init(),for:{clue:e.clue.id,spot:null!==(n=e.spot)&&void 0!==n?n:void 0},post_path:[],pre_path:[],main_path:[]}},e.clone=function(e){const t=m.cloneDeep(e);return t.id=Ps(),t}}(Ja||(Ja={}));var al=Ja.ClueAssumptions,ll=xe.vbox;class cl extends Ao{constructor(){super(),this.relevant_assumptions=al.Relevance.all}render(){var e;this.empty();const t=this.relevant_assumptions,i=null!==(e=this.get())&&void 0!==e?e:{};ll(t.includes("meerkats_active")?new To("Using Meerkats Familiar").setValue(!!i.meerkats_active).onCommit((e=>this.updateAssumptions((t=>t.meerkats_active=e)))):void 0,t.includes("full_globetrotter")?new To("Full Globetrotter").setValue(!!i.full_globetrotter).onCommit((e=>this.updateAssumptions((t=>t.full_globetrotter=e)))):void 0,t.includes("way_of_the_footshaped_key")?new To("Way of the foot-shaped key").setValue(!!i.way_of_the_footshaped_key).onCommit((e=>this.updateAssumptions((t=>t.way_of_the_footshaped_key=e)))):void 0,t.includes("double_surge")?new To("Double Surge").setValue(!!i.double_surge).onCommit((e=>this.updateAssumptions((t=>t.double_surge=e)))):void 0,t.includes("double_escape")?new To("Double Escape").setValue(!!i.double_escape).onCommit((e=>this.updateAssumptions((t=>t.double_escape=e)))):void 0,t.includes("mobile_perk")?new To("Mobile Perk").setValue(!!i.mobile_perk).onCommit((e=>this.updateAssumptions((t=>t.mobile_perk=e)))):void 0).appendTo(this)}setRelevantAssumptions(e=al.Relevance.all){return this.relevant_assumptions=e,this.setValue(al.filterWithRelevance(this.get(),e)),this.render(),this}updateAssumptions(e){const t=m.cloneDeep(this.get());e(t),this.commit(t)}}!function(e){e.icons=function(e){let t=[];return e.double_escape&&t.push(xe.inlineimg("assets/icons/doubleescape.png").tooltip("Assumes Double Escape")),e.double_surge&&t.push(xe.inlineimg("assets/icons/doublesurge.png").tooltip("Assumes Double Surge")),e.mobile_perk&&t.push(xe.inlineimg("assets/icons/mobile.png").tooltip("Assumes Mobile Perk")),e.full_globetrotter&&t.push(xe.inlineimg("assets/icons/Globetrotter_jacket.png").tooltip("Assumes Full Globetrotter")),e.meerkats_active&&t.push(xe.inlineimg("assets/icons/Meerkats_pouch.png").tooltip("Assumes using Meerkats")),e.way_of_the_footshaped_key&&t.push(xe.inlineimg("assets/icons/Key_(Treasure_Trails).png").tooltip("Assumes 'Way of the footshaped key' is unlocked")),t.forEach((e=>e.css("margin-left","3px"))),t}}(cl||(cl={}));var hl=We.copyUpdate;class ul extends Ao{constructor(e){super(),this.setValue(e)}render(){this.empty();const e=(new po).appendTo(this),t=this.get();e.named("Name",this.name=(new Oa).onCommit((e=>{this.commit(hl(this.get(),(t=>t.name=e)))})).setPlaceholder("Enter a pack name...").setValue(t.name)),e.named("Author(s)",this.authors=(new Oa).onCommit((e=>{this.commit(hl(this.get(),(t=>t.author=e)))})).setPlaceholder("Enter author(s)...").setValue(t.author)),e.header("Description"),e.row(this.description=(new Sa).setPlaceholder("Optionally enter a description.").onCommit((e=>{this.commit(hl(this.get(),(t=>t.description=e)))})).css("height","80px").setValue(t.description)),e.header("Default Assumptions"),e.row((new cl).setValue(t.default_assumptions).onCommit((e=>{this.commit(hl(this.get(),(t=>t.default_assumptions=e)))}))),e.header("Default Method Name"),e.row((new Oa).onCommit((e=>{this.commit(hl(this.get(),(t=>t.default_method_name=e)))})).setPlaceholder("Enter default name...").setValue(t.default_method_name))}}class dl extends ka{constructor(e=null){super({size:"small"}),this.clone_from=e}render(){super.render(),this.clone_from?(this.title.set("Clone Method Pack"),this.edit=new ul({name:`${this.clone_from.name} (Clone)`,description:this.clone_from.description,author:this.clone_from.author,default_assumptions:this.clone_from.default_assumptions,default_method_name:this.clone_from.default_method_name}).appendTo(this.body)):(this.title.set("Create Method Pack"),this.edit=new ul({name:"",description:"",author:"",default_assumptions:{},default_method_name:""}).appendTo(this.body))}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>this.hide())),new Aa("Save","confirm").onClick((async()=>{const e=await Zs.instance().create(this.clone_from?{...m.cloneDeep(this.clone_from),...this.edit.get()}:{...this.edit.get(),type:"local",local_id:"",original_id:"",timestamp:0,methods:[]});Qr().app.notifications.notify({type:"information"},`Method Pack '${e.name}' created!`),this.confirm({created:e})}))]}getValueForCancel(){return{created:null}}}class pl extends ka{constructor(e){super({size:"small"}),this.pack=e}render(){super.render(),this.title.set("Edit Method Pack"),this.edit=new ul(Rs.meta(this.pack)).appendTo(this.body)}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>this.hide())),new Aa("Save","confirm").onClick((async()=>{const e=await Zs.instance().updatePack(this.pack,(e=>Rs.setMeta(e,this.edit.get())));Qr().app.notifications.notify({type:"information"},`Saved changes to method Pack '${e.name}'!`),this.confirm({saved:!0})}))]}getValueForCancel(){return{saved:!1}}}var gl=Zr.exp,ml=We.cleanedJSON;class fl extends ge{constructor(e,t,i){super(),this.pack=e,this.addClass("ctr-pack-widget");let n=(new po).addClass("ctr-pack-widget-body"),r=xe.div().append(`${e.name} (${e.methods.length})`,...cl.icons(e.default_assumptions)).addClass("ctr-pack-widget-header").tooltip(e.local_id);this.append(r,n),n.named("Author(s)",c().text(e.author)),n.row(c().css("font-style","italic").text(e.description)),i.buttons&&this.on("click contextmenu",(i=>{i.preventDefault();let n={type:"submenu",text:"",children:[]};n.children.push({type:"basic",text:"Clone",icon:"assets/icons/copy.png",handler:()=>new dl(e).do()}),"local"==e.type&&n.children.push({type:"basic",text:"Edit Metainformation",icon:"assets/icons/edit.png",handler:()=>{new pl(e).do()}}),"local"!=e.type&&"imported"!=e.type||(n.children.push({type:"basic",text:"Delete",icon:"assets/icons/delete.png",handler:async()=>{await new qa({body:"local"==e.type?`Are you sure you want to delete the local pack ${e.name}? There is no way to undo this action!`:"Are you sure you want to remove this imported pack? You will need to reimport it again.",options:[{kind:"neutral",text:"Cancel",value:!1},{kind:"cancel",text:"Delete",value:!0}]}).do()&&(await t.deletePack(e),Gr.instance().app.notifications.notify({type:"information",duration:3e3},`Deleted pack '${this.pack.name}'`))}}),n.children.push({type:"basic",text:"Export",handler:()=>{new Va(gl({type:"method-pack",version:1},!0,!0)(e)).show()}}),n.children.push({type:"basic",text:"Export JSON",handler:()=>{new Va(ml(e)).show()}})),new Pe(n).showFromEvent2(i.originalEvent)}))}}var yl=xe.btnrow,vl=xe.h,_l=Zr.imp;class xl extends sl{constructor(e){super("Theorycrafter"),this.theorycrafter=e,this.css("width","300px"),this.methods=Zs.instance(),this.methods.saved.on((async e=>this.render(await this.methods.all()))).bindTo(e.handler_pool),this.methods.all().then((e=>this.render(e)))}render(e){this.body.empty();let t=m.groupBy(e,(e=>e.type));vl(2,"Default Method-Packs").appendTo(this.body),t.default.forEach((e=>{new fl(e,Zs.instance(),{buttons:!0,collapsible:!0}).appendTo(this.body)})),vl(2,"Imported Method-Packs").appendTo(this.body);let i=t.imported||[];i.forEach((e=>{new fl(e,Zs.instance(),{buttons:!0,collapsible:!0}).appendTo(this.body)})),0==i.length&&c().text("No imported method packs.").appendTo(this.body),yl(new ca("Import","rectangle").onClick((async()=>{const e=await new Ha(_l({expected_type:"method-pack",expected_version:1})).do();(null==e?void 0:e.imported)&&this.methods.import(e.imported)}))).appendTo(this.body);let n=t.local||[];vl(2,"Local Method-Packs").appendTo(this.body),n.forEach((e=>{new fl(e,Zs.instance(),{buttons:!0,collapsible:!0}).appendTo(this.body)})),0==n.length&&c().text("No local method packs.").appendTo(this.body),yl(new ca("+ Create New","rectangle").onClick((()=>{(new dl).do()}))).appendTo(this.body)}}class bl extends Fo{constructor(e){super($("<img class='nisl-collapse-button'>")),this.behaviour=e,e.bindToClickable(this),e.state().subscribe((e=>{this.container.attr("src",e?"assets/nis/plus.png":"assets/nis/minus.png")}),!0)}}class wl{constructor(e){this.collapsed_event=we(),this.expanded_event=we(),this.collapsed=Ae(e)}isCollapsed(){return this.collapsed.value()}isExpanded(){return!this.collapsed.value()}bindToClickable(e){return e.on("click",(e=>{e.stopPropagation(),this.toggle()})),this}toggle(){return this.collapsed.value()?this.expand():this.collapse(),this}expand(){return this.collapsed.value()?(this.expanded_event.trigger(void 0),this.collapsed.set(!1),this):this}collapse(){return this.collapsed.value()||(this.collapsed_event.trigger(void 0),this.collapsed.set(!0)),this}onCollapse(e){return this.collapsed_event.on(e),this}setCollapsed(e){return this.isCollapsed()?e||this.expand():e&&this.collapse(),this}onExpansion(e){return this.expanded_event.on(e),this}state(){return this.collapsed}onChange(e,t=!1){return this.state().subscribe(e,t),this}}!function(e){function t(t){let i=new e(!!t.starts_collapsed).onCollapse((()=>t.onCollapse(t.target))).onExpansion((()=>t.onExpand(t.target)));return t.collapse_button&&i.bindToClickable(t.collapse_button),t.target&&t.starts_collapsed&&t.target.container.css({display:"none"}),i}e.create=t,e.horizontal=function(e){return t({target:e.target,starts_collapsed:e.starts_collapsed,onExpand:t=>t.container.animate({width:"show"},e.duration||300),onCollapse:t=>t.container.animate({width:"hide"},e.duration||300)})},e.vertical=function(e){return t({target:e.target,starts_collapsed:e.starts_collapsed,onExpand:t=>t.container.animate({height:"show"},e.duration||300),onCollapse:t=>t.container.animate({height:"hide"},e.duration||300)})}}(wl||(wl={}));var kl=Ja.Method,Al=Ja.ClueAssumptions,Tl=We.copyUpdate;class Cl extends Ao{constructor(e,t){super(),this.spot=e,t.assumptions=Al.filterWithRelevance(t.assumptions,Al.Relevance.forSpot(this.spot)),this.setValue(t)}render(){this.empty();const e=(new po).appendTo(this),t=this.get();e.named("Name",this.name=(new Oa).onCommit((e=>{this.commit(Tl(this.get(),(t=>t.name=e)))})).setPlaceholder("Enter a method name...").setValue(t.name)),e.header("Description"),e.row(this.description=(new Sa).setPlaceholder("Optionally enter a description.").onCommit((e=>{this.commit(Tl(this.get(),(t=>t.description=e)))})).css("height","80px").setValue(t.description)),e.header("Clue Assumptions"),e.row((new cl).setValue(t.assumptions).setRelevantAssumptions(Al.Relevance.forSpot(this.spot)).onCommit((e=>{this.commit(Tl(this.get(),(t=>t.assumptions=e)))})))}}class Sl extends Ao{constructor(){super()}async render(){this.empty();const e=this.get();this.selector=new Pa({type_class:{toHTML:e=>e?e.create_new?c().text("Create New"):c().text(e.pack.name):c().text("None")}},[]).setItems((async()=>[...(await Zs.instance().all()).filter((e=>"local"==e.type)).map((e=>({pack:e}))),{pack:null,create_new:!0},null])).setValue(e?{pack:e}:null).onSelection((async e=>{if(null==e?void 0:e.create_new){this.selector.setValue(null);const e=await(new dl).do();(null==e?void 0:e.created)&&this.commit(e.created)}else this.commit(null==e?void 0:e.pack)})).appendTo(this)}}class El extends ka{constructor(e,t=null){super({size:"small"}),this.spot=e,this.clone_from=t}render(){var e,t,i;super.render(),(new po).appendTo(this.body).named("Pack",this.pack_selector=(new Sl).setValue("local"==(null===(t=null===(e=this.clone_from)||void 0===e?void 0:e.pack)||void 0===t?void 0:t.type)?null===(i=this.clone_from)||void 0===i?void 0:i.pack:null).onCommit((e=>{if(e){const t=m.cloneDeep(this.edit.get());t.assumptions=Al.filterWithRelevance(e.default_assumptions,Al.Relevance.forSpot(this.spot)),t.name=e.default_method_name,this.edit.setValue(t)}}))),this.clone_from?(this.title.set("Clone Method"),this.edit=new Cl(this.spot,Tl(kl.meta(this.clone_from.method),(e=>{e.name+=" (Clone)"}))).appendTo(this.body)):(this.title.set("Create New Method"),this.edit=new Cl(this.spot,{name:"",description:"",assumptions:{}}).appendTo(this.body))}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>this.confirm(this.getValueForCancel()))),new Aa("Create","confirm").onClick((async()=>{const e=this.clone_from?Ja.clone(this.clone_from.method):Ja.init(this.spot);kl.setMeta(e,this.edit.get()),e.assumptions=Al.filterWithRelevance(e.assumptions,Al.Relevance.forSpot(this.spot)),this.confirm({created:{pack:this.pack_selector.get(),method:e,clue:this.spot.clue}})}))]}getValueForCancel(){return{created:null}}}class zl extends ka{constructor(e,t){super({size:"small"}),this.spot=e,this.start_value=t}render(){super.render(),this.title.set("Edit Method Metainformation"),this.edit=new Cl(this.spot,this.start_value).appendTo(this.body)}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>this.confirm(this.getValueForCancel()))),new Aa("Save","confirm").onClick((async()=>{this.confirm({result:this.edit.get()})}))]}getValueForCancel(){return{result:null}}}var Pl=xe.hbox,Ml=xe.spacer,Ll=xe.span,Il=_s.ClueSpot,Ol=We.natural_join,Dl=We.plural,Rl=ar.activate;class Bl extends po{constructor(e,t,i,n,r,o){super(),this.clue=e,this.methods=t,this.edit_handler=i,this.include_header=n,this.alternative_index=r,this.manage_methods_button=o,this.render_promise=null,this.render_promise=this.render()}async render(){var e;function t(e,t){try{e.named("Solution",(()=>{switch(t.type){case"dig":return c(`<span><img src='assets/icons/cursor_shovel.png' class="inline-img"> Dig at ${d.toString(t.spot)}</span>`);case"search":return c(`<span><img src='assets/icons/cursor_search.png' class="inline-img"> Search <span class="nisl-entity">${t.entity}</span> at ${d.toString(p.bl(t.spot))}</span>`);case"talkto":return c(`<span><img src='assets/icons/cursor_talk.png' class="inline-img"> Talk to <span class="nisl-npc">${t.npc}</span> near ${d.toString(Rl(t.spots[e.alternative_index||0].range).center())}</span>`)}})()),"search"==t.type&&t.key&&e.named("Key",c(`<span><span style="font-style: italic">${t.key.instructions}</span> (${t.key.answer})</span>`))}catch(e){}}switch(this.include_header&&this.row(Bl.header(this.clue)),this.clue.clue.type){case"scan":this.named("Area",c().text(`${this.clue.clue.scantext}`)),this.named("Range",c().text(`${this.clue.clue.range}`)),this.named("Spots",c().text(`${this.clue.clue.spots.length}`));break;case"compass":t(this,{type:"dig",spot:this.clue.spot,description:null}),this.named("Total",c().text(`${this.clue.clue.spots.length}`));break;case"coordinates":this.named("Text",c().text(this.clue.clue.text[0]).css("font-style","italic")),this.named("Coordinates",c().setInnerHtml(o.toString(this.clue.clue.coordinates))),t(this,{type:"dig",spot:o.toCoords(this.clue.clue.coordinates),description:null});break;case"simple":case"cryptic":case"anagram":this.named("Text",c().text(this.clue.clue.text[0]).css("font-style","italic")),t(this,this.clue.clue.solution);break;case"map":this.row(c(`<div style="text-align: center"><img src="${this.clue.clue.image_url}" style="height: 180px; width: auto; max-width: 100%"></div>`)),this.named("Transcript",c().text(this.clue.clue.text[0])),t(this,this.clue.clue.solution);break;case"emote":this.named("Text",c().text(this.clue.clue.text[0]).css("font-style","italic")),this.named("Equip",c().text(Ol(this.clue.clue.items,"and"))),this.clue.clue.emotes.length>1?this.named("Emotes",c().text(Ol(this.clue.clue.emotes,"then"))):this.named("Emote",c().text(this.clue.clue.emotes[0])),this.named("Agent",c().text(this.clue.clue.double_agent?"Yes":"No"));break;case"skilling":this.named("Text",c().text(this.clue.clue.text[0])),this.named("Answer",c().text(this.clue.clue.answer))}(null===(e=this.clue.clue.challenge)||void 0===e?void 0:e.length)>0&&this.named("Challenge",c().append(...this.clue.clue.challenge.map((function(e){switch(e.type){case"wizard":return c("<div><img src='assets/icons/cursor_attack.png' class=\"inline-img\"> Wizard</div>");case"slider":return c("<div><img src='assets/icons/slider.png' class=\"inline-img\"> Puzzle box</div>");case"celticknot":return c("<div><img src='assets/icons/celticknot.png' class=\"inline-img\"> Celtic Knot</div>");case"lockbox":return c("<div><img src='assets/icons/lockbox.png' class=\"inline-img\"> Lockbox</div>");case"towers":return c("<div><img src='assets/icons/towers.png' class=\"inline-img\"> Towers Puzzle</div>");case"challengescroll":return c(`<div><img src='assets/icons/cursor_talk.png' class="inline-img"> <span style="font-style: italic">${e.question}</span> (Answer: ${Ol(e.answers.map((e=>e.note?`${e.answer} (${e.note}`:e.answer)),"or")})</div>`)}})).map((e=>e))));const i=await Zs.instance().get(this.clue);return this.named("Methods",c().text(`${Dl(i.length,"method")} available`)),this.manage_methods_button&&this.row(Pl(new ca("Manage Methods","rectangle").onClick((async e=>{new Pe(await Bl.methodMenu(this.clue,this.edit_handler)).showFromEvent(e)}))).addClass("ctr-button-container")),this}rendered(){return this.render_promise}}!function(e){e.header=function(e){return Pl(Ll(`${vs.meta(e.clue.tier).name} ${vs.meta(e.clue.type).name} Step (Id ${e.clue.id})`).css("font-weight","bold"),Ml().css("min-width","20px"),c(`<img class="icon" src='${e.clue.tier?me.icons.tiers[e.clue.tier]:""}' title="${vs.pretty(e.clue.tier)}" style="margin-right: 3px">`),c(`<img class="icon" src='${me.icons.types[e.clue.type]}' title="${vs.pretty(e.clue.type)}">`))},e.methodMenu=async function(e,t){const i=await Zs.instance().get(e),n=await Gr.instance().app.favourites.getMethod(Il.toId(e));return{type:"submenu",text:"",children:[{type:"basic",text:"New Method",handler:async()=>{const i=await new El(e).do();(null==i?void 0:i.created)&&t(i.created)}},...i.map((i=>{const r=Bs.isSame(n,i),o={type:"submenu",text:i.method.name,icon:()=>(new Cs).set(r),children:[{type:"basic",text:r?"Unset Favourite":"Make Favourite",icon:()=>(new Cs).set(r),handler:()=>{Gr.instance().app.favourites.setMethod(Il.toId(e),r?null:i)}}]};return"local"==i.pack.type&&o.children.push({type:"basic",text:"Edit",icon:"assets/icons/edit.png",handler:()=>t(i)}),o.children.push({type:"basic",icon:"assets/icons/copy.png",text:"Make Copy",handler:async()=>{const n=await new El(e,i).do();(null==n?void 0:n.created)&&t(n.created)}}),"local"==i.pack.type&&o.children.push({type:"basic",text:"Delete",icon:"assets/icons/delete.png",handler:async()=>{await new qa({body:"Are you sure you want to delete this method? There is no way to undo it!",options:[{kind:"neutral",text:"Cancel",value:!1},{kind:"cancel",text:"Delete",value:!0}]}).do()&&(Zs.instance().deleteMethod(i),Gr.instance().app.notifications.notify({type:"information",duration:3e3},"Deleted"))}}),o}))]}}}(Bl||(Bl={}));class jl extends De{constructor(e,t,i,n){super({interactive:!0,highlightable:!0}),this.clue=e,this.methods=t,this.edit_handler=i,this.talk_alternative_index=n}async renderTooltip(){let e=this;return{content:(await new Bl(e.clue,e.methods,e.edit_handler,!0,e.talk_alternative_index).rendered()).row(c().text("Right click marker to manage methods.").css("font-style","italic")),interactive:!0}}bounds(){return p.from(jl.position(this.clue,this.talk_alternative_index))}async render_implementation(e){const t=[Ir,Or,Dr,Rr],i=jl.position(this.clue,this.talk_alternative_index),n=e.highlight;return s.marker([i.y,i.x],{icon:s.icon({iconUrl:t[i.level],iconSize:n?[27,45]:[18,30],iconAnchor:n?[13,45]:[9,30],className:"marker-icon"})}).addTo(this).getElement()}async contextMenu(e){return await Bl.methodMenu(this.clue,this.edit_handler)}}!function(e){var t=ar.activate;e.position=function(e,i){var n,r;switch(e.clue.type){case"anagram":case"simple":case"cryptic":case"map":switch(null===(n=e.clue.solution)||void 0===n?void 0:n.type){case"talkto":let n=Math.min(i||0,e.clue.solution.spots.length);return t(e.clue.solution.spots[n].range).center();case"dig":return e.clue.solution.spot;case"search":return p.center(e.clue.solution.spot)}return{x:0,y:0,level:0};case"compass":return e.spot;case"coordinates":return o.toCoords(e.clue.coordinates);case"emote":return t(e.clue.area).center();case"scan":return d.lift(h.center(h.from(...e.clue.spots)),Math.min(...e.clue.spots.map((e=>e.level))));case"skilling":let s=i||0;if(s>=0&&(null===(r=e.clue.areas)||void 0===r?void 0:r.length)>0)return s>=e.clue.areas.length&&(s=0),p.center(e.clue.areas[s])}return{x:0,y:0,level:0}},e.forClue=function(t,i,n){var r;return("talkto"==(null===(r=t.clue.solution)||void 0===r?void 0:r.type)&&t.clue.solution.spots?t.clue.solution.spots.map(((e,t)=>({instance_index:t}))):"skilling"==t.clue.type?(t.clue.areas||[]).map(((e,t)=>({instance_index:t}))):[{}]).map((({instance_index:r})=>new e(t,i,n,r)))}}(jl||(jl={}));var Nl,Fl=i(7376),Zl=Ta.sitog,ql=xe.hbox,Ul=xe.spacer,Vl=xe.span,Hl=xe.vbox,Wl=_s.ClueSpot;!function(e){var t=_s.ClueSpot;e.normalize=function(e){return e.types||(e.types={simple:!0,anagram:!0,compass:!0,coordinates:!0,cryptic:!0,emote:!0,map:!0,scan:!0,skilling:!0}),e.tiers||(e.tiers={easy:!0,elite:!0,hard:!0,master:!0,medium:!0}),e},e.apply=async function(e,i,n,r){if(!e.types[i.clue.type]||!e.tiers[i.clue.tier])return!1;if(n&&e.method_mode){let r=await n.getForClue(t.toId(i),e.method_pack?[e.method_pack]:void 0);switch(e.method_mode){case"none":if(r.length>0)return!1;break;case"at_least_one":if(r.length<=0)return!1}}if(e.search_term){if(!r)return!1;let t=Fl.single(e.search_term,r);if(!t||t.score<-500)return!1}return!0},e.filter_string=function(e){return"compass"===e.clue.type?null:e.clue.text[0]}}(Nl||(Nl={}));class Kl extends ge{constructor(e,t,i,n){super(),this.spot=e,this.methods=t,this.edit_handler=i,this.map=n,this.addClass("ctr-filtered-clue-result"),this.props=new Bl(this.spot,this.methods,this.edit_handler,!0,void 0,!0).css2({display:"none","border-top":"1px dashed grey"}),this.append(ql(Hl(this.summary=c().text(Wl.shortString(e)).addClass("ctr-filtered-clue-result-summary").on("click",(()=>{this.map&&this.map.fitView(p.from(jl.position(e)),{maxZoom:4})})).tooltip("Click to center on spot.")).css2({overflow:"hidden"}),Ul(),new bl(wl.vertical({target:this.props,starts_collapsed:!0})))),this.append(this.props)}}class Gl extends Pr{constructor(t,i){super({type:"floating",position:"top-left"},new ao("Clue Filter").css2({"max-width":"300px",width:"300px"})),this.methods=t,this.edit_handler=i,this.stored_filter=new e.Variable("preferences/cluefilters2",(()=>Nl.normalize({}))),this.filter=Ae({}),this.filtered_index_updated=we(),this.index=Ds.spot_index.with((()=>({visible:!1,list_widget:null,prepared_search_string:null}))),this.index.forEach((e=>{let t=Nl.filter_string(e.for);e.prepared_search_string=t?Fl.prepare(t):null})),this.filter.set(Nl.normalize(this.stored_filter.get())),this.filter.subscribe((e=>{this.stored_filter.set(e)})),this.renderFilter(),this.filter.subscribe((async()=>{await this.refreshFilterIndex()}),!0)}async refreshFilterIndex(){await Promise.all(this.index.flat().map((async e=>{e.visible=await Nl.apply(this.filter.value(),e.for,this.methods,e.prepared_search_string)}))),this.filtered_index_updated.trigger(void 0),this.renderResults()}async renderFilter(){this.content.body.css2({display:"flex","flex-direction":"column"});let e=(new po).appendTo(this.content.body),t={tier:ys.all.map((e=>({tier:e,btn:Zl(vs.meta(e).icon_url,(t=>this.filter.update((i=>i.tiers[e]=t)))).setState(this.filter.value().tiers[e]).tooltip(vs.meta(e).name)}))),type:vs.all.map((e=>({type:e,btn:Zl(vs.meta(e).icon_url,(t=>this.filter.update((i=>i.types[e]=t)))).setState(this.filter.value().types[e]).tooltip(vs.meta(e).name)})))};if(e.named("Tier",ql(...t.tier.map((e=>e.btn)),Ul()).addClass("ctr-filter-control-row")),e.named("Type",ql(...t.type.map((e=>e.btn)),Ul()).addClass("ctr-filter-control-row")),this.methods){let t=new To.Group([{value:"none",button:new To("None")},{value:"at_least_one",button:new To("At least one","radio")}],!0).setValue(this.filter.value().method_mode||"at_least_one").onChange((e=>this.filter.update((t=>t.method_mode=e))));const[i,n]=t.checkboxes();let r=ql(i,Ul(),n),o=new Pa({type_class:{toHTML:e=>Vl(e?`${m.capitalize(e.type)}: ${e.name}`:"Any")}},[null].concat(await this.methods.all())).setItems((async()=>[null].concat(await this.methods.all()))).setValue(this.filter.value().method_pack?await this.methods.getPack(this.filter.value().method_pack):null).onSelection((e=>{this.filter.update((t=>t.method_pack=null==e?void 0:e.local_id))}),!0);e.named("Methods",r),e.named("In Pack",o)}e.named("Search",(new Oa).setPlaceholder("Search").setValue(this.filter.value().search_term||"").onChange((e=>{this.filter.update((t=>t.search_term=e.value))}))),this.count_line=c().appendTo(this.content.body),this.result_container=c().css2({"max-height":"60vh","overflow-y":"scroll"}).appendTo(this.content.body)}async renderResults(){this.index.flat().forEach((e=>{e.visible&&!e.list_widget?e.list_widget=new Kl(e.for,this.methods,this.edit_handler,this.getMap()).appendTo(this.result_container):!e.visible&&e.list_widget&&(e.list_widget.remove(),e.list_widget=null)})),null==this||this.count_line.text(`${this.index.flat().filter((e=>e.visible)).length} matches`)}}var Ql=xe.span,Yl=We.copyUpdate;class Jl extends Ao{constructor(){super()}setValue(e){return e||(e={type:"none"}),super.setValue(e)}async render(){this.empty();const e=this.get(),t=new To.Group([{value:"none",button:new To("None")},{value:"favourites",button:new To("Preferred")},{value:"pack",button:new To("Method Pack")}]).setValue(e.type).onChange((async e=>{this.method_dropdown.setEnabled("pack"==e);const t=(await Zs.instance().all())[0];this.commit(Yl(this.get(),(i=>{var n;i.type=e,"pack"==e&&(null!==(n=i.local_pack_id)&&void 0!==n||(i.local_pack_id=t.local_id))})))}));this.append(...t.checkboxes()),this.method_dropdown=new Pa({type_class:{toHTML:e=>Ql(e?`${m.capitalize(e.type)}: ${e.name}`:"None")}},await Zs.instance().all()).setValue(await Zs.instance().getPack(e.local_pack_id)).setItems((async()=>await Zs.instance().all())).setEnabled("pack"==e.type).onSelection((e=>{this.commit(Yl(this.get(),(t=>{t.local_pack_id=e.local_id})))})).appendTo(this)}}var Xl,$l=_s.ClueSpot,ec=Ja.Method;class tc extends xr{constructor(t){super(),this.app=t,this.route_display_options=new e.Variable("preferences/overview_route_display",(()=>({type:"none"}))),this.update_promise=Promise.resolve(),this.filter_control=new Gl(Zs.instance(),(e=>t.editMethod(e))).addTo(this),new Pr({type:"floating",position:"top-right"},new ao("Show routes").setContent(this.route_control=(new Jl).setValue(this.route_display_options.get()).onCommit((e=>{this.route_display_options.set(e),this.updateVisibleRoutes()}))).css("width","200px")).addTo(this),this.marker_index=Ds.spot_index.with((()=>({markers:[],route_display:null}))),this.filter_control.filtered_index_updated.on((()=>this.updateVisibleMarkersByFilter())),this.updateVisibleMarkersByFilter()}async updateVisibleMarkersByFilter(){await this.update_promise,this.update_promise=Promise.all(this.marker_index.flat().map((async e=>{let t=this.filter_control.index.get($l.toId(e.for)).visible;!t&&e.markers.length>0&&(e.markers.forEach((e=>this.removeLayer(e))),e.markers=[]),t&&0==e.markers.length&&(e.markers=jl.forClue(e.for,Zs.instance(),(e=>this.app.editMethod(e))),e.markers.forEach((e=>e.addTo(this))))}))),await this.updateVisibleRoutes()}async updateVisibleRoutes(){await this.update_promise;const e=this.route_control.get();this.update_promise=(async()=>{for(const t of this.marker_index.flat()){let i=null;if(t.markers.length>0)switch(e.type){case"favourites":i=await Qr().app.favourites.getMethod($l.toId(t.for));break;case"pack":if(!e.local_pack_id)break;const n=await Zs.instance().get(t.for,[e.local_pack_id]);n.length>0&&(i=n[0])}t.route_display&&(t.route_display.remove(),t.route_display=null),i&&(t.route_display=ko.renderPath(ec.allPaths(i.method)).addTo(this))}})(),await this.update_promise}}class ic{constructor(e){this.f=e,this._value=null,this._calculated=!1}get(){return this._calculated||(this._value=this.f(),this._calculated=!0),this._value}hasValue(){return this._calculated}}class nc{constructor(e,t=null){this.bounds=e,this.size={x:e.botright.x-e.topleft.x+1,y:e.topleft.y-e.botright.y+1},this.data=new Array(this.size.x*this.size.y),t&&(this.data=this.data.map((()=>t())))}xyToI(e){return(e.y-this.bounds.botright.y)*this.size.x+(e.x-this.bounds.topleft.x)}iToXY(e){return{x:e%this.size.x+this.bounds.topleft.x,y:Math.floor(e/this.size.x)+this.bounds.botright.y}}get(e){return this.data[this.xyToI(e)]}set(e,t){this.data[this.xyToI(e)]=t}}!function(e){e.compute=function(e,t,i){return t.map((t=>Ga.Pulse.hash(Ga.get_pulse(e,t,i))))},e.equals=function(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!=t[i])return!1;return!0},e.information_gain=function(e){let t=e.length,i=[0,0,0,0,0,0,0,0];e.forEach((e=>i[e]++));let n=0;return i[0]>0&&(n+=i[0]*Math.log2(t/i[0])),i[1]>0&&(n+=i[1]*Math.log2(t/i[1])),i[2]>0&&(n+=i[2]*Math.log2(t)),i[3]>0&&(n+=i[3]*Math.log2(t/i[3])),i[4]>0&&(n+=i[4]*Math.log2(t/i[4])),i[5]>0&&(n+=i[5]*Math.log2(t)),n/=t,n}}(Xl||(Xl={}));class rc{constructor(e,t,i){this.id=e,this.profile=t,this.area=i,this.information_gain=Xl.information_gain(t)}}class oc{constructor(e){if(this.options=e,this.raster=null,this.equivalence_classes=null,0==this.options.candidates.length)return this.max_information=0,void(this.equivalence_classes=[]);let t=s.bounds(this.options.candidates.map((e=>s.point(e.x,e.y))));this.raster=new nc(this.options.complement?{topleft:{x:t.getTopLeft().x-(this.options.range+15),y:(t.getBottomLeft().y+(this.options.range+15)+1+6400)%12800},botright:{x:t.getTopRight().x+(this.options.range+15)+1,y:(t.getTopLeft().y-(this.options.range+15)+6400)%12800}}:{topleft:{x:t.getTopLeft().x-2*this.options.range,y:t.getBottomLeft().y+2*this.options.range+1},botright:{x:t.getTopRight().x+2*this.options.range+1,y:t.getTopLeft().y-2*this.options.range}}),this.equivalence_classes=[];let i=0;for(let e=0;e<this.raster.size.y;e++)for(let t=0;t<this.raster.size.x;t++){let n=e*this.raster.size.x+t,r={x:this.raster.bounds.topleft.x+t,y:this.raster.bounds.botright.y+e,level:this.options.floor},o=Xl.compute(r,this.options.candidates,this.options.range);if(t>0){let e=this.raster.data[n-1];if(Xl.equals(o,e.profile)){this.raster.data[n]=e,e.area.push(n);continue}}if(e>0){let e=this.raster.data[n-this.raster.size.x];if(Xl.equals(o,e.profile)){this.raster.data[n]=e,e.area.push(n);continue}}this.raster.data[n]=new rc(i++,o,[n]),this.equivalence_classes.push(this.raster.data[n])}this.max_information=Math.max(...this.equivalence_classes.map((e=>e.information_gain)))}}var sc=ve.observe_combined;class ac extends Xo{constructor(e){super(1,.2),this._spot=e,this.update()}spot(){return this._spot}setRegion(e){this._spot=e,this.update()}update(){var e;this.polygon&&(this.polygon.remove(),this.polygon=null,this.label.remove(),this.label=null),(null===(e=this._spot)||void 0===e?void 0:e.area)&&(this.polygon=vr(this._spot.area),this.label=s.tooltip({interactive:!1,permanent:!0,className:"area-name",offset:[0,0],direction:"center",content:this._spot.name}),this.polygon.setStyle({color:me.colors.scan_area,fillColor:me.colors.scan_area,interactive:!1}).bindTooltip(this.label).addTo(this)),this.setActive(this.isActive())}}class lc extends De{constructor(e,t,i,n){super({interactive:!0,highlightable:!0}),this.spot=e,this.range=t,this.include_marker=i,this.is_complement=n}bounds(){return h.centeredOn(this.spot,2*this.range)}async render_implementation(e){var t,i;return this.include_marker&&s.marker(l.toLatLong(this.spot),{icon:Br(this.spot.level,e.highlight?1.5:1),opacity:e.opacity,interactive:!0,bubblingMouseEvents:!0}).addTo(this),this.is_complement?yr({topleft:{x:this.spot.x-(this.range+15),y:this.spot.y+(this.range+15)},botright:{x:this.spot.x+(this.range+15),y:this.spot.y-(this.range+15)}}).setStyle({interactive:!1}).setStyle({color:"blue",fillOpacity:0}).addTo(this):(yr({topleft:{x:this.spot.x-this.range,y:this.spot.y+this.range},botright:{x:this.spot.x+this.range,y:this.spot.y-this.range}}).setStyle({interactive:!1}).setStyle({color:"#e51c02",fillOpacity:0,dashArray:[9,6,9,6,9,18]}).addTo(this),yr({topleft:{x:this.spot.x-2*this.range,y:this.spot.y+2*this.range},botright:{x:this.spot.x+2*this.range,y:this.spot.y-2*this.range}}).setStyle({interactive:!1}).setStyle({color:"#fff40b",fillOpacity:0,dashArray:[9,9,9,18]}).addTo(this)),null===(i=null===(t=this.marker)||void 0===t?void 0:t.marker)||void 0===i?void 0:i.getElement()}async renderTooltip(){const e=new po;return e.header("Manual Radius Marker"),e.named("Position",d.toString(this.spot)),e.row(c().text("Click to remove").css("font-style","italic")),{content:e,interactive:!1}}async contextMenu(e){return{type:"submenu",text:"",children:[]}}}class cc extends xr{constructor(){super(),this.marker_spot=Ae(null),this.scan_range=Ae(10),this.surface_is_complement=Ae(!1),this.fixedMarker=Ae(null),this.manualMarker=Ae(null),this.cursorMarker=Ae(null),this.canBeManuallySet=Ae(!1),this.followCursor=Ae(!1),this.canBeManuallySet.subscribe((()=>{this.manualMarker.set(null)})),sc({fixed:this.fixedMarker,manual:this.manualMarker,cursor:this.cursorMarker,manualEnabled:this.canBeManuallySet,followEnabled:this.followCursor}).subscribe((({fixed:e,manual:t,cursor:i,manualEnabled:n,followEnabled:r})=>{r&&i?this.marker_spot.set({coordinates:i,with_marker:!1}):n&&t?this.marker_spot.set({coordinates:t,with_marker:!0}):e?this.marker_spot.set({coordinates:e,with_marker:!1}):this.marker_spot.set(null)})),sc({range:this.scan_range,spot:this.marker_spot}).subscribe((({range:e,spot:t})=>{if(this.custom_marker&&(this.custom_marker.remove(),this.custom_marker=null),t){let i=t.coordinates.y<6400==this.surface_is_complement.value();this.custom_marker=new lc(t.coordinates,e,t.with_marker,i).addTo(this)}}))}setComplementByExampleSpot(e){return this.surface_is_complement.set(e.y>=6400),this}setFixedSpot(e){return this.fixedMarker.set(e),this}setFollowCursor(e){return this.followCursor.set(e),this}setClickable(e){return this.canBeManuallySet.set(e),this}setRadius(e){return this.scan_range.set(e),this}eventClick(e){e.onPost((()=>{this.canBeManuallySet.value()&&(this.custom_marker&&e.active_entity==this.custom_marker||d.eq2(e.tile(),this.manualMarker.value())?this.manualMarker.set(null):this.manualMarker.set(e.tile()))}))}eventHover(e){e.onPost((()=>{this.followCursor.value()&&this.cursorMarker.set(e.tile())}))}eventContextMenu(e){e.onPre((()=>{e.active_entity instanceof lc&&e.active_entity==this.custom_marker?e.addForEntity({type:"basic",text:"Remove",handler:()=>{this.manualMarker.set(null)}}):this.canBeManuallySet.value()&&(d.eq2(this.manualMarker.value(),e.tile())?e.add({type:"basic",text:"Remove Marker",handler:()=>{this.manualMarker.set(null)}}):e.add({type:"basic",text:"Set Marker",handler:()=>{this.manualMarker.set(e.tile())}}))}))}}var hc,uc=xe.hboxc,dc=xe.centered,pc=xe.span;class gc extends ge{constructor(e){super(),this.editor=e,this.normal=Ae(!1),this.complement=Ae(!1),dc(c("<div style='font-weight: bold'>Center On</div>"),new ba({align:"center",sizing:"100px",max_center_spacer_width:"20px"}).buttons(new ca("Spots","rectangle").onClick((()=>{let e=s.latLngBounds([]);this.editor.value.clue.spots.forEach((t=>e.extend(l.toLatLong(t)))),e.pad(.1),this.editor.app.map.fitBounds(e)})),new ca("Complement","rectangle").onClick((()=>{let e=s.latLngBounds([]);this.editor.value.clue.spots.forEach((t=>{e.extend(l.toLatLong({x:t.x,y:t.y<6400?t.y+6400:t.y-6400}))})),e.pad(.1),this.editor.app.map.fitBounds(e)}))).addClass("ctr-button-container"),c("<div style='font-weight: bold'>Show Equivalence Classes</div>"),uc(new To("Spots").onCommit((e=>{this.normal.set(e)})),new To("Complement").onCommit((e=>{this.complement.set(e)}))),c("<div style='font-weight: bold'>Expected Average Time</div>"),this.expected_timing_display=c().css("text-align","center").css("font-family","monospace")).appendTo(this),this.editor.builder.augmented.subscribe((e=>{const t=pc(e.state.timing_analysis.average.toFixed(2)+" ticks");e.state.timing_analysis.spots.some((e=>e.timings.some((e=>e.incomplete))))&&t.css("color","yellow").tooltip("Incomplete path"),this.expected_timing_display.empty().append(t)}))}}!function(e){e.render_digspot=function(e){return`<span class="ctr-digspot-inline">${e}</span>`}}(hc||(hc={}));var mc=hc.render_digspot,fc=Ya.spotNumber,yc=We.shorten_integer_list;function vc(e){return{target:()=>{var t;return 1==e.remaining_candidates.length?mc(fc(e.root.raw,e.remaining_candidates[0])):`{{scanarea ${(null===(t=e.raw.region)||void 0===t?void 0:t.name)||"_"}}}`},candidates:()=>We.natural_join(yc(e.remaining_candidates.map((t=>fc(e.root.raw,t))),mc))}}class _c extends uo{constructor(e){super(e),this.config=e,this.dragstart=null,this.area=Ae({area:null,committed:!1})}onAdd(e){return super.onAdd(e),e.dragging.disable(),this}onRemove(e){return super.onRemove(e),e.dragging.enable(),this}start(e){return this.dragstart=e,this}reset(){this.dragstart=null,this.area.set({area:null,committed:!1})}eventMouseDown(e){e.onPre((()=>{this.dragstart||(e.stopAllPropagation(),this.dragstart=e.tile(),this.preview(p.fromTile(e.tile())))}))}eventMouseUp(e){e.onPre((()=>{this.dragstart&&(e.stopAllPropagation(),this.commit(p.from(this.dragstart,e.tile())))}))}eventClick(e){e.onPre((()=>{e.stopAllPropagation(),this.dragstart?this.commit(p.from(this.dragstart,e.tile())):this.commit(p.fromTile(e.tile()))}))}eventHover(e){e.onPre((()=>{this.dragstart&&(e.stopAllPropagation(),this.preview(p.from(this.dragstart,e.tile())))}))}}var xc=We.natural_join,bc=We.shorten_integer_list,wc=Ya.Augmentation.AugmentedScanTree,kc=xe.span,Ac=xe.spacer,Tc=Ga.Pulse,Cc=We.Order,Sc=xe.hbox,Ec=xe.vbox,zc=xe.hboxl,Pc=no.collect_issues;class Mc extends uo{constructor(e){super({preview_render:e=>new ac(e)}),new _c({}).addTo(this).onPreview((t=>{this.preview({area:ar.fromRect(t),name:e})})).onCommit((t=>{this.commit({area:ar.fromRect(t),name:e})})),this.attachTopControl(new lo({name:"Draw Scan Region"}).setText("Click and Drag the map to draw a scan region rectangle."))}}class Lc extends ge{constructor(e,t){super(),this.parent=e,this.node=t,this.children=[],this.decision_span=null,this.is_collapsed=!1,this.region_preview=null,this.self_content=Sc().addClass("ctr-scantreeedit-node"),this.child_content=c();const i=Sc(c().css("background-color",["blue","purple","green"][t.depth%3]).css("width","3px")).css2({"padding-left":7*t.depth+"px","padding-right":"4px"}).tooltip("Click to collapse/expand").on("click",(e=>{e.stopPropagation(),e.preventDefault(),this.toggleCollapse()}));let n=xc(bc(t.remaining_candidates.map((t=>Ya.spotNumber(e.parent.builder.tree,t))),(e=>`<span class="ctr-digspot-inline">${e}</span>`)),"and");this.header=c().addClass("ctr-scantreeedit-node-header").append(this.decision_span=c().addClass("ctr-scantreeedit-node-path").on("click",(()=>this.parent.requestActivation(this.isActive()?null:this))),this.you_are_here_marker=c().addClass("ctr-scantreeedit-youarehere"),Ac(),kc(`${t.remaining_candidates.length}`).addTippy(c(`<span>${n}</span>`)),this.completeness_container=Sc(),c().setInnerHtml("&#x22EE;").addClass("ctr-path-edit-overview-step-options").on("click",(e=>{this.contextMenu(e.originalEvent)}))),this.body=new po,this.body.row(this.instruction_preview=c()),this.body.named("Timing",this.timing_box=zc()),this.append(this.self_content=Sc().addClass("ctr-scantreeedit-node").append(i,Ec(this.header,this.body).css("flex-grow","1").on("click",(e=>{e.stopPropagation(),e.preventDefault(),this.parent.requestActivation(this.isActive()?null:this)}))),this.child_content),this.self_content.on("contextmenu",(e=>this.contextMenu(e.originalEvent))),this.renderValue(t)}toggleCollapse(){this.is_collapsed=!this.is_collapsed,this.child_content.setVisible(!this.is_collapsed),this.body.setVisible(!this.is_collapsed)}contextMenu(e){var t;e.preventDefault(),e.stopPropagation();const i=[{type:"basic",text:this.is_collapsed?"Expand":"Collapse",handler:()=>this.toggleCollapse()},{type:"basic",text:this.isActive()?"Deactivate":"Activate",handler:()=>{this.parent.requestActivation(this.isActive()?null:this)}},""!=this.node.raw.directions?{type:"submenu",text:"Custom Instructions",children:[{type:"basic",text:"Reset",handler:()=>{this.node.raw.directions="",this.updateInstructionPreview()}},{type:"basic",text:"Edit",handler:()=>{this.editInstructions()}}]}:{type:"basic",text:"Add custom instructions",handler:()=>{this.editInstructions()}},this.node.remaining_candidates.length<=1?void 0:{type:"submenu",text:"Target region",children:[{type:"basic",text:"Edit Name",handler:async()=>{const e=this,t=await(new class extends ka{constructor(){super({size:"small"}),this.title.set("Edit region name"),this.shown.on((()=>{this.edit.raw().focus()}))}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>this.cancel())),new Aa("Save","confirm").onClick((()=>this.confirm(this.edit.get())))]}render(){var t,i;super.render(),(new po).appendTo(this.body).named("New Name",this.edit=(new Oa).setValue(null!==(i=null===(t=e.node.raw.region)||void 0===t?void 0:t.name)&&void 0!==i?i:"").appendTo(this.body))}getValueForCancel(){}}).do();void 0!==t&&this.parent.parent.builder.updateNode(this.node.raw,(e=>{e.region||(e.region={area:null,name:""}),e.region.name=t}))}},(null===(t=this.node.raw.region)||void 0===t?void 0:t.area)?{type:"basic",text:"Reset",handler:()=>{this.parent.parent.builder.updateNode(this.node.raw,(e=>e.region.area=null))}}:void 0,this.node.raw.path.length<1?void 0:{type:"basic",text:"Save Implicit",handler:()=>{const e=no.endsUpArea(this.node.raw.path);this.parent.parent.builder.updateNode(this.node.raw,(t=>{t.region||(t.region={area:null,name:""}),t.region.area=e}))}},{type:"basic",text:"Draw on Map",handler:()=>{var e,t;this.parent.parent.interaction_guard.set(new Mc(null!==(t=null===(e=this.node.raw.region)||void 0===e?void 0:e.name)&&void 0!==t?t:"").onStart((()=>{var e;return null===(e=this.region_preview)||void 0===e?void 0:e.setOpacity(0)})).onEnd((()=>{var e;return null===(e=this.region_preview)||void 0===e?void 0:e.setOpacity(this.region_preview.isActive()?this.region_preview.active_opacity:this.region_preview.inactive_opacity)})).onCommit((e=>{this.parent.parent.builder.setRegion(this.node.raw,e)})))}}].filter(m.identity)},{type:"basic",text:"Reset node",handler:async()=>{await new qa({title:"Reset node",body:"Resetting a node will delete its path, instruction, and all of its children and can not be undone.",options:[{kind:"neutral",text:"Cancel",value:!1,is_cancel:!0},{kind:"cancel",text:"Reset Node",value:!0}]}).do()&&(this.isActive()&&this.parent.requestActivation(null),this.parent.parent.builder.updateNode(this.node.raw,(e=>{e.path=[],e.directions="",e.children=[],e.region=void 0})))}}];new Pe({type:"submenu",text:"",children:i.filter((e=>!!e))}).showFromEvent2(e)}renderValue(e){this.node=e;{let t="",i=wc.collect_parents(e);const n=20;for(let e=i.length-1;e>=0;e--){let r=e>0?wc.decision_string(i[e]):"";if(t.length+r.length>=n&&e>0){t="..."+t;break}t="/"+r+t}this.decision_span.text(`${t}: `)}function t(e){let{char:t,cls:i,desc:n}=Ya.Augmentation.completeness_meta(e);return c("<span>").css("width","10px").addClass(i).text(t).tooltip(n)}const i=t(e.completeness).css("margin-left","5px"),n=t(e.correctness).css("margin-left","5px");this.completeness_container.empty().append(i,n),e.path.issues.length>0&&n.addTippy(Ec(...Pc(e.path).map((e=>new da(e))))),this.children.forEach((e=>e.detach())),this.updateInstructionPreview(),this.timing_box.empty().append(kc(`T${this.node.path.pre_state.tick}`).addClass("nisl-textlink"),kc("&nbsp;to&nbsp;"),kc(`T${this.node.path.post_state.tick}`).addClass("nisl-textlink")),this.children=this.node.children.map((e=>{let t=this.children.find((t=>t.node.raw==e.value.raw));return t?(t.renderValue(e.value),t):new Lc(this.parent,e.value)})).sort(Cc.chain(Cc.reverse(Cc.comap(Tc.comp,(e=>e.node.parent.key))),Cc.comap(Cc.natural_order,(e=>(_o(3==e.node.parent.key.pulse),Ya.spotNumber(e.node.root.raw,e.node.parent.key.spot)))))),this.children.forEach((e=>e.appendTo(this.child_content)))}updateInstructionPreview(){const e=this.parent.parent.app.template_resolver.with(vc(this.node));this.instruction_preview.setInnerHtml(e.resolve(Ya.getInstruction(this.node)))}setActive(e){this.self_content.toggleClass("active",e)}isActive(){return this==this.parent.active.value()}async editInstructions(){const e=this,t=await(new class extends ka{constructor(){super(),this.title.set(e.node.raw.directions?"Add custom directions":"Edit custom directions"),this.shown.on((()=>{this.edit.raw().focus()}))}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>this.cancel())),new Aa("Delete","cancel").onClick((()=>this.confirm(""))),new Aa("Save","confirm").onClick((()=>this.confirm(this.edit.get())))]}render(){var t;super.render(),this.edit=(new class extends Ao{constructor(){super(),this.instruction_input=null,this.resolver=e.parent.parent.app.template_resolver.with(vc(e.node)),this.onChange((()=>this.renderPreview()))}render(){this.empty(),this.instruction_input=new Sa({placeholder:"Enter text"}).setValue(this.get()).onPreview((e=>{this.preview(e)})).onCommit((e=>{this.commit(e)})).css("height","40px"),this.append(Ec(this.instruction_input,this.preview_container=c(),new ca("Load default").onClick((()=>this.setValue(Ya.defaultScanTreeInstructions(e.node))))).css2({display:"flex","flex-direction":"column"})),this.renderPreview()}renderPreview(){this.preview_container&&this.preview_container.container.html(`${this.resolver.resolve(this.get()||"")}`)}}).setValue(null!==(t=e.node.raw.directions)&&void 0!==t?t:"").appendTo(this.body)}getValueForCancel(){}}).do();void 0!==t&&(this.node.raw.directions=t,this.updateInstructionPreview())}}class Ic extends ge{constructor(e,t){super(),this.parent=e,this.value=t,this.root_widget=null,this.active=Ae(null),this.active_node=this.active.map((e=>null==e?void 0:e.node)),this.parent.builder.augmented.subscribe((async e=>{e&&(this.root_widget?this.root_widget.renderValue(e.root_node):(this.root_widget=new Lc(this,e.root_node).appendTo(this),this.requestActivation(this.root_widget)))}),!0)}getNode(e){let t=Ya.Augmentation.AugmentedScanTree.collect_parents(e),i=this.root_widget;for(let e=1;e<t.length;e++)i=i.children.find((i=>i.node.raw==t[e].raw));return i}requestActivation(e){this.active.value()&&this.active.value().setActive(!1),this.active.set(e),this.active.value()&&this.active.value().setActive(!0)}}var Oc=Ja.ClueAssumptions;class Dc extends eo{constructor(e){super(),this.parent=e,this.assumptions=Ae(Oc.init())}begin(){this.layer.add(new ws(!0))}setAssumptions(e){return this.assumptions.set(e),this}}var Rc=Ya.Augmentation.AugmentedScanTree;class Bc extends xr{constructor(e){super(),this.spots=e,this.markers=[],this.marker=(new cc).addTo(this),this.setSpots(e)}setSpots(e){return this.markers.forEach((e=>{e.regular.remove(),e.complement.remove()})),this.markers=e.map((e=>new Bc.MarkerPair(e))),this.markers.forEach(((e,t)=>{e.setNumber(t+1),e.regular.addTo(this),e.complement.addTo(this)})),e.length>0&&this.marker.setComplementByExampleSpot(e[0]),this}setActiveCandidates(e){this.markers.forEach((t=>t.setActive(e.some((e=>d.eq2(e,t.spot))))))}getMarker(e){return this.markers.find((t=>d.eq2(t.spot,e)))}setSpotOrder(e){e.forEach(((e,t)=>{var i;null===(i=this.getMarker(e))||void 0===i||i.setNumber(t+1)}))}setTiming(e){this.markers.forEach((t=>{t.setTiming(e.spots.find((e=>d.eq(e.spot,t.spot))))}))}}!function(e){var t=hc.render_digspot,i=Ga.complementSpot,n=xe.span,r=xe.inlineimg;e.MarkerPair=class{constructor(t){this.spot=t,this.regular=new e.SpotMarker(t,!1),this.complement=new e.SpotMarker(t,!0)}setNumber(e){this.regular.setNumber(e),this.complement.setNumber(e)}setActive(e){const t=e?1:.2;this.regular.opacity.set(t),this.complement.opacity.set(t)}setTiming(e){this.regular.setTiming(e),this.complement.setTiming(e)}},e.SpotMarker=class extends De{constructor(e,t){super({interactive:!0,highlightable:!0}),this.spot=e,this.is_complement=t,this.spot_on_map=null,this.number=void 0,this.spot_on_map=t?i(e):e}bounds(){return h.from(this.spot_on_map)}async render_implementation(e){const t=s.marker(l.toLatLong(this.spot_on_map),{icon:Br(this.spot.level,e.highlight?1.5:1),opacity:e.opacity}).addTo(this);return this.number&&t.bindTooltip(s.tooltip({content:this.number.toString(),className:"spot-number-on-map",offset:[0,10],permanent:!0,direction:"center",opacity:e.opacity})),t.getElement()}setNumber(e){this.number=e,this.render(!0)}async renderTooltip(){const e=new po;if(this.is_complement?e.header(c().append("Complement of Spot ",t(this.number))):e.header(c().append("Spot ",t(this.number))),this.is_complement&&e.row(c().addClass("ctr-step-properties-explanation").append(r("assets/icons/info.png")," This is the complement of a dig spot. Right click to learn more about complement spots.")),this.timing_information){let t=c();this.timing_information.timings.forEach(((e,i)=>{0!=i&&t.append(" | ");let r=n(e.ticks.toFixed(2)+" ticks");e.incomplete&&r.css("color","yellow").tooltip("Incomplete path"),t.append(r)}));const i=this.timing_information.timings.some((e=>e.incomplete));if(this.timing_information.timings.length>1){const e=n(this.timing_information.average.toFixed(2)+" ticks");i&&e.css("color","yellow").tooltip("Incomplete path"),t.append(", Average ",e)}e.named("Expected time",t),i&&e.row(c().css("font-style","italic").text("Timings in yellow are from incomplete branches."))}return{content:e,interactive:!0}}setTiming(e){this.timing_information=e}async contextMenu(e){return this.is_complement&&e.addForEntity({type:"basic",text:"About complement spots",handler:()=>{(new class extends wa{render(){super.render(),this.body.text("Sorry, this explanation is still missing.")}}).show()}}),{type:"submenu",text:()=>c().append("Spot ",t(this.number)),children:[]}}}}(Bc||(Bc={}));class jc extends eo{constructor(e){super(),this.parent=e,this.equivalence_classes=[]}render_equivalence_classes(e){let t=s.featureGroup();return e.equivalence_classes.map((t=>{let i=Math.abs(t.information_gain-e.max_information)<.01?"blue":`rgb(${255*(1-t.information_gain/e.max_information)}, ${255*t.information_gain/e.max_information}, 0)`,n=s.featureGroup();return function(e,i,n){function r(i){let n=e.data[i];return n&&n.id==t.id}function o(t){let i=e.iToXY(t.tile);return{x:i.x-.5+Math.floor(t.corner/2),y:i.y-.5+t.corner%2}}let a=n;for(;r(a-1);)a-=1;for(;r(a-e.size.x);)a-=e.size.x;let c=a,h={tile:a,corner:0},u=[];do{switch(h.corner){case 0:{let t=h.tile;for(;r(t+e.size.x)&&!r(t+e.size.x-1);)t+=e.size.x;u.push(o({tile:t,corner:1})),h=r(t+e.size.x-1)?{tile:t+e.size.x-1,corner:2}:{tile:t,corner:1}}break;case 1:{let t=h.tile;for(;r(t+1)&&!r(t+e.size.x+1);)t+=1;u.push(o({tile:t,corner:3})),h=r(t+e.size.x+1)?{tile:t+e.size.x+1,corner:0}:{tile:t,corner:3};break}case 2:{let t=h.tile;for(;r(t-1)&&!r(t-e.size.x-1);)t-=1;u.push(o({tile:t,corner:0})),h=r(t-e.size.x-1)?{tile:t-e.size.x-1,corner:3}:{tile:t,corner:0};break}case 3:{let t=h.tile;for(;r(t-e.size.x)&&!r(t-e.size.x+1);)t-=e.size.x;u.push(o({tile:t,corner:2})),h=r(t-e.size.x+1)?{tile:t-e.size.x+1,corner:1}:{tile:t,corner:2};break}}}while(c!=h.tile||0!=h.corner);return s.polygon(u.map(l.toLatLong))}(e.raster,0,t.area[0]).setStyle({color:"black",opacity:1,weight:3,fillOpacity:.25,fillColor:i}).addTo(n),s.marker(n.getBounds().getCenter(),{icon:s.divIcon({iconSize:[50,20],className:"equivalence-class-information",html:`${t.information_gain.toFixed(2)}b`})}).addTo(n),n})).forEach((e=>t.addLayer(e))),t}begin(){let e=this;function t(t,i){let n=Ae(t),r=n.map((t=>new ic((()=>e.render_equivalence_classes(new oc(t))))));return r.subscribe(((t,n)=>{n.hasValue()&&e.parent.layer.removeLayer(n.get()),i.value()&&e.parent.layer.addLayer(t.get())})),i.subscribe((t=>{t?e.parent.layer.addLayer(r.value().get()):r.value().hasValue()&&e.parent.layer.removeLayer(r.value().get())})),{options:n,layer:r}}let i=t({candidates:this.parent.value.clue.spots,range:this.parent.builder.tree.assumed_range,complement:!1,floor:this.parent.app.map.floor.value()},this.parent.tools.normal),n=t({candidates:this.parent.value.clue.spots,range:this.parent.builder.tree.assumed_range,complement:!0,floor:this.parent.app.map.floor.value()},this.parent.tools.complement);this.equivalence_classes=[i,n],this.parent.app.map.floor.subscribe((e=>this.equivalence_classes.forEach((t=>t.options.update((t=>t.floor=e)))))),this.parent.candidates_at_active_node.subscribe((e=>this.equivalence_classes.forEach((t=>t.options.update((t=>t.candidates=e))))))}end(){this.equivalence_classes.forEach((e=>{e.layer.value().hasValue()&&e.layer.value().get().remove()})),this.equivalence_classes=[]}}class Nc{constructor(e){this.clue=e,this.tree=null,this.augmented=Ae(null),this.preview_invalid=we(),this.assumptions=Ae({}).equality(((e,t)=>e.meerkats_active==t.meerkats_active&&e.mobile_perk==t.mobile_perk&&e.double_escape==t.double_escape&&e.double_surge==t.double_surge)),this.order_changed=we(),this.any_change=we(),this.assumptions.subscribe((e=>{this.cleanTree()}))}async cleanTree(){this.tree&&(this.tree.assumed_range=this.clue.range+(this.assumptions.value().meerkats_active?5:0),this.augmented.set(await Ya.Augmentation.augment({augment_paths:!0,analyze_completeness:!0,analyze_correctness:!0,analyze_timing:!0,path_assumptions:this.assumptions.value()},Ya.normalize(this.tree),this.clue)),this.preview_invalid.trigger(null))}set(e){this.tree=e,this.cleanTree()}setRegion(e,t){this.updateNode(e,(e=>e.region=t))}updateNode(e,t){t(e),this.cleanTree(),this.any_change.trigger(null)}setPath(e,t){this.updateNode(e,(e=>e.path=t))}setOrder(e){this.tree.ordered_spots=e,this.order_changed.trigger(e)}}class Fc extends eo{constructor(e){super(),this.parent=e,this.path_layer=null}begin(){this.layer=(new Jo).addTo(this.parent.layer),this.parent.tree_edit.active.subscribe((()=>this.updatePreview()),!0),this.parent.builder.preview_invalid.on((()=>this.updatePreview()))}async updatePreview(){let e=this.parent.tree_edit.active_node.value(),t=new Jo;if(e)for(const i of Rc.collect_parents(e,!0)){const n=Ya.getTargetRegion(i);n&&(this.parent.tree_edit.getNode(i).region_preview=new ac(n).addTo(t)),i!=e&&ko.renderPath(i.raw.path).addTo(t)}else this.parent.tree_edit.root_widget&&Rc.traverse(this.parent.tree_edit.root_widget.node,(async e=>{const i=Ya.getTargetRegion(e);return(null==i?void 0:i.area)&&(this.parent.tree_edit.getNode(e).region_preview=new ac(i).addTo(t)),ko.renderPath(e.raw.path).addTo(t)}),!0);this.path_layer&&this.path_layer.remove(),this.path_layer=t.addTo(this.layer)}end(){}}class Zc extends Dc{constructor(e,t,i,n){super(e),this.parent=e,this.app=t,this.value=i,this.side_panel=n,this.builder=new Nc(i.clue),this.builder.assumptions.set(m.cloneDeep(i.method.assumptions)),this.builder.augmented.subscribe((e=>{this.layer.setTiming(e.state.timing_analysis)})),this.builder.any_change.on((()=>{this.parent.registerChange()})),this.builder.order_changed.on((e=>{this.layer.setSpotOrder(e)})),this.layer=new Bc(i.clue.spots),this.layer.marker.setClickable(!0);const r=this;this.layer.add(new class extends xr{eventContextMenu(e){e.onPre((()=>{if(e.active_entity instanceof Bc.SpotMarker){const t=e.active_entity.spot;e.addForEntity({type:"basic",text:"Set spot number",handler:async()=>{const e=await(new class extends ka{constructor(){super({size:"small"}),this.title.set("Set spot number")}render(){super.render(),(new po).appendTo(this.body).named("New Spot Number",this.input=new ja(1,r.value.clue.spots.length).setValue(r.builder.tree.ordered_spots.findIndex((e=>d.eq(e,t)))+1)),this.input.raw().focus()}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>this.cancel())),new Aa("Save","confirm").onClick((()=>this.confirm(this.input.get()-1)))]}getValueForCancel(){}}).do();if(void 0!==e){const i=m.clone(r.builder.tree.ordered_spots),n=i.findIndex((e=>d.eq(t,e))),o=i[e];i[e]=i[n],i[n]=o,r.builder.setOrder(i)}}})}}))}}),this.interaction_guard=(new co).setDefaultLayer(this.layer),this.equivalence_classes=this.withSub(new jc(this)),this.preview_layer=this.withSub(new Fc(this)),this.path_editor=this.withSub(new to),this.assumptions.subscribe((e=>{this.value.method.tree.assumed_range=this.value.clue.range+(e.meerkats_active?5:0),this.builder.assumptions.set(m.cloneDeep(e)),this.layer.marker.setRadius(this.value.method.tree.assumed_range)})),this.builder.augmented.subscribe((e=>{this.value.method.expected_time=e.state.timing_analysis.average+1}))}setPathEditor(e){this.path_editor.set(new ol(this.layer.marker,this.app.template_resolver,{initial:e.path.raw,target:e.path.target,start_state:e.path.pre_state,discard_handler:()=>{},commit_handler:t=>{this.builder.setPath(e.raw,t)}},!1).onStop((()=>{this.tree_edit.active_node.value()==e&&this.tree_edit.requestActivation(null)})))}begin(){super.begin(),new Pr({position:"top-right",type:"floating"},new ao("Scan Tools").setContent(this.tools=new gc(this))).addTo(this.layer),this.builder.set(this.value.method.tree),c("<div style='font-weight: bold; text-align: center'>Scan Tree</div>").appendTo(this.side_panel),this.tree_edit=new Ic(this,this.builder.tree.root).css("overflow-y","auto").appendTo(this.side_panel),this.candidates_at_active_node=this.tree_edit.active.map((e=>e?e.node.remaining_candidates:this.value.clue.spots)),this.candidates_at_active_node.subscribe((e=>{this.layer.setActiveCandidates(e)})),this.app.map.addGameLayer(this.layer),this.tree_edit.active_node.subscribe((async e=>{e?this.setPathEditor(e):this.path_editor.set(null)}))}end(){this.layer.remove(),this.tree_edit.remove()}setSpotOrder(e){this.value.method.tree.ordered_spots}}class qc extends ka{constructor(e=["local"]){super({force_footer:!0}),this.types=e,this.packs=Zs.instance(),this.valid_packs=Ae([]),this.selected=Ae(null),this.title.set("Select Pack"),this.selected.subscribe((()=>this.highlightCurrentSelection())),this.updateValidPacks(!0),this.valid_packs.subscribe((e=>{this.renderSelectors(e),e.includes(this.selected.value())||this.selected.set(null)}))}updateValidPacks(e=!1){this.packs.all().then((t=>{this.valid_packs.set(t.filter((e=>this.types.includes(e.type)))),e&&this.selected.set(m.maxBy(this.valid_packs.value(),(e=>e.timestamp)))}))}render(){super.render(),this.renderSelectors(this.valid_packs.value())}renderSelectors(e){this.body.empty(),this.pack_widgets=e.map((e=>new fl(e,this.packs,{buttons:!1}).css("cursor","pointer").tapRaw((t=>t.on("click",(()=>{this.selected.value()==e?this.selected.set(null):this.selected.set(e)})))).appendTo(this.body))),this.types.includes("local")&&(new ba).buttons(new ca("Create New","rectangle").onClick((async()=>{let e=await(new dl).do();(null==e?void 0:e.created)&&this.updateValidPacks(!0)}))).appendTo(this.body)}highlightCurrentSelection(){const e=this.selected.value();this.pack_widgets.forEach((t=>{var i;t.toggleClass("inactive",t.pack!=e),null===(i=this.save_button)||void 0===i||i.setEnabled(!!e)}))}getButtons(){return[new Aa("Cancel","cancel").onClick((()=>{this.confirm({pack:null})})),this.save_button=new Aa("Save","confirm").onClick((()=>{this.confirm({pack:this.selected.value()})}))]}}var Uc=no.movement_state,Vc=ar.activate,Hc=xe.hbox,Wc=xe.hboxl,Kc=xe.vbox,Gc=xe.span,Qc=no.collect_issues,Yc=Hr.EntityTransportation.default_interactive_area;function Jc(e,t){switch(t){case"pre":return e.pre_path;case"post":return e.post_path;case"main":return e.main_path}}class Xc extends ge{constructor(e,t){super(Hc().container),this.parent=e,this.section=t,this.path=null,this.addClass("ctr-scantreeedit-node"),t.path||this.addClass("no-hover");const i=Hc(c().css("background-color",t.path?"blue":"gray").css("width","3px")).css2({"padding-left":"4px","padding-right":"4px"});this.body=new po,this.append(i,this.body.css("flex-grow","1").on("click",(e=>{e.stopPropagation(),e.preventDefault(),this.parent.requestActivation(this.isActive()?null:this)}))),this.on("contextmenu",(e=>this.contextMenu(e.originalEvent))),this.renderValue(null)}contextMenu(e){e.preventDefault(),e.stopPropagation();const t=[{type:"basic",text:this.isActive()?"Deactivate":"Activate",handler:()=>{this.parent.requestActivation(this.isActive()?null:this)}}];new Pe({type:"submenu",text:"",children:t.filter((e=>!!e))}).showFromEvent2(e)}renderValue(e){if(this.path=e,this.body.empty(),this.body.header($c.SequenceSegment.header(this.section)),this.section.path&&e){e.raw.length>0&&this.body.row(c().setInnerHtml(Qr().app.template_resolver.resolve(this.path.raw.map($r.templateString).join(" - "))));const t=Qc(e);t.length>0&&this.body.row(Kc(...t.map((e=>new da(e))))),this.body.named("Timing",Wc(Gc(`T${this.path.pre_state.tick}`).addClass("nisl-textlink"),Gc("&nbsp;to&nbsp;"),Gc(`T${this.path.post_state.tick}`).addClass("nisl-textlink")))}}setActive(e){this.toggleClass("active",e)}isActive(){return this==this.parent.active.value()}}class $c extends Dc{constructor(e,t){super(e),this.value=t,this.path_editor=this.withSub(new to),this.sequence=[],this.active=Ae(null),this.preview_layer=null,this.layer=new xr,this.assumptions.subscribe((e=>{this.updateSequence()})),this.active.subscribe((e=>{this.path_editor.isActive()&&(this.path_editor.get(),this.path_editor.set(null)),this.updatePreview(null==e?void 0:e.section),e&&this.setPathEditor({start_state:e.path.pre_state,initial:e.path.raw,target:e.path.target,commit_handler:t=>{switch(this.sequence.find((t=>t.edit==e)).path.section){case"pre":this.value.method.pre_path=t;break;case"post":this.value.method.post_path=t;break;case"main":this.value.method.main_path=t}this.parent.registerChange(),this.propagateState()},discard_handler:()=>{}}).onStop((()=>{this.active.value()==e&&this.requestActivation(null)}))}))}updatePreview(e){if(this.preview_layer&&(this.preview_layer.remove(),this.preview_layer=null),!e){const e=new xr;this.sequence.filter((e=>e.path)).map((e=>e.path.section)).filter((e=>e)).map((t=>{ko.renderPath(Jc(this.value.method,t)).addTo(e)})),this.preview_layer=e.addTo(this.layer)}}setPathEditor(e){let t=new ol(this.layer,Qr().app.template_resolver,e,!1);return this.path_editor.set(t),t}async begin(){super.begin(),this.sidepanel_widget=c().appendTo(this.parent.sidebar.body),this.layer.addTo(Qr().app.map),await this.updateSequence(),this.requestActivation(this.sequence.find((e=>e.path)).edit)}async updateSequence(){let e=[];const t=this.value,i=this.value.clue,n=this.assumptions.value();if("emote"==i.type){const t=i.hidey_hole&&Vc(i.area).query(i.hidey_hole.location);n.full_globetrotter||(t?e.push({name:"Path to Hidey Hole in Target Area",path:{section:"main",target:Vc(Yc(p.from(i.hidey_hole.location)))}}):i.hidey_hole&&e.push({name:"Path to Hidey Hole",path:{section:"pre",target:Vc(Yc(p.from(i.hidey_hole.location)))}}),i.hidey_hole?e.push({name:"Take and Equip Items",ticks:1}):e.push({name:"Unequip Items",ticks:1+Math.floor(i.items.length/3)})),!n.full_globetrotter&&t||e.push({name:"Path to Emote Area",path:{section:"main",target:Vc(i.area)}}),e.push({name:"Summon Uri",ticks:1}),i.double_agent&&e.push({name:"Kill double agent",ticks:"master"==i.tier?5:3}),!i.hidey_hole||t||n.full_globetrotter||(e.push({name:"Return to Hidey Hole",path:{section:"post",target:Vc(Yc(p.from(i.hidey_hole.location)))}}),e.push({name:"Return Items",ticks:1}))}else _s.requiresKey(i)&&!n.way_of_the_footshaped_key&&(e.push({name:"Path to Key",path:{section:"pre",target:Vc(i.solution.key.area)}}),e.push({name:`Get Key (${i.solution.key.instructions})`,ticks:2})),e.push({name:"To target",path:{section:"main",target:Vc(_s.ClueSpot.targetArea({clue:i,spot:t.method.for.spot}))}});this.sequence=e,await this.render()}async render(){this.sidepanel_widget.empty();const e=(new po).appendTo(this.sidepanel_widget);this.value,this.assumptions.value(),this.sequence.forEach((t=>{e.row(t.edit=new Xc(this,t))})),await this.propagateState()}end(){this.layer.remove()}async propagateState(){const e=await this.sequence.reduce((async(e,t)=>{let i=m.cloneDeep(await e);if(t.path){const e=Jc(this.value.method,t.path.section),n=await no.augment(e,i,t.path.target);t.edit.renderValue(n),i=m.cloneDeep(n.post_state)}return t.ticks&&(i.tick+=t.ticks),i}),Promise.resolve(Uc.start(this.assumptions.value())));this.value.method.expected_time=e.tick}requestActivation(e){e&&!e.section.path||(this.active.value()&&this.active.value().setActive(!1),this.active.set(e),this.active.value()&&this.active.value().setActive(!0))}}!function(e){let t;!function(e){e.header=function(e){return null!=e.ticks?`${e.name} (+${e.ticks} ticks)`:e.name}}(t=e.SequenceSegment||(e.SequenceSegment={}))}($c||($c={}));var eh=Ja.Method,th=_s.ClueSpot;class ih extends sl{constructor(e){super("Method Editor"),this.parent=e,this.save_row=(new ba).appendTo(this.body),this.parent.is_dirty.subscribe((()=>this.renderSaveRow())),this.meta_props=(new po).appendTo(this.body),this.renderMetaProps(),this.renderSaveRow()}renderMetaProps(){this.meta_props.empty();const e=this.meta_props;e.named("Pack",c().text(this.parent.method.pack?this.parent.method.pack.name:"None")),e.named("Name",c().text(this.parent.method.method.name)),e.named("Assumptions",c().append(...cl.icons(this.parent.method.method.assumptions))),e.header("Description"),e.row(c().text(this.parent.method.method.description?this.parent.method.method.description:"None").css("font-style","italic")),e.row(new ca("Edit Metainformation","rectangle").onClick((async()=>{const e=await new zl({clue:this.parent.method.clue,spot:this.parent.method.method.for.spot},eh.meta(this.parent.method.method)).do();(null==e?void 0:e.result)&&(eh.setMeta(this.parent.method.method,e.result),this.renderMetaProps(),this.parent.sub_editor.setAssumptions(e.result.assumptions),this.parent.registerChange())})))}renderSaveRow(){this.save_row.empty(),this.save_row.buttons(new ca("Save","rectangle").setEnabled(this.parent.is_dirty.value()).onClick((async()=>{if(this.parent.method.pack)await Zs.instance().updateMethod(this.parent.method),Gr.instance().app.notifications.notify({type:"information",duration:3e3},`Successfully saved in Pack '${this.parent.method.pack.name}'.`);else{const e=await(new qc).do();(null==e?void 0:e.pack)&&(await Zs.instance().updatePack(e.pack,(e=>e.methods.push(this.parent.method.method))),this.parent.method.pack=e.pack,Gr.instance().app.notifications.notify({type:"information",duration:3e3},`Successfully saved in Pack '${this.parent.method.pack.name}'.`),this.renderSaveRow())}this.parent.is_dirty.set(!1)})),new ca("Make and Edit Copy","rectangle").setEnabled(!!this.parent.method.pack).onClick((async()=>{this.parent.theorycrafter.editMethod({pack:null,clue:this.parent.method.clue,method:Ja.clone(this.parent.method.method)})})),new ca("Close","rectangle").onClick((async()=>{await this.parent.requestClosePermission()&&this.parent.stop()})))}}class nh extends eo{constructor(e,t){super(),this.theorycrafter=e,this.method=t,this.is_dirty=Ae(!1),t.pack&&Zs.instance().getMethod(t.pack.local_id,t.method.id)||this.is_dirty.set(!0)}registerChange(){this.is_dirty.set(!0)}begin(){this.sidebar=new ih(this).prependTo(Gr.instance().app.main_content).css("width","300px"),"scantree"==this.method.method.type?this.sub_editor=this.withSub(new Zc(this,Gr.instance().app,this.method,this.sidebar.body)):this.sub_editor=this.withSub(new $c(this,this.method)),this.sub_editor.setAssumptions(this.method.method.assumptions);const e=th.targetArea({clue:this.method.clue,spot:this.method.method.for.spot});e&&this.sub_editor.layer.getMap().fitView(ar.toRect(e))}end(){this.sidebar.remove()}async requestClosePermission(){return!this.is_dirty.value()||await new qa({title:"Unsaved changes",body:"There are unsaved changes that will be lost.",options:[{kind:"neutral",text:"Cancel",value:!1,is_cancel:!0},{kind:"cancel",text:"Confirm",value:!0}]}).do()}}class rh extends eo{constructor(e){super(),this.app=e,this.method_editor=this.withSub(new to),Zs.instance().saved.on((async()=>{await this.layer.filter_control.refreshFilterIndex()})).bindTo(this.handler_pool),this.method_editor.behaviour.subscribe(((e,t)=>{e&&!t?(this.sidebar.setVisible(!1),this.layer.remove()):!e&&t&&(this.sidebar.setVisible(!0),this.layer.addTo(this.app.map))})),this.method_editor.content_stopped.on((()=>{this.method_editor.set(null)}))}begin(){this.sidebar=new xl(this).prependTo(this.app.main_content),this.app.map.invalidateSize(),this.layer=new tc(this).addTo(this.app.map)}end(){this.sidebar.remove(),this.layer.remove()}async editMethod(e){let t={clue:e.clue,pack:e.pack,method:m.cloneDeep(e.method)};await(async()=>{let e=this.method_editor.get();return!e||await e.requestClosePermission()})()&&this.method_editor.set(new nh(this,t))}}var oh,sh=We.cleanedJSON;class ah extends uo{constructor(){super({preview_render:e=>{let t=s.featureGroup();for(let i of e)mr(i).setStyle({color:"blue",fillOpacity:.4,stroke:!1}).addTo(t);return t}}),this.tiles=[],this.attachTopControl(new lo({name:"Draw Tile Area"}).setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Shift + Mouse] add tiles")).append(c().text("[Alt + Mouse] remove tiles")).append((new ba).buttons(new ca("Commit").onClick((()=>{this.commit(this.tiles)})),new ca("Copy").onClick((()=>{this.tiles.length>0?(navigator.clipboard.writeText(sh(ar.fromTiles(this.tiles))),Qr().app.notifications.notify({},"Copied")):Qr().app.notifications.notify({type:"error"},"No tiles")})),new ca("Copy Array").onClick((()=>{this.tiles.length>0?(navigator.clipboard.writeText(sh(this.tiles)),Qr().app.notifications.notify({},"Copied")):Qr().app.notifications.notify({type:"error"},"No tiles")})),new ca("Reset").onClick((()=>{this.tiles=[],this.preview(this.tiles)}))))))}onAdd(e){return super.onAdd(e),e.dragging.disable(),this}onRemove(e){return super.onRemove(e),e.dragging.enable(),this}set(e,t){const i=this.tiles.findIndex((t=>d.eq2(t,e)));t!==i>=0&&(t?this.tiles.push(e):this.tiles.splice(i,1),this.preview(this.tiles))}toggle(e){const t=this.tiles.findIndex((t=>d.eq2(t,e))),i=t>=0;return i?this.tiles.splice(t,1):this.tiles.push(e),this.preview(this.tiles),!i}eventMouseDown(e){super.eventMouseDown(e),(e.original.shiftKey||e.original.altKey)&&e.onPost((()=>{this.getMap().dragging.disable(),this.drawing={additive:e.original.shiftKey},this.set(e.tile(),e.original.shiftKey)}))}eventMouseUp(e){this.drawing=null,this.getMap().dragging.enable()}eventHover(e){super.eventHover(e),this.drawing&&e.onPost((()=>{this.set(e.tile(),this.drawing.additive)}))}}!function(e){const t=[{topleft:{x:3904,y:4991},botright:{x:5951,y:4032}},{topleft:{x:64,y:5583},botright:{x:255,y:4992}},{topleft:{x:64,y:4863},botright:{x:639,y:4224}},{topleft:{x:64,y:3711},botright:{x:703,y:1920}},{topleft:{x:960,y:6847},botright:{x:1151,y:6720}},{topleft:{x:1856,y:5119},botright:{x:1983,y:5056}}];function i(e){return[0,1,2,3,4].map((t=>n(e,t))).filter((e=>null!=e)).map((e=>e))}function n(e,t=0){if(e[`actions_${t}`])return{cache_id:t,name:e[`actions_${t}`],cursor:Ur.fromCacheCursor(e[`action_cursors_${t}`])}}e.getInstances=function(e){return e?e.uses.filter((e=>!t.some((t=>h.contains(t,e.origin))))).map((t=>({loc_with_usages:e,prototype:e.location,loc_id:e.id,...t}))):[]},e.getActions=i,e.getNthAction=function(e,t){return i(e)[t]},e.getAction=n}(oh||(oh={}));var lh=xe.staticentity,ch=xe.vbox,hh=oh.getActions,uh=xe.inlineimg,dh=xe.hboxl;class ph extends po{constructor(e,t){var i,n,r,o,s,a,l;if(super(),this.instance=e,this.parsing_table=t,this.header(c().append(lh(this.instance.prototype.name),` (${this.instance.loc_id})`)),this.named("Usages",c().text(this.instance.loc_with_usages.uses.length)),this.named("Actions",ch(...hh(this.instance.prototype).map((e=>dh(uh(Ur.meta(e.cursor).icon_url).css("margin-right","5px"),e.name))))),this.named("Size",`${null!==(i=this.instance.prototype.width)&&void 0!==i?i:1} x ${null!==(n=this.instance.prototype.length)&&void 0!==n?n:1}`),this.named("Rotation",(null!==(r=this.instance.rotation)&&void 0!==r?r:0).toString()),this.named("Origin",`${e.origin.x} | ${e.origin.y} | ${e.origin.level}`),t){const e=this.parsing_table.getPairing(this.instance);this.header("Parser"),this.named("Group",null!==(s=null===(o=null==e?void 0:e.group)||void 0===o?void 0:o.name)&&void 0!==s?s:"-"),this.named("IGroup",null!==(l=null===(a=null==e?void 0:e.instance_group)||void 0===a?void 0:a.name)&&void 0!==l?l:"-")}}}var gh,mh=oh.getInstances,fh=xe.hbox;!function(e){var t=oh.getActions;e.normalize=function(e){return e.names||(e.names=[]),e.actions||(e.actions=[]),e},e.apply=function(e,i,n){return(null==e.object_id||i.id==e.object_id)&&(!(e.names&&e.names.length>0&&!e.names.some((e=>i.location.name.toLowerCase().includes(e.toLowerCase()))))&&(!(e.actions&&e.actions.length>0&&!t(i.location).some((t=>{var i;return null===(i=e.actions)||void 0===i?void 0:i.some((e=>t.name.toLowerCase().includes(e.toLowerCase())))})))&&(null==e.parser||e.parser==!!n.getGroupForLoc(i.id))))}}(gh||(gh={}));class yh extends Pr{constructor(){var t;super({type:"floating",position:"top-right"},c()),this.storage=new e.Variable("devutility/locfilter",(()=>({}))),this.go_to_first=we(),this.filter=Ae(null!==(t=this.storage.get())&&void 0!==t?t:{});const i=new po;i.named("Name",(new Oa).setValue(this.filter.value().names?this.filter.value().names.join(";"):"").onCommit((e=>{const t=e.split(";").map((e=>e.trim().toLowerCase())).filter((e=>e.length>0));this.filter.update((e=>e.names=t))}))),i.named("Action",(new Oa).setValue(this.filter.value().actions?this.filter.value().actions.join(";"):"").onCommit((e=>{const t=e.split(";").map((e=>e.trim().toLowerCase())).filter((e=>e.length>0));this.filter.update((e=>e.actions=t))}))),i.named("Loc ID",(new Oa).setValue(null!=this.filter.value().object_id?this.filter.value().object_id.toString():"").onCommit((e=>{const t=Number(e);this.filter.update((i=>i.object_id=!e||isNaN(t)?void 0:t))}))),i.header("Parser");const n=new To.Group([{value:!1,button:new To("No")},{value:!0,button:new To("Yes")}],!0).setValue(this.filter.value().parser).onChange((e=>{this.filter.update((t=>t.parser=e))}));i.row(fh(...n.checkboxes())),this.filter.subscribe((e=>{this.storage.set(e)})),i.named("Results",this.count_widget=c()),i.row(new ca("Go to entity").onClick((()=>this.go_to_first.trigger(null)))),this.content.append(i)}setCount(e){this.count_widget.text(`${e} instances match filter`)}}class vh extends De{constructor(e,t){super({highlightable:!0,interactive:!0}),this.instance=e,this.parsing_table=t,this.rendered_with_parser=void 0,this.zoom_sensitivity_layers=Le.none,this.floor_sensitivity_layers=Ie.single(e.origin.level)}async render_implementation(e){var t;const i=this.parsing_table&&!!this.parsing_table.getPairing(this.instance).group,n=yr(this.instance.box).setStyle({color:i?"green":"red",stroke:!0}).addTo(this);let r;const o=h.extend(this.instance.box,.5);switch(null!==(t=this.instance.rotation)&&void 0!==t?t:0){case 0:r=[h.bottomLeft(o),h.topLeft(o)];break;case 1:r=[h.topLeft(o),h.topRight(o)];break;case 2:r=[h.topRight(o),h.bottomRight(o)];break;case 3:r=[h.bottomRight(o),h.bottomLeft(o)]}return s.polyline(r.map(l.toLatLong),{color:"blue"}).addTo(this),this.rendered_with_parser=i,n.getElement()}bounds(){return this.instance.box}async renderTooltip(){return{content:new ph(this.instance,this.parsing_table),interactive:!1}}async contextMenu(e){var t;return{type:"submenu",text:null!==(t=this.instance.prototype.name)&&void 0!==t?t:"Entity",children:[]}}checkParserRedraw(){this.rendered_props.render_at_all&&(this.parsing_table&&!!this.parsing_table.getPairing(this.instance).group)!=this.rendered_with_parser&&this.render(!0)}}const _h={actions:["open","use","enter","climb","crawl","scale","pass","jump","leave","teleport","descend","step","walk","cross"]};class xh extends xr{constructor(e,t){super(),this.data=e,this.parsing_table=t,this.add(this.filter_control=new yh),this.init(),this.parsing_table.version.subscribe((()=>{this.entity_quadtree.forEachVisible((e=>{e instanceof vh&&e.checkParserRedraw()})),this.applyFilter()})),this.filter_control.filter.subscribe((()=>this.applyFilter())),this.filter_control.go_to_first.on((()=>{const e=m.maxBy(this.loc_entities,(e=>gh.apply(_h,e.loc,this.parsing_table)&&gh.apply(this.filter_control.filter.value(),e.loc,this.parsing_table)?e.instances.length:-1));e&&this.getMap().fitView(e.instances[0].instance.box)}))}applyFilter(){let e=0;console.log("Applying filter"),this.loc_entities.forEach((t=>{const i=gh.apply(_h,t.loc,this.parsing_table)&&gh.apply(this.filter_control.filter.value(),t.loc,this.parsing_table);i&&(e+=t.instances.length),t.instances.forEach((e=>e.setVisible(i)))})),this.filter_control.setCount(e)}init(){wr("Initializing loc_entities",(()=>{this.loc_entities=this.data.getAll().map((e=>({loc:e,instances:mh(e).map((e=>new vh(e,this.parsing_table)))})))})),this.applyFilter(),this.loc_entities.forEach((e=>e.instances.forEach((e=>e.addTo(this)))))}}var bh=oh.getAction,wh=oh.getNthAction;class kh{constructor(e){this.value=e}movement(...e){return this.value.movement.push(...e.map((e=>e.done()))),this}}class Ah{constructor(e,t){this.underlying=e,this.value=t,this.plane_offset=0}planeOffset(e){return this.plane_offset=e,this}finish(){let e=this.value,t=this.underlying;0!=t.rotation&&(e=Hr.transform(e,u.normalize(a.rotation((4-t.rotation)%4))));const i="entity"==e.type?p.bl(e.clickable_area):e.position;return e=Hr.transform(e,u.translation(l.sub(t.origin,i),t.plane+this.plane_offset)),"entity"==e.type&&(e.clickable_area=p.extend(e.clickable_area,.5)),this.value=e}}class Th extends Ah{constructor(e,t){super(e,t),this.underlying=e,this.value=t}action(e={},...t){var i,n,r,o,s;const a=null!=e.index?bh(this.underlying.prototype,e.index):wh(this.underlying.prototype,0),l=new kh({name:null!==(n=null!==(i=e.name)&&void 0!==i?i:null==a?void 0:a.name)&&void 0!==n?n:"Unnamed Action",cursor:null!==(o=null!==(r=e.cursor)&&void 0!==r?r:a.cursor)&&void 0!==o?o:"generic",interactive_area:null!==(s=e.interactive_area)&&void 0!==s?s:void 0,movement:[]});return l.movement(...t),this.value.actions.push(l.value),this}}!function(e){e.from=function(e){var t,i;const n={type:"entity",entity:{name:e.prototype.name,kind:"static"},clickable_area:p.from({x:0,y:0,level:0},{x:(null!==(t=e.prototype.width)&&void 0!==t?t:1)-1,y:(null!==(i=e.prototype.length)&&void 0!==i?i:1)-1,level:0}),actions:[]};return new Th(e,n)}}(Ah||(Ah={}));var Ch=oh.getInstances;class Sh{constructor(){this._name="Unnamed",this.instance_data_required=!1,this.locs=[]}requireInstanceData(){return this.instance_data_required=!0,this}gather(e){const t=this.locs.find((t=>t.for.includes(e.id))),i=Ch(e).flatMap((e=>{var i;try{const n=null===(i=null==t?void 0:t.instance_data.find((t=>d.eq2(t.instance,e.origin))))||void 0===i?void 0:i.data;if(this.instance_data_required&&null==n)return[];let r=this.apply(e,{per_loc:null==t?void 0:t.data,per_instance:n});return Array.isArray(r)||(r=[r]),r}catch(e){return console.error(`Parser ${this._name} failed!`),console.error(e),[]}}));return i.forEach((t=>t.source_loc=e.id)),i}loc(e=void 0){return(...t)=>(...i)=>(this.locs.push({for:t,data:e,instance_data:i.map((([e,t])=>({instance:e,data:t})))}),this)}name(e){return this._name=e,this}}class Eh{constructor(e,t){this.id=e,this.name=t}}!function(e){class t extends e{constructor(e){super(),this.f=e}map(e){const t=this.f;return this.f=(i,n,r)=>{t(i,n,r),e(i,n,r)},this}apply(e,t){var i;const n=this.instantiate(e,t);return this.f(n,t,e),n.finish(),null!=(null===(i=t.per_loc)||void 0===i?void 0:i.plane_offset)&&n.planeOffset(t.per_loc.plane_offset),[n.value]}}e.Simple=t,e.simple=function(e="Anonymous"){return(new class extends t{constructor(){super((()=>{}))}instantiate(e){return Th.from(e)}}).name(e)},e.door=function(e="Anonymous"){return(new class extends t{constructor(){super((()=>{}))}instantiate(e,t){var i;return new Ah(e,{type:"door",name:e.prototype.name,direction:null!==(i=t.per_loc.base_direction)&&void 0!==i?i:rr.west,position:{x:0,y:0,level:0}})}}).name(e)},e.ignore=function(t,...i){return(new class extends e{apply(e,t){return[]}}).loc()(...i)().name(t)}}(Sh||(Sh={}));class zh{constructor(e){this._default_value=e}default(e){this._default_value=e}getDefault(e){return zh.P.apply(this._default_value,e)}}!function(e){var t=We.copyUpdate2,i=oh.getNthAction,n=xe.hboxl,r=xe.inlineimg,o=oh.getActions;let s;function a(t=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER]){return new class extends e{constructor(){super((e=>Math.max(s.apply(t,e)[0],0)))}renderForm(i,n){const r=this;return new class extends e.Editor{constructor(){super(r)}render_implementation(e){const[i,r]=s.apply(t,n);this.control.append(new ja(i,r).onCommit((e=>this.commit(e))).setValue(e))}}}}}function l(t,i){return new class extends e{constructor(){super((e=>s.apply(i,e)[0]))}renderForm(n,r){const o=this;return new class extends e.Editor{render_implementation(e){this.control.append(new Pa({type_class:s.apply(t,r)},s.apply(i,r)).onSelection((e=>this.commit(e))).setValue(e))}constructor(){super(o)}}}}}!function(e){e.apply=function(e,t){return"function"==typeof e?e(t):e}}(s=e.P||(e.P={})),e.bool=function(){return new class extends e{constructor(){super((()=>!1))}renderForm(t){const i=this;return new class extends e.Editor{constructor(){super(i)}render_implementation(e){this.control.append((new To).onCommit((e=>this.commit(e))).setValue(e))}}}}},e.int=a,e.floor=function(){return a([0,3])},e.string=function(){return new class extends e{constructor(){super((()=>""))}renderForm(t){const i=this;return new class extends e.Editor{constructor(){super(i)}render_implementation(e){this.control.append((new Oa).onCommit((e=>this.commit(e))).setValue(e))}}}}},e.choose=l,e.dir=function(){return l({toHTML:e=>c().text(rr.toString(e))},(()=>rr.all))},e.rec=function(t){return new e.Rec(t)},e.element=function(e,t,i=!1){return{name:e,type:t,optional:i}},e.locAction=function(){return l((e=>({toHTML:t=>{const o=i(e.prototype,t.id);return o?n(r(Ur.meta(o.cursor).icon_url)," ",o.name):c().text("undefined")}})),(e=>o(e.prototype).map((e=>({id:e.cache_id})))))};class h{constructor(e){this.type=e,this.control=c(),this.additional=c(),this.value_changed=we()}render(){this.control.empty(),this.additional.empty(),this.render_implementation(this.value)}commit(e){this.value=e,this.value_changed.trigger(e)}get(){return this.value}set(e){return this.value=e,this.render(),this}onChange(e){return this.value_changed.on(e),this}}e.Editor=h;class u extends e{constructor(e){super((t=>Object.fromEntries(Object.entries(e).map((([e,i])=>[e,i.optional?void 0:i.type.getDefault(t)]))))),this.elements=e}renderForm(i,n){const r=this;return new class extends e.Editor{constructor(){super(r)}render_implementation(e){this.elements=Object.entries(r.elements).map((([r,o])=>new u.ElementWidget(o,o.optional?"check":"none",i+1,n).set(null==e?void 0:e[r]).onChange((e=>{this.commit(t(this.get(),(t=>t[r]=e)))})))),this.additional.append(...this.elements.map((e=>e.additional)))}}}}e.Rec=u,function(e){var t=xe.hbox;e.ElementWidget=class extends h{constructor(e,t,i,n){super(e.type),this.element=e,this.cb_type=t,this.depth=i,this.loc=n,this.sub=null}render_implementation(e){const i=c().css("min-width","100px").css("padding-left",5*this.depth+"px"),n=c().css("flex-grow","1"),r=c();switch(this.cb_type){case"check":this.checkbox=new To(this.element.name,"checkbox");break;case"radio":this.checkbox=new To(this.element.name,"radio")}this.checkbox?this.checkbox.setValue(void 0!==e).onCommit((e=>{const t=e?this.element.type.getDefault(this.loc):void 0;this.commit(t),this.render()})).appendTo(i):i.text(this.element.name),this.additional.append(t(i,n),r),this.sub=null,void 0!==e&&(this.sub=this.element.type.renderForm(this.depth+1,this.loc).onChange((e=>this.commit(e))).set(e),n.append(this.sub.control),r.append(this.sub.additional))}}}(u=e.Rec||(e.Rec={})),e.Either=class extends e{renderForm(e){}}}(zh||(zh={}));class Ph{constructor(e){this.value=e}time(e){return this.value.time=e,this}restrict(e){return this.value.valid_from=e,this}fixed(e,t=!1){return this.value.fixed_target=t?{target:e,relative:!0}:{target:e},this.value.offset=void 0,this}offset(e){return this.value.offset=e,this.value.fixed_target=void 0,this}orientation(e){return this.value.orientation=e,this.value.forced_orientation=void 0,this}forcedOrientation(e){return this.value.orientation="forced",this.value.forced_orientation={dir:e},this}done(){return this.value}}!function(e){function t(){return i({time:1})}function i(t){return new e(t)}e.init=t,e.move=i,e.offset=function(e){return t().offset(e)},e.fixed=function(e){return t().fixed(e)}}(Ph||(Ph={}));var Mh=zh,Lh=zh.rec,Ih=Ph.offset;function Oh(e,t,i,n,r){return new class extends Eh{constructor(){super(e,t),this.per_loc_group_parameter=i,this.per_instance_parameter=n}apply(e,t){return r(e,t)}}}function Dh(e,t){0!=t.rotation&&(e=Hr.transform(e,u.normalize(a.rotation((4-t.rotation)%4))));const i="entity"==e.type?p.bl(e.clickable_area):e.position;return"entity"==(e=Hr.transform(e,u.translation(l.sub(t.origin,i),t.plane-i.level))).type&&(e.clickable_area=p.extend(e.clickable_area,.5)),e}const Rh=[Oh("west-facing-doors","Standard West Doors",null,null,(async e=>{var t;return[Dh({type:"door",position:e.origin,direction:rr.west,name:null!==(t=e.prototype.name)&&void 0!==t?t:"Door"},e)]})),Oh("ignore","Ignore",null,null,(async e=>[])),Oh("ladders","Ladders",Mh.rec({across:Mh.element("Across",Mh.bool()),single_side:Mh.element("Side",Mh.dir(),!0),up:Mh.element("Up",Mh.locAction(),!0),down:Mh.element("Down",Mh.locAction(),!0),top:Mh.element("Top/Bottom",Mh.rec({action:Mh.element("Action",Mh.locAction()),level:Mh.element("Floor",Mh.floor())}),!0)}),null,(async(e,{per_loc:t})=>{const i=Ah.from(e),n=t.single_side&&t.across?l.scale(-2,rr.toVector(t.single_side)):{x:0,y:0},r=t.single_side?ar.init({...rr.toVector(t.single_side),level:0}):void 0;return null!=t.up&&i.action({index:t.up.id,interactive_area:r},Ih({...n,level:1}).orientation("toentitybefore").time(3)),null!=t.down&&i.action({index:t.down.id,interactive_area:r},Ih({...n,level:-1}).orientation("toentitybefore").time(3)),null!=t.top&&i.action({index:t.top.action.id,interactive_area:r},Ih({...n,level:t.top.level-e.box.level}).orientation("toentitybefore").time(3)),[i.finish()]})),Oh("prototypecopyloc","Prototype",Lh({name:Mh.element("Name",Mh.string(),!0)}),null,(async e=>[]))];var Bh,jh,Nh;!function(e){e.getById=function(e){return Rh.find((t=>t.id==e))}}(Bh||(Bh={}));class Fh{constructor(e){this.data=e,this.version=Ae(e.version),this.loc_index=new Array(1e6),this.data.associations.forEach((e=>{e.loc_ids.forEach((t=>{this.loc_index[t]=e}))}))}setPairing(e,t){return(()=>{var i,n;let r=this.loc_index[e.loc_id];if(r&&r.group_id!=(null===(i=t.group)||void 0===i?void 0:i.id)&&(r.loc_ids.splice(r.loc_ids.indexOf(e.loc_id),1),r.loc_ids.length<0&&this.data.associations.splice(this.data.associations.indexOf(r),1),this.loc_index[e.loc_id]=r=void 0),!t.group)return;if(!r){const i=this.data.associations.find((e=>e.group_id==t.group.id));i?(i.loc_ids.push(e.loc_id),r=i):this.data.associations.push(r={group_id:this.data.version,loc_ids:[e.loc_id],per_group_arg:void 0,group_name:"",instance_groups:[],parser_id:""})}t.group.id=r.group_id,this.loc_index[e.loc_id]=r,r.parser_id=t.group.parser.id,r.per_group_arg=t.group.argument,r.group_name=t.group.name;let o=r.instance_groups.find((t=>t.instances.some((t=>t.loc==e.loc_id&&d.eq(t.origin,e.origin)))));if(o&&o.id!=(null===(n=t.instance_group)||void 0===n?void 0:n.id)){const t=o.instances.findIndex((t=>t.loc==e.loc_id&&d.eq(t.origin,e.origin)));o.instances.splice(t,1),r.instance_groups=r.instance_groups.filter((e=>e.instances.length>0)),o=void 0}if(t.instance_group){if(!o){const i=r.instance_groups.find((e=>e.id==t.instance_group.id));i?(i.instances.push({loc:e.loc_id,origin:e.origin}),o=i):r.instance_groups.push(o={id:this.data.version,name:"",instances:[{loc:e.loc_id,origin:e.origin}],per_instance_argument:void 0})}t.instance_group.id=o.id,o.per_instance_argument=t.instance_group.argument,o.name=t.instance_group.name}})(),this.bumpVersion(),t}reset(){this.data.version=-1,this.data.associations=[],this.bumpVersion()}getGroupForLoc(e){return this.loc_index[e]}getGroup(e){return this.data.associations.find((t=>t.group_id==e))}getGroup2(e,t){const i=this.data.associations.find((i=>i.parser_id==e.id&&(t<0||i.group_id==t)));return i?{parser:e,id:i.group_id,name:i.group_name,argument:i.per_group_arg}:{parser:e,id:-1,name:"",argument:void 0}}getPairing(e){var t;const i=this.loc_index[e.loc_id];if(!i)return{group:null,instance_group:null};const n=null===(t=null==i?void 0:i.instance_groups)||void 0===t?void 0:t.find((t=>t.instances.some((t=>t.loc==e.loc_id&&d.eq(t.origin,e.origin)))));return{group:i?{parser:Rh.find((e=>e.id==i.parser_id)),id:i.group_id,name:i.group_name,argument:i.per_group_arg}:null,instance_group:n?{id:n.id,name:n.name,argument:n.per_instance_argument}:null}}bumpVersion(){this.data.version+=1,this.version.set(this.data.version)}}!function(e){e.applyParsing=async function(e,t,i){var n,r;let o=[];for(const e of i.data.associations){const i=Rh.find((t=>t.id==e.parser_id));if(!i)return void console.error(`Parser ${e.parser_id} is not defined!`);for(const s of e.loc_ids){const a=t.get(s);0==a.length&&console.error(`Zero instances returned for loc ${s}!`);for(const t of a){const a=i.per_instance_parameter?null===(r=null===(n=e.instance_groups)||void 0===n?void 0:n.find((e=>e.instances.some((e=>e.loc==s&&d.eq(e.origin,t.origin))))))||void 0===r?void 0:r.per_instance_argument:void 0;try{const n=await i.apply(t,{per_loc:e.per_group_arg,per_instance:a});o.push(...n)}catch(t){console.error(`Parser ${e.parser_id} has thrown an exception!`),console.log(t)}}}}return o}}(jh||(jh={})),function(e){class t{constructor(e){this.data=e,this.lookup_table=new Array(Math.max(...Object.values(e).map((e=>e.id)))+1),Object.values(e).forEach((e=>{this.lookup_table[e.id]=e})),this.all=this.lookup_table.filter((e=>!!e))}static async fromURL(e){const i=await br("Fetching data",(async()=>await(await fetch("map/raw_loc_data.json")).json()));return await br("Preparing data",(()=>new t(i)))}getById(e){return this.lookup_table[e]}get(e){return oh.getInstances(this.getById(e))}getAll(){return this.all}}e.LocDataFile=t}(Nh||(Nh={}));class Zh extends qs{constructor(e,t){super(e,t[0]),this.options=e,this.prepared_items=t.map((e=>({item:e,term:Fl.prepare(this.options.search_term(e))}))),this.setItems([])}onOpen(){let e=c("<input type='text' class='nisl-selectdropdown-input' tabindex='-1'>").appendTo(this.input_container.empty()).tapRaw((t=>t.val("").on("input",(()=>{let t=e.container.val(),i=Fl.go(t,this.prepared_items,{key:"term",all:!0,threshold:-1e4});this.setItems(Array.from(i).map((e=>e.obj.item)))}))));return this.setItems([this.selection.value()]),e}}var qh=xe.img;class Uh extends ge{constructor(e,t,i){var n;super(),this.loc=e,this.parsing_table=t,this.pairing=i,i||(this.pairing={group:null,instance_group:null}),this.map=(new Nr).css("width","100%").css("height","200px").appendTo(this).map,setTimeout((()=>{this.map.invalidateSize(!0),this.map.fitView(p.extend(this.loc.box,3),{maxZoom:20})}),0),this.layer=(new xr).addTo(this.map),new vh(this.loc,null).addTo(this.layer),s.marker(l.toLatLong(p.center(this.loc.box,!1)),{icon:s.divIcon({iconSize:[33,33],iconAnchor:[16,16],className:"",html:qh("./assets/icons/alignedcompass.png").css("rotate",90*(null!==(n=this.loc.rotation)&&void 0!==n?n:0)+"deg").css("scale","0.9").raw()})}).addTo(this.layer),this.properties=new po,this.renderProps()}renderProps(){this.properties.empty();const e=this.properties;if(e.header(new To("Pair with LOC-group").setValue(!!this.pairing.group).onCommit((e=>{e?this.pairing.group={id:-1,name:"",parser:Bh.getById("ignore"),argument:void 0}:(this.pairing.group=void 0,this.pairing.instance_group=void 0),this.renderProps()}))),this.pairing.group&&(e.named("Group",new Zh({type_class:{toHTML:e=>e?c().text(e.group_name):c().text("Create new group")},search_term:e=>e?e.group_name:"Create new group"},[]).setItems((()=>[null].concat(this.parsing_table.data.associations))).setValue(this.parsing_table.getGroup(this.pairing.group.id)).onSelection((e=>{e?(this.pairing.group.id=e.group_id,this.pairing.group.name=e.group_name,this.pairing.group.parser=Bh.getById(e.parser_id),this.pairing.group.argument=e.per_group_arg):(this.pairing.group.id=-1,this.pairing.group.name="",this.pairing.group.parser=Bh.getById("ignore"),this.pairing.group.argument=void 0),this.renderProps()}))),e.named("Parser",new Pa({type_class:{toHTML:e=>c().text(e?e.name:"None")}},Rh).setValue(this.pairing.group.parser).onSelection((e=>{this.pairing.group.parser=e,this.pairing.group.argument=void 0,e.per_loc_group_parameter&&(this.pairing.group.argument=e.per_loc_group_parameter.getDefault(this.loc)),this.renderProps()}))),e.named("Name",(new Oa).setValue(this.pairing.group.name).onCommit((e=>{this.pairing.group.name=e}))),this.pairing.group.parser.per_loc_group_parameter&&e.header("Loc "),this.pairing.group.parser.per_loc_group_parameter)){e.header("Group Parameter");const t=this.pairing.group.parser.per_loc_group_parameter.renderForm(0,this.loc).set(this.pairing.group.argument).onChange((e=>this.pairing.group.argument=e));e.row(t.control),e.row(t.additional)}e.appendTo(this)}get(){return this.pairing}}class Vh extends ka{constructor(e,t,i){super({size:"medium"}),this.loc=e,this.parsing_table=t,this.existing_pairing=i,this.title.set("Edit Parser Pairing")}render(){super.render(),this.edit=new Uh(this.loc,this.parsing_table,this.existing_pairing).appendTo(this.body)}getButtons(){return[new Aa("Cancel","neutral").onClick((()=>this.confirm({type:"cancelled"}))),new Aa("Save","confirm").onClick((()=>this.confirm({type:"saved",pairing:this.edit.get()})))]}getValueForCancel(){return{type:"cancelled",pairing:this.edit.get()}}}var Hh=We.cleanedJSON,Wh=Nh.LocDataFile,Kh=We.download;class Gh{constructor(t){this.table=t,this.last_used_groups=new e.Variable("devutility/locparsing/recentgroups",(()=>[]))}use(e){this.last_used_groups.set([e].concat(this.last_used_groups.get().filter((t=>t!=e))).slice(0,5))}get(){return this.last_used_groups.get().map((e=>this.table.getGroup(e))).filter((e=>!!e&&e.group_name.length>0))}}class Qh extends xr{constructor(){super(),this.local_store=zs.instance().variable("devutility/locparsing/parserassociations"),new Pr({type:"gapless",position:"bottom-center"},c()).setContent((new ba).buttons(new ca("Export").onClick((()=>{Kh("parsingtable.json",Hh(this.parsing_table.data))})),new ca("Delete local table").onClick((async()=>{await new qa({body:"Do you really want to delete local parsing associations?",options:[{value:!0,kind:"neutral",text:"Cancel"},{value:!0,kind:"cancel",text:"Delete"}]}).do()&&this.parsing_table.reset()})),new ca("Apply parsers").onClick((async()=>{const e=await jh.applyParsing(Rh,this.data_file,this.parsing_table);new Va(Hh(e)).show()})))).addTo(this),this.init()}async init(){var e,t,i;let n=await this.local_store.get(),r=await(await fetch("map/parsing_associations.json")).json().catch((()=>{}));this.repo_version_number=null!==(e=null==r?void 0:r.version)&&void 0!==e?e:-1;let o={version:0,associations:[]};(null!==(t=null==n?void 0:n.version)&&void 0!==t?t:-1)>o.version&&(o=n),(null!==(i=null==r?void 0:r.version)&&void 0!==i?i:-1)>o.version&&(o=r),this.parsing_table=new Fh(o),this.recents=new Gh(this.parsing_table),this.parsing_table.version.subscribe((async()=>{await this.local_store.set(this.parsing_table.data)})),this.data_file=await Wh.fromURL("map/raw_loc_data.json"),this.loc_layer=new xh(this.data_file,this.parsing_table).addTo(this)}commitPairing(e,t){const i=this.parsing_table.setPairing(e,t);i.group&&""!=i.group.name&&this.recents.use(i.group.id)}eventContextMenu(e){e.onPre((()=>{if(e.active_entity instanceof vh){const t=e.active_entity.instance,i=this.parsing_table.getPairing(t),n=this.recents.get();e.addForEntity({type:"basic",text:"Edit pairing",handler:async()=>{let e=await new Vh(t,this.parsing_table,i).do();"saved"==e.type&&this.commitPairing(t,e.pairing)}}),this.parsing_table.getPairing(t).group?e.addForEntity({type:"basic",text:"Remove pairing",handler:()=>this.commitPairing(t,{group:null,instance_group:null})}):n.forEach((i=>{e.addForEntity({type:"basic",text:`Pair with '${i.group_name}'`,handler:async()=>{const e={group:{parser:Bh.getById(i.parser_id),id:i.group_id,name:i.group_name,argument:i.per_group_arg},instance_group:void 0};if(e.group.parser.per_instance_parameter){let i=await new Vh(t,this.parsing_table,e).do();"saved"==i.type&&this.commitPairing(t,i.pairing)}else this.commitPairing(t,e)}})}))}}))}}var Yh,Jh=xe.vbox,Xh=xe.hbox,$h=xe.spacer,eu=We.cleanedJSON;class tu extends f{constructor(){super({intervals:[{min_zoom:-1/0,interval:64}],lineStyle:{stroke:!0,weight:2,color:"white",fill:!1}})}onRemove(e){return super.onRemove(e),this.clearLayers(),this}constructLines(e,t){super.constructLines(e,t);let i={x:Math.max(0,Math.floor(e.getWest()/t)),y:Math.max(0,Math.floor(e.getSouth()/t))},n=Math.min(99,Math.ceil(e.getEast()/t)),r=Math.min(199,Math.ceil(e.getNorth()/t));for(let e=i.x;e<=n;e++)for(let t=i.y;t<=r;t++)s.marker([64*t+31.5,64*e+31.5],{icon:s.divIcon({iconSize:[100,40],html:`${e}|${t}`,className:"ctr-map-utility-chunk-index"})}).addTo(this)}}class iu extends Pr{constructor(){super({type:"gapless",position:"top-left"},c().css("padding","2px"))}eventHover(e){e.onPre((()=>{this.content.text(d.toString(e.tile()))}))}}class nu extends Pr{constructor(t){super({type:"floating",position:"top-right"},c()),this.layers=t,this.view_storage=new e.Variable("devutility/activelayers",(()=>[])),this.view_storage.get(),this.data=new Array(t.length),this.data=t.map(((e,t)=>({persistence_id:e.persistence_id,layer:null,checkbox:new To(e.name).onCommit((i=>{var n;const r=this.data[t];if(null===(n=r.layer)||void 0===n||n.remove(),r.layer=null,e.persistence_id)if(i){let t=this.view_storage.get();t.includes(e.persistence_id)||t.push(e.persistence_id),this.view_storage.set(t)}else this.view_storage.set(this.view_storage.get().filter((t=>t!=e.persistence_id)));i&&(r.layer=e.constructor().addTo(this))}))}))),this.setContent(Jh(...this.data.map((e=>e.checkbox))))}loadPersistence(){const e=this.view_storage.get();return this.data.forEach((t=>{t.persistence_id&&t.checkbox.setValue(e.includes(t.persistence_id))})),this}}class ru extends xr{constructor(e){super(),this.guard=e;let t=new ao("Utility");t.body.append(Jh(new Zo([new Zo.ActionBarButton("assets/icons/cursor_generic.png",(()=>{this.startSelectTile()})),new Zo.ActionBarButton("assets/icons/cursor_use.png",(()=>{this.startSelectArea()})),new Zo.ActionBarButton("assets/icons/cursor_talk.png",(()=>{this.guard.set(new Mc("")).onCommit((e=>{this.setLayer(vr(e.area)),this.setValue({range:e.area})}))})),new Zo.ActionBarButton("assets/icons/cursor_pray.png",(()=>{this.guard.set(new ah).onCommit((e=>{this.setValue(ar.fromTiles(e))}))}))]),Xh(this.output=c().css2({"max-width":"250px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}),$h(),new ca("Copy").onClick((()=>{this.value&&(navigator.clipboard.writeText(this.value),Qr().app.notifications.notify({type:"information"},"Copied"))}))),Xh(this.chunk_in=(new Oa).onCommit((e=>{if(!e)return;let t=this.chunk_in.get().split(new RegExp("[^0-9]")).map((e=>e.trim())).filter((e=>e.length>0)).map((e=>Number(e)));t.length>=2&&this.getMap().fitView(p.lift(h.from({x:64*t[0],y:64*t[1]},{x:64*t[0]+63,y:64*t[1]+63}),0)),this.chunk_in.setValue("")})),$h(),new ca("Chunk").onClick((e=>{if(!e)return;let t=this.chunk_in.get().split(new RegExp("[^0-9]")).map((e=>e.trim())).filter((e=>e.length>0)).map((e=>Number(e)));t.length>=2&&this.getMap().fitView(p.lift(h.from({x:64*t[0],y:64*t[1]},{x:64*t[0]+63,y:64*t[1]+63}),0)),this.chunk_in.setValue("")}))),Xh(this.coords_in=(new Oa).onCommit((e=>{if(!e)return;let t=this.coords_in.get().split(new RegExp("[^0-9]")).map((e=>e.trim())).filter((e=>e.length>0)).map((e=>Number(e)));t.length>=2&&this.getMap().fitView(p.lift(h.from({x:t[0],y:t[1]}),0)),this.coords_in.setValue("")})),$h(),new ca("Coords").onClick((e=>{if(!e)return;let t=this.coords_in.get().split(new RegExp("[^0-9]")).map((e=>e.trim())).filter((e=>e.length>0)).map((e=>Number(e)));t.length>=2&&this.getMap().fitView(p.lift(h.from({x:t[0],y:t[1]}),0)),this.coords_in.setValue("")}))))),this.add(new Pr({type:"gapless",position:"bottom-center"},t))}startSelectTile(){let e=new jo;e.add(new lo({name:"Select tile",cancel_handler:()=>e.cancel()}).setText("Click a tile")),this.guard.set(e.onCommit((e=>{this.setLayer(mr(e)),this.setValue(e)})))}startSelectArea(){this.guard.set(new Mc("")).onCommit((e=>{this.setLayer(vr(e.area)),this.setValue(e.area)}))}eventKeyDown(e){e.onPost((()=>{"t"==e.original.key.toLowerCase()?this.startSelectTile():"a"==e.original.key.toLowerCase()&&this.startSelectArea()}))}setLayer(e){this.preview&&(this.preview.remove(),this.preview=null),this.preview=e.addTo(this)}setValue(e){this.value=eu(e),this.value&&navigator.clipboard.writeText(this.value),this.output.text(this.value)}}class ou extends xr{constructor(){super(),this.view_storage=new e.Variable("devutility/viewstore",(()=>{})),this.add(new iu),this.guard=(new co).setDefaultLayer(this),new nu([{persistence_id:"chunks",name:"Chunks",constructor:()=>new tu},{persistence_id:"geometry",name:"Geometry",constructor:()=>new ru(this.guard)},{persistence_id:"locparsing",name:"Loc Parsing",constructor:()=>new Qh}]).addTo(this).loadPersistence()}onAdd(e){super.onAdd(e);const t=this.view_storage.get();return(null==t?void 0:t.center)&&this.map.setView(t.center,t.zoom),this}eventViewChanged(e){super.eventViewChanged(e),e.onPre((()=>{this.view_storage.set({center:this.map.getCenter(),zoom:this.map.getZoom()})}))}}class su extends eo{constructor(e){super(),this.app=e,this.layer=null}begin(){this.layer=new ou,this.app.map.addGameLayer(this.layer)}end(){this.layer.remove(),this.layer.clearLayers()}}class au{constructor(e,t,i={}){this.default_options=i,this.index=e.map((e=>({value:e,prepared:Fl.prepare(t(e))})))}do(e,t={}){return Fl.go(e,this.index,{...this.default_options,...t,key:"prepared"}).map((e=>({...e,obj:e.obj.value})))}search(e,t={}){return this.do(e,t).map((e=>e.obj))}setDefaultOptions(e){return this.default_options=e,this}items(){return this.index.map((e=>e.value))}}class lu{constructor(){this.bounds=null,this.level=null}addTile(...e){for(let t of e)t&&(this.bounds?this.bounds=h.extendTo(this.bounds,t):this.bounds={topleft:t,botright:t},"level"in t&&(null==this.level?this.level=t.level:this.level=Math.min(this.level,t.level)))}addRectangle(e){e&&(this.addTile(e.topleft),this.addTile(e.botright),"level"in e&&(null==this.level?this.level=e.level:this.level=Math.min(this.level,e.level)))}addArea(e){e&&this.addRectangle(ar.toRect(e))}get(){return{topleft:this.bounds.topleft,botright:this.bounds.botright,level:this.level||0}}}class cu extends Xo{constructor(e){super(1,.2),this.spot=e,this.setOpacity(1)}withMarker(e=null,t=1){return this.marker&&this.marker.remove(),this.marker=s.marker([this.spot.y,this.spot.x],{icon:null!=e?e:Br(this.spot.level,t),opacity:this.options.opacity,interactive:!0,bubblingMouseEvents:!0}).addTo(this),this}withLabel(e,t,i){return this.label&&this.removeLabel(),this.label=s.tooltip({content:e,className:t,offset:i,permanent:!0,direction:"center",opacity:this.options.opacity}),this.bindTooltip(this.label),this}removeLabel(){this.label&&(this.label.remove(),this.label=null)}withX(e){return this.x_marks_the_spot&&this.x_marks_the_spot.remove(),this.x_marks_the_spot=s.polyline([[[this.spot.y+.5,this.spot.x-.5],[this.spot.y-.5,this.spot.x+.5]],[[this.spot.y-.5,this.spot.x-.5],[this.spot.y+.5,this.spot.x+.5]]],{color:e,fillColor:e,interactive:!1,opacity:this.options.opacity}).addTo(this),this}getSpot(){return this.spot}}!function(e){e.interactionMarker=function(e,t,i=!1,n=!0){let r=s.icon({iconUrl:Ur.meta(t).icon_url,iconSize:[28,31],iconAnchor:n?[14,16]:[3,0],className:i?"ctr-inactive-overlay-marker":void 0});return s.marker(l.toLatLong(e),{icon:r,interactive:!0})}}(Yh||(Yh={}));var hu=hc.render_digspot,uu=Ga.Pulse.simplify_with_context;class du extends ge{constructor(e,t){super();this.addClass("ctr-neosolving-pulseicon");let{type:i,text:n}=t?uu(e,t):{type:e.pulse,text:e.different_level?"DL":null};null!=i&&c("<img>").setAttribute("src",["assets/icons/pulse_single.png","assets/icons/pulse_double.png","assets/icons/pulse_triple.png"][e.pulse-1]).appendTo(this),null!=n&&c().addClass("tele-icon-code-overlay").text(n).appendTo(this)}}class pu extends ca{constructor(e){switch(super("",(e.type,"round")),this.addClass("ctr-neosolving-pulsebutton"),this.css("position","relative"),e.type){case"pulse":this.append(new du(e.value,e.context));break;case"spot":this.setHTML(hu(e.value))}}static forPulse(e,t){return new pu({type:"pulse",value:e,context:t})}static forSpot(e){return new pu({type:"spot",value:e})}}var gu,mu=i(6411);!function(e){let t=null;e.getAnchorImages=async function(){return t||(t={slide:await mu.l3.imageDataFromUrl("alt1anchors/slide.png"),slidelegacy:await mu.l3.imageDataFromUrl("alt1anchors/slidelegacy.png"),legacyx:await mu.l3.imageDataFromUrl("alt1anchors/legacyx.png"),eocx:await mu.l3.imageDataFromUrl("alt1anchors/eocx.png"),scanleveltext:await mu.l3.imageDataFromUrl("alt1anchors/differentlevel.png"),scanfartext:await mu.l3.imageDataFromUrl("alt1anchors/youaretofaraway.png"),scanfartext_pt:await mu.l3.imageDataFromUrl("alt1anchors/youaretofaraway_pt.png"),compassnorth:await mu.l3.imageDataFromUrl("alt1anchors/compassnorth.png")}),t}}(gu||(gu={}));var fu=i(4512),yu={printcharscores:!1,trackread:!1},vu={};function _u(e,t,i,n,r,o,s){var a=Math.min(50,s/(1-s)),l=e+(e-n)*a,c=t+(t-r)*a,h=i+(i-o)*a;return Math.max(0,-l,-c,-h,l-255,c-255,h-255)}function xu(e,t,i,n,r,o,s){if(n<0)return null;if(r-t.basey<0)return null;if(n+o+t.width>e.width)return null;if(r+s-t.basey+t.height>e.height)return null;for(var a=1e3,l=null,c=n;c<n+o;c++)for(var h=r;h<r+s;h++){var u=Cu(e,t,i,c,h,!1,!1);null!=u&&u.sizescore<a&&(a=u.sizescore,l=u)}return l}function bu(e,t,i,n,r,o=-1,s=-1){-1==o&&(o=t.width+t.spacewidth,n-=Math.ceil(o/2)),-1==s&&(s=7,r-=1);var a=null;if(i.length>1)for(var l=wu(e,new mu.UL(n,r-t.basey,o,s),i),c=0;c<2&&c<l.length&&null==a;c++)a=xu(e,t,l[c].col,n,r,o,s);else a=xu(e,t,i[0],n,r,o,s);return null==a?{debugArea:{x:n,y:r,w:o,h:s},text:"",fragments:[]}:Au(e,t,i,a.x,a.y,!0,!0)}function wu(e,t,i){var n=i.map((e=>({col:e,score:0})));if(t.x<0||t.y<0||t.x+t.width>e.width||t.y+t.height>e.height)return n;var r=e.data;for(var o of n){for(var s=0,a=o.col,l=t.y;l<t.y+t.height;l++)for(var c=t.x;c<t.x+t.width;c++){var h=4*c+4*l*e.width,u=Math.abs(r[h]-a[0])+Math.abs(r[h+1]-a[1])+Math.abs(r[h+2]-a[2]);u<50&&(s+=50-u)}o.score=s}return n.sort(((e,t)=>t.score-e.score))}function ku(e,t,i,n,r,o){var s=Math.sqrt(e*e+t*t+i*i),a=Math.sqrt(n*n+r*r+o*o),l=(e*n+t*r+i*o)/a,c=Math.sqrt(Math.max(0,s*s-l*l)),h=Math.max(0,4*(63.75-c)),u=l/a*255;return u>255&&(h=Math.max(0,h-u+255),u=255),[h,u]}function Au(e,t,i,n,r,o,s=!1){"number"!=typeof i[0]&&1==i.length&&(i=i[0]);var a="number"!=typeof i[0],l=a?i:[i],c=function(i,n,r){var o=Math.floor(1.5*t.width);return r&&(i-=o),n-=t.basey,function(e,t,i){var n=-1,r=null,o=0,s=e.data;for(let d of i){for(var a=0,l=t.y;l<t.y+t.height;l++)for(var c=t.x;c<t.x+t.width;c++){if(c<0||c+1>=e.width)continue;if(l<0||l+1>=e.width)continue;let t=e.pixelOffset(c,l),i=e.pixelOffset(c+1,l+1);var h=ku(s[t+0],s[t+1],s[t+2],d[0],d[1],d[2]),u=ku(s[i+0],s[i+1],s[i+2],d[0],d[1],d[2]);a+=h[0]/255*h[1]/255*(u[0]/255*(255-u[1])/255)}a>n?(o=n,n=a,r=d):a>o&&(o=a)}return r}(e,{x:i,y:n,width:o,height:t.height},l)},h=[],u=n,d=n,p="number"==typeof t.maxspaces?t.maxspaces:1;let g="",m=!1;var f=null;let y=e=>{if(!g)return;let t={text:g,color:f,index:0,xstart:n+(e?x:b),xend:n+(e?b:x)};e?h.push(t):h.unshift(t),g="",x=_,m=!1};for(var v of[!0,!1])if((!v||o)&&(v||s)){for(var _=0,x=_,b=_,w=0,k=!1,A=a?null:i;;){var T=(A=A||c(n+_,r,!v))?Cu(e,t,A,n+_,r,!v,!0):null;if(null==A||null==T){if(w<p){_+=(v?1:-1)*t.spacewidth,w++;continue}if(a&&!k&&m){_-=(v?1:-1)*w*t.spacewidth,w=0,A=null,k=!0;continue}v?d=n+_-t.spacewidth:u=n+_+t.spacewidth;break}!f||A[0]==f[0]&&A[1]==f[1]&&A[2]==f[2]||y(v);for(var C="",S=0;S<w;S++)C+=" ";v?g+=C+T.chr:g=T.chr+C+g,T.basechar.secondary||(m=!0),w=0,k=!1,_+=(v?1:-1)*T.basechar.width,b=_,f=A}f&&m&&y(v)}return h.forEach(((e,t)=>e.index=t)),{debugArea:{x:u,y:r-9,w:d-u,h:10},text:h.map((e=>e.text)).join(""),fragments:h}}function Tu(e,t,i,n,r,o=-1,s=-1){-1==o&&(o=t.width+t.spacewidth,n-=Math.ceil(o/2)),-1==s&&(s=7,r-=1);for(var a=null,l=1==i.length?[{col:i[0],score:1}]:wu(e,new mu.UL(n,r-t.basey,o,s),i),c=0;c<2&&c<l.length&&null==a;c++)for(var h=n+o-1;h>=n;h--){for(var u=1e3,d=null,p=r;p<r+s;p++){var g=Cu(e,t,l[c].col,h,p,!0,!1);null!=g&&g.sizescore<u&&(u=g.sizescore,d=g)}if(d){a=d;break}}return null==a?{text:"",debugArea:{x:n,y:r,w:o,h:s}}:Au(e,t,i,a.x,a.y,!1,!0)}function Cu(e,t,i,n,r,o,s){r-=t.basey;var a=t.basey,l=t.shadow,c=null,h=null;if(yu.trackread){var u=n+";"+r+" "+JSON.stringify(i);vu[u]||(vu[u]=[]),c=vu[u]}if(r<0||r+t.height>=e.height)return null;if(o){if(n-t.width<0||n>e.width)return null}else if(n<0||n+t.width>e.width)return null;for(var d=[],p=0;p<t.chars.length;p++){var g=t.chars[p];if(!g.secondary||s){d[p]={score:0,sizescore:0,chr:g};var m=o?n-g.width:n;yu.trackread&&(h=new mu.RT(t.width,t.height));for(var f=0;f<g.pixels.length;){var y=4*(m+g.pixels[f])+(r+g.pixels[f+1])*e.width*4,v=0;if(l){var _=g.pixels[f+3]/255;v=_u(e.data[y],e.data[y+1],e.data[y+2],i[0]*_,i[1]*_,i[2]*_,g.pixels[f+2]/255),f+=4}else v=_u(e.data[y],e.data[y+1],e.data[y+2],i[0],i[1],i[2],g.pixels[f+2]/255),f+=3;d[p].score+=Math.max(0,v),h&&h.setPixel(g.pixels[f],g.pixels[f+1],[v,v,v,255])}d[p].sizescore=d[p].score-g.bonus,c&&c.push({chr:g.chr,score:d[p].sizescore,rawscore:d[p].score,img:h})}}d.sort(((e,t)=>e.sizescore-t.sizescore)),yu.printcharscores&&d.slice(0,5).forEach((e=>console.log(e.chr.chr,e.score.toFixed(3),e.sizescore.toFixed(3))));var x=d[0];return!x||x.score>400?null:{chr:x.chr.chr,basechar:x.chr,x:n+0,y:r+a,score:x.score,sizescore:x.sizescore}}var Su=i(1427);let Eu=(0,fu.webpackImages)({exitbutton:i(1123),exitbutton_leg:i(5190),topleft:i(7924),topleft_leg:i(5615),botleft:i(3738),botleft_leg:i(3720)});var zu,Pu;function Mu(e,t,i,n,r,o){return Math.abs(e-n)+Math.abs(t-r)+Math.abs(i-o)}!function(e){function t(e,t){let i=e.findSubimage(Eu.topleft,e.x,t.y-5,t.x,Eu.topleft.height).sort(((e,t)=>e.x-t.x))[0];if(!i)return null;let n=e.findSubimage(Eu.botleft,i.x,t.y,Eu.botleft.width,e.y+e.height-t.y).sort(((e,t)=>e.y-t.y))[0];if(!n)return null;let r=e.toData(i.x,t.y,250,20),o=Tu(r,Su,[[255,203,5]],0,13,r.width,1);return{rect:new mu.UL(i.x+4,t.y+24,t.x+21-(i.x+4),n.y+8-(t.y+24)),legacy:!1,title:o?o.text.toLowerCase():"",img:e}}function i(e,t){let i=e.findSubimage(Eu.topleft_leg,e.x,t.y-9,t.x,Eu.topleft_leg.height).sort(((e,t)=>e.x-t.x))[0];if(!i)return null;let n=e.findSubimage(Eu.botleft_leg,i.x-2,t.y,Eu.botleft_leg.width,e.y+e.height-t.y).sort(((e,t)=>e.y-t.y))[0];if(!n)return null;let r=e.toData(Math.round(i.x+t.x-250)/2,t.y-4,250,20),o=Tu(r,Su,[[255,152,31]],0,13,r.width,1);return{rect:new mu.UL(i.x+4,t.y+20,t.x+20-(i.x+4),n.y-(t.y+20)),legacy:!0,title:o?o.text.toLowerCase():"",img:e}}e.find=function(e){e||(e=(0,mu.Hp)());let n=e.findSubimage(Eu.exitbutton),r=e.findSubimage(Eu.exitbutton_leg);return[...n.map((i=>t(e,i))),...r.map((t=>i(e,t)))].filter((e=>e))},e.detectEoc=t,e.detectLegacy=i}(zu||(zu={})),i(816).lW,function(e){function t(e,t){return t?e.ownerDocument.getElementById(t):document.getElementById(e)}function i(e){for("string"==typeof e&&(e=document.getElementById(e));e.firstChild;)e.removeChild(e.firstChild)}function n(...e){var t,i,n="",r=null,o="",s="",a=null,l=0;if("string"==typeof arguments[l]){var c=arguments[l++].split(":");n=c[0];var h=c[1]?c[1].split("/"):[];o=h[0],s=h[1]}if(t={},"object"!=typeof arguments[l]||Array.isArray(arguments[l])||arguments[l]instanceof DocumentFragment||(t=arguments[l++]),"object"==typeof arguments[l]&&Array.isArray(arguments[l])?r=arguments[l++]:"object"==typeof arguments[l]&&arguments[l]instanceof DocumentFragment&&(a=arguments[l++]),n&&(t.class=n),"input"==(o=t&&t.tag||o||"div")&&s&&(t.type=s),i="frag"==o?document.createDocumentFragment():t&&t.namespace?document.createElementNS(t.namespace,o):document.createElement(o),t)for(var u in t)!1!==t[u]&&null!=t[u]&&"tag"!=u&&"namespace"!=u&&("on"==u.substr(0,2)?i[u]=t[u]:i instanceof Element&&i.setAttribute(u,t[u]||""));if(null!=r&&null!=r)for(var u in Array.isArray(r)||(r=[r]),r)null!=r[u]&&("object"!=typeof r[u]?i.appendChild(document.createTextNode(r[u].toString())):i.appendChild(r[u]));else null!=a&&i.appendChild(a);return i}e.toggleclass=function(e,i,n){return"string"==typeof e&&(e=t(e)),null==n&&(n=!e.classList.contains(i)),n?e.classList.add(i):e.classList.remove(i),n},e.id=t,e.cl=function(e){return document.getElementsByClassName(e)},e.clear=i,e.select=function(e,t){var i=document.createDocumentFragment(),r=function(e,r){i.appendChild(n({tag:"option",value:e,selected:t==e?"":null},[r]))};if(Array.isArray(e))for(var o=0;o<e.length;o++)r(o,e[o]);else for(let t in e)r(t,e[t]);return i},e.div=n,e.frag=function(...e){for(var t=document.createDocumentFragment(),i=0;i<arguments.length;i++)null!=arguments[i]&&("object"!=typeof arguments[i]?t.appendChild(document.createTextNode(arguments[i].toString())):t.appendChild(arguments[i]));return t},e.put=function(e,n){if("string"==typeof e){var r=t(e);if(!r)return;e=r}i(e),e.appendChild(n)},e.elmap=function(...e){var t={};for(let i of e)t[i]=null;return t}}(Pu||(Pu={}));const Lu={chars:[{width:4,bonus:40,chr:"!",pixels:[1,0,238,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,9,238],secondary:!0},{width:4,bonus:10,chr:"'",pixels:[2,0,221,2,1,187],secondary:!0},{width:4,bonus:20,chr:",",pixels:[1,9,187,1,10,170,2,8,255,2,9,153],secondary:!0},{width:6,bonus:20,chr:"-",pixels:[1,6,255,2,6,255,3,6,255,4,6,170],secondary:!0},{width:4,bonus:5,chr:".",pixels:[1,9,255],secondary:!0},{width:9,bonus:110,chr:"0",pixels:[1,2,187,1,3,238,1,4,255,1,5,255,1,6,238,1,7,187,2,1,255,2,8,255,3,0,238,3,9,238,4,0,255,4,9,255,5,0,238,5,9,238,6,1,255,6,8,255,7,2,187,7,3,238,7,4,255,7,5,255,7,6,238,7,7,187],secondary:!1},{width:7,bonus:80,chr:"1",pixels:[1,2,204,1,9,255,2,1,238,2,9,255,3,0,255,3,1,255,3,2,255,3,3,255,3,4,255,3,5,255,3,6,255,3,7,255,3,8,255,3,9,255,4,9,255,5,9,255],secondary:!1},{width:8,bonus:110,chr:"2",pixels:[2,1,255,2,7,204,2,8,255,2,9,255,3,0,204,3,6,221,3,7,170,3,9,255,4,0,255,4,5,204,4,6,170,4,9,255,5,0,221,5,1,153,5,4,187,5,5,204,5,9,255,6,1,221,6,2,255,6,3,255,6,4,170,6,9,255],secondary:!1},{width:8,bonus:120,chr:"3",pixels:[1,8,170,2,0,255,2,8,187,2,9,170,3,0,255,3,4,255,3,9,255,4,0,255,4,2,170,4,3,221,4,4,238,4,9,255,5,0,255,5,1,238,5,2,187,5,4,170,5,5,187,5,8,187,5,9,170,6,0,255,6,5,187,6,6,255,6,7,255,6,8,187],secondary:!1},{width:9,bonus:115,chr:"4",pixels:[1,5,187,1,6,255,2,4,221,2,5,153,2,6,255,3,3,238,3,6,255,4,2,238,4,6,255,5,0,170,5,1,255,5,6,255,6,0,255,6,1,255,6,2,255,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,7,6,255],secondary:!1},{width:8,bonus:120,chr:"5",pixels:[1,8,153,2,0,255,2,1,255,2,2,255,2,3,221,2,4,255,2,8,153,2,9,187,3,0,255,3,4,255,3,9,255,4,0,255,4,4,255,4,9,255,5,0,255,5,4,187,5,5,187,5,8,187,5,9,170,6,0,170,6,5,187,6,6,255,6,7,255,6,8,187],secondary:!1},{width:9,bonus:150,chr:"6",pixels:[1,3,187,1,4,238,1,5,255,1,6,255,1,7,187,2,1,153,2,2,255,2,3,170,2,4,204,2,5,204,2,7,170,2,8,255,3,1,238,3,4,238,3,9,221,4,0,238,4,4,255,4,9,255,5,0,255,5,4,255,5,9,255,6,0,255,6,4,170,6,5,204,6,8,221,6,9,153,7,5,170,7,6,255,7,7,255,7,8,153],secondary:!1},{width:9,bonus:95,chr:"7",pixels:[1,0,255,2,0,255,2,7,153,2,8,255,2,9,204,3,0,255,3,5,153,3,6,255,3,7,187,4,0,255,4,3,153,4,4,255,4,5,187,5,0,255,5,1,187,5,2,255,5,3,187,6,0,255,6,1,170],secondary:!1},{width:9,bonus:170,chr:"8",pixels:[1,1,204,1,2,255,1,3,204,1,5,153,1,6,255,1,7,255,1,8,153,2,0,187,2,1,187,2,3,187,2,4,255,2,5,204,2,8,221,2,9,153,3,0,255,3,4,255,3,9,255,4,0,255,4,4,170,4,9,255,5,0,204,5,1,153,5,4,204,5,5,204,5,9,238,6,1,238,6,2,255,6,3,255,6,4,170,6,5,255,6,8,221,7,6,238,7,7,255,7,8,153],secondary:!1},{width:9,bonus:140,chr:"9",pixels:[1,2,238,1,3,255,1,4,238,2,1,238,2,5,238,2,9,255,3,0,255,3,6,238,3,9,255,4,0,255,4,6,255,4,9,238,5,0,204,5,1,153,5,6,204,5,8,204,5,9,153,6,1,238,6,2,187,6,5,238,6,6,187,6,7,221,6,8,204,7,2,153,7,3,221,7,4,255,7,5,255,7,6,221],secondary:!1},{width:3,bonus:10,chr:":",pixels:[1,2,255,1,8,255],secondary:!0},{width:6,bonus:55,chr:"?",pixels:[1,0,204,2,0,255,2,5,187,2,6,255,2,9,255,3,0,238,3,4,238,3,5,153,4,1,238,4,2,255,4,3,255],secondary:!0},{width:10,bonus:140,chr:"A",pixels:[1,8,153,1,9,238,2,6,221,2,7,255,2,8,204,3,3,204,3,4,255,3,5,204,3,6,255,4,0,187,4,1,255,4,2,204,4,6,255,5,0,238,5,1,255,5,2,187,5,6,255,6,2,153,6,3,238,6,4,255,6,5,187,6,6,255,7,5,153,7,6,255,7,7,255,7,8,170,8,8,187,8,9,255],secondary:!1},{width:9,bonus:160,chr:"B",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,5,255,2,9,255,3,0,255,3,5,255,3,9,255,4,0,255,4,5,255,4,9,255,5,0,221,5,1,153,5,4,170,5,5,255,5,8,153,5,9,204,6,1,238,6,2,255,6,3,255,6,4,204,6,6,238,6,7,255,6,8,238],secondary:!1},{width:10,bonus:105,chr:"C",pixels:[1,2,153,1,3,255,1,4,255,1,5,255,1,6,238,2,1,204,2,2,204,2,7,204,2,8,204,3,1,187,3,8,204,4,0,221,4,9,221,5,0,255,5,9,255,6,0,238,6,9,238,7,0,187,7,9,187,8,1,221,8,8,255],secondary:!1},{width:10,bonus:160,chr:"D",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,9,255,3,0,255,3,9,255,4,0,255,4,9,255,5,0,238,5,9,238,6,0,153,6,1,204,6,8,204,6,9,153,7,1,221,7,2,204,7,7,204,7,8,221,8,2,170,8,3,255,8,4,255,8,5,255,8,6,255,8,7,170],secondary:!1},{width:8,bonus:105,chr:"E",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,5,255,2,9,255,3,0,255,3,5,255,3,9,255,4,0,255,4,5,255,4,9,255,5,0,255,5,9,255],secondary:!1},{width:7,bonus:85,chr:"F",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,5,255,3,0,255,3,5,255,4,0,255,4,5,255,5,0,255],secondary:!1},{width:10,bonus:145,chr:"G",pixels:[1,2,153,1,3,255,1,4,255,1,5,255,1,6,255,1,7,153,2,1,204,2,2,187,2,7,204,2,8,221,3,0,153,3,1,187,3,8,187,3,9,170,4,0,255,4,9,255,5,0,255,5,9,255,6,0,238,6,5,170,6,9,204,7,1,204,7,5,255,7,8,238,8,5,255,8,6,255,8,7,255,8,8,255,8,9,255],secondary:!1},{width:9,bonus:125,chr:"H",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,5,255,3,5,255,4,5,255,5,5,255,6,5,255,7,0,255,7,1,255,7,2,255,7,3,255,7,4,255,7,5,255,7,6,255,7,7,255,7,8,255,7,9,255],secondary:!1},{width:5,bonus:70,chr:"I",pixels:[1,0,255,1,9,255,2,0,255,2,1,255,2,2,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,3,0,255,3,9,255],secondary:!1},{width:8,bonus:100,chr:"J",pixels:[1,7,255,1,8,187,2,8,187,2,9,187,3,0,221,3,9,255,4,0,255,4,9,255,5,0,255,5,8,187,5,9,187,6,0,255,6,1,255,6,2,255,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,187],secondary:!1},{width:9,bonus:120,chr:"K",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,5,255,3,5,255,4,3,187,4,4,255,4,5,170,4,6,255,5,1,187,5,2,255,5,7,221,5,8,204,6,0,255,6,1,153,6,8,153,6,9,255],secondary:!1},{width:8,bonus:75,chr:"L",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,9,255,3,9,255,4,9,255,5,9,255,6,9,170],secondary:!1},{width:11,bonus:180,chr:"M",pixels:[1,2,170,1,3,170,1,4,204,1,5,221,1,6,238,1,7,255,1,8,255,1,9,255,2,0,255,2,1,255,2,2,255,2,3,170,3,2,204,3,3,255,3,4,170,4,4,153,4,5,255,4,6,221,5,6,221,5,7,255,6,4,187,6,5,255,6,6,187,7,2,221,7,3,238,8,0,255,8,1,255,8,2,255,8,3,187,8,4,153,9,4,170,9,5,187,9,6,204,9,7,221,9,8,238,9,9,255],secondary:!1},{width:10,bonus:145,chr:"N",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,1,238,2,2,221,3,2,170,3,3,255,4,4,221,4,5,204,5,6,255,6,7,204,6,8,221,7,0,255,7,1,255,7,2,255,7,3,255,7,4,255,7,5,255,7,6,255,7,7,255,7,8,255,7,9,255],secondary:!1},{width:11,bonus:130,chr:"O",pixels:[1,3,255,1,4,255,1,5,255,1,6,238,2,1,204,2,2,204,2,7,204,2,8,204,3,1,187,3,8,187,4,0,221,4,9,221,5,0,255,5,9,255,6,0,221,6,9,221,7,1,204,7,8,221,8,1,187,8,2,221,8,7,221,8,8,170,9,3,221,9,4,255,9,5,255,9,6,204],secondary:!1},{width:9,bonus:125,chr:"P",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,6,255,3,0,255,3,6,255,4,0,255,4,6,255,5,0,187,5,1,187,5,5,187,5,6,187,6,1,187,6,2,255,6,3,255,6,4,255,6,5,187],secondary:!1},{width:11,bonus:140,chr:"Q",pixels:[1,3,255,1,4,255,1,5,255,1,6,238,2,1,204,2,2,204,2,7,204,2,8,204,3,1,187,3,8,187,4,0,238,4,9,238,5,0,255,5,9,255,6,0,221,6,9,221,7,1,204,7,7,238,7,8,221,8,1,187,8,2,221,8,7,238,8,8,255,9,3,221,9,4,255,9,5,255,9,6,204,9,9,187],secondary:!1},{width:9,bonus:140,chr:"R",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,5,255,3,0,255,3,5,255,4,0,255,4,5,255,5,0,204,5,1,153,5,4,153,5,5,221,5,6,238,5,7,238,6,1,221,6,2,255,6,3,255,6,4,221,6,8,238,6,9,221],secondary:!1},{width:7,bonus:95,chr:"S",pixels:[1,1,221,1,2,255,1,3,255,1,8,238,2,0,204,2,1,153,2,4,255,2,9,238,3,0,255,3,4,187,3,5,153,3,9,255,4,0,238,4,5,255,4,9,221,5,1,170,5,6,255,5,7,255,5,8,238],secondary:!1},{width:10,bonus:80,chr:"T",pixels:[1,0,255,2,0,255,3,0,255,4,0,255,4,1,255,4,2,255,4,3,255,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,5,0,255,6,0,255,7,0,255],secondary:!1},{width:10,bonus:110,chr:"U",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,238,2,8,238,3,9,204,4,9,255,5,9,255,6,9,204,7,8,238,8,0,255,8,1,255,8,2,255,8,3,255,8,4,255,8,5,255,8,6,255,8,7,221],secondary:!1},{width:10,bonus:110,chr:"V",pixels:[1,0,238,1,1,153,2,1,187,2,2,255,2,3,221,3,4,187,3,5,255,3,6,204,4,7,204,4,8,255,4,9,204,5,7,204,5,8,255,5,9,204,6,4,187,6,5,255,6,6,204,7,1,187,7,2,255,7,3,221,8,0,238,8,1,153],secondary:!1},{width:13,bonus:195,chr:"W",pixels:[1,0,255,1,1,187,2,2,187,2,3,255,2,4,255,2,5,204,3,6,170,3,7,221,3,8,255,3,9,221,4,6,170,4,7,238,4,8,255,4,9,187,5,2,187,5,3,255,5,4,255,5,5,187,6,0,255,6,1,255,6,2,255,7,2,170,7,3,238,7,4,255,7,5,204,8,6,153,8,7,221,8,8,255,8,9,204,9,6,187,9,7,255,9,8,255,9,9,204,10,2,204,10,3,255,10,4,255,10,5,187,11,0,255,11,1,187],secondary:!1},{width:9,bonus:125,chr:"X",pixels:[1,0,221,1,9,255,2,0,153,2,1,255,2,2,187,2,7,238,2,8,221,3,2,170,3,3,255,3,4,153,3,5,204,3,6,238,4,3,187,4,4,255,4,5,255,5,2,238,5,3,221,5,6,255,5,7,170,6,0,221,6,1,238,6,7,187,6,8,255,7,0,153,7,9,221],secondary:!1},{width:9,bonus:80,chr:"Y",pixels:[1,0,238,2,1,238,2,2,204,3,3,255,3,4,187,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,5,3,238,5,4,204,6,1,221,6,2,238,7,0,255],secondary:!1},{width:9,bonus:115,chr:"Z",pixels:[1,9,170,2,0,255,2,7,153,2,8,255,2,9,255,3,0,255,3,6,238,3,7,221,3,9,255,4,0,255,4,4,187,4,5,255,4,9,255,5,0,255,5,3,255,5,4,187,5,9,255,6,0,255,6,1,204,6,2,221,6,9,255,7,0,255,7,9,255],secondary:!1},{width:8,bonus:110,chr:"a",pixels:[1,7,221,1,8,255,2,3,187,2,6,170,2,7,153,2,9,221,3,3,255,3,6,221,3,9,255,4,3,255,4,6,255,4,9,238,5,3,204,5,4,170,5,6,255,5,8,204,6,4,204,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255],secondary:!1},{width:8,bonus:135,chr:"b",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,3,153,2,4,221,2,8,221,2,9,153,3,3,238,3,9,238,4,3,255,4,9,255,5,3,187,5,4,187,5,8,187,5,9,170,6,4,187,6,5,255,6,6,255,6,7,255,6,8,170],secondary:!1},{width:8,bonus:60,chr:"c",pixels:[1,5,255,1,6,255,1,7,255,2,4,221,2,8,221,3,3,238,3,9,238,4,3,255,4,9,255,5,3,221,5,9,221,6,8,204],secondary:!1},{width:8,bonus:135,chr:"d",pixels:[1,4,170,1,5,255,1,6,255,1,7,255,1,8,187,2,3,170,2,4,187,2,8,187,2,9,170,3,3,255,3,9,255,4,3,238,4,9,238,5,3,153,5,4,221,5,8,221,5,9,153,6,0,255,6,1,255,6,2,255,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255],secondary:!1},{width:8,bonus:100,chr:"e",pixels:[1,5,255,1,6,255,1,7,255,1,8,153,2,4,204,2,6,255,2,8,204,3,3,255,3,6,255,3,9,238,4,3,255,4,6,255,4,9,255,5,3,170,5,4,187,5,6,255,5,9,221,6,4,153,6,5,238,6,6,255],secondary:!1},{width:6,bonus:70,chr:"f",pixels:[1,3,221,2,1,221,2,2,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,3,0,221,3,3,255,4,0,255,4,3,221],secondary:!1},{width:8,bonus:135,chr:"g",pixels:[1,4,187,1,5,255,1,6,255,1,7,255,1,8,187,2,3,204,2,4,170,2,8,170,2,9,221,2,12,238,3,3,255,3,9,255,3,12,255,4,3,187,4,4,153,4,9,204,4,11,170,4,12,187,5,3,255,5,4,255,5,5,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,5,11,204],secondary:!1},{width:9,bonus:100,chr:"h",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,4,238,3,3,204,4,3,255,5,3,238,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255],secondary:!1},{width:4,bonus:40,chr:"i",pixels:[1,0,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255],secondary:!1},{width:5,bonus:60,chr:"j",pixels:[0,12,221,1,12,238,2,0,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255],secondary:!1},{width:7,bonus:100,chr:"k",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,6,255,3,5,187,3,6,255,3,7,170,4,4,255,4,5,170,4,7,187,4,8,221,5,3,255,5,9,255],secondary:!1},{width:5,bonus:50,chr:"l",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,2,9,255],secondary:!1},{width:12,bonus:130,chr:"m",pixels:[1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,4,238,3,3,204,4,3,255,5,3,221,6,4,238,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,7,4,204,8,3,255,9,3,255,10,4,255,10,5,255,10,6,255,10,7,255,10,8,255,10,9,255],secondary:!1},{width:8,bonus:85,chr:"n",pixels:[1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,4,238,3,3,204,4,3,255,5,3,238,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255],secondary:!1},{width:9,bonus:80,chr:"o",pixels:[1,5,255,1,6,255,1,7,255,2,4,221,2,8,221,3,3,221,3,9,221,4,3,255,4,9,255,5,3,221,5,9,221,6,4,238,6,8,238,7,5,221,7,6,255,7,7,221],secondary:!1},{width:8,bonus:130,chr:"p",pixels:[1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,2,3,153,2,4,204,2,8,221,2,9,153,3,3,238,3,9,238,4,3,255,4,9,255,5,3,187,5,4,187,5,8,187,5,9,170,6,4,187,6,5,255,6,6,255,6,7,255,6,8,170],secondary:!1},{width:8,bonus:130,chr:"q",pixels:[1,4,170,1,5,255,1,6,255,1,7,255,1,8,187,2,3,170,2,4,187,2,8,187,2,9,187,3,3,255,3,9,255,4,3,238,4,9,238,5,3,153,5,4,204,5,8,221,5,9,153,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255,6,11,255],secondary:!1},{width:6,bonus:45,chr:"r",pixels:[1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,4,238,3,3,238],secondary:!1},{width:6,bonus:65,chr:"s",pixels:[1,4,255,1,5,255,1,8,153,1,9,170,2,3,255,2,6,221,2,9,255,3,3,255,3,6,238,3,9,255,4,3,153,4,7,255,4,8,255],secondary:!1},{width:5,bonus:65,chr:"t",pixels:[0,3,255,1,1,238,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,221,2,3,255,2,9,221,3,3,221,3,9,255],secondary:!1},{width:9,bonus:85,chr:"u",pixels:[1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,238,2,9,221,3,9,255,4,9,221,5,8,221,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255],secondary:!1},{width:8,bonus:75,chr:"v",pixels:[1,3,238,2,4,187,2,5,255,2,6,204,3,7,221,3,8,255,3,9,170,4,7,153,4,8,255,4,9,238,5,5,221,5,6,255,5,7,170,6,3,255,6,4,204],secondary:!1},{width:12,bonus:135,chr:"w",pixels:[1,3,238,1,4,153,2,4,170,2,5,255,2,6,238,2,7,153,3,7,153,3,8,255,3,9,255,4,7,204,4,8,255,4,9,170,5,4,187,5,5,255,5,6,187,6,4,255,6,5,221,7,6,187,7,7,255,7,8,187,8,8,255,8,9,255,9,5,187,9,6,255,9,7,221,10,3,255,10,4,204],secondary:!1},{width:8,bonus:90,chr:"x",pixels:[1,3,153,1,9,221,2,3,204,2,4,238,2,8,255,2,9,153,3,5,238,3,6,238,3,7,221,4,5,238,4,6,238,4,7,221,5,3,204,5,4,238,5,8,255,5,9,153,6,3,153,6,9,221],secondary:!1},{width:9,bonus:100,chr:"y",pixels:[1,3,238,1,12,204,2,4,221,2,5,255,2,6,170,2,12,255,3,6,153,3,7,238,3,8,238,3,11,238,3,12,153,4,8,255,4,9,255,4,10,187,5,5,170,5,6,255,5,7,221,6,3,238,6,4,255,6,5,170],secondary:!1},{width:8,bonus:95,chr:"z",pixels:[1,3,255,1,9,255,2,3,255,2,7,187,2,8,255,2,9,255,3,3,255,3,6,221,3,7,187,3,9,255,4,3,255,4,5,238,4,6,153,4,9,255,5,3,255,5,4,255,5,9,255,6,3,238,6,9,255],secondary:!1}],width:13,spacewidth:3,shadow:!1,height:13,basey:9};function Iu(e,t,i,n,r){var o,s,a,l,c,h;for(a=0,l=0,c=0,o=t;o<t+n;o++)for(s=i;s<i+r;s++)h=4*e.width*s+4*o,a+=e.data[h],l+=e.data[h+1],c+=e.data[h+2];return[a/=n*r,l/=n*r,c/=n*r]}function Ou(e,t,i,n,r){var o,s,a,l,c;for(c=4*e.width,a=0,o=t;o<t+n;o++)for(s=i;s<i+r;s++)l=c*s+4*o,a+=Math.abs(e.data[l]-e.data[l+4]),a+=Math.abs(e.data[l]-e.data[l+c]),a+=Math.abs(e.data[l+1]-e.data[l+1+4]),a+=Math.abs(e.data[l+1]-e.data[l+1+c]),a+=Math.abs(e.data[l+2]-e.data[l+2+4]),a+=Math.abs(e.data[l+2]-e.data[l+2+c]);return a}function Du(e,t){let i=0,n=Math.abs(e[0]-t[0]);i+=Math.max(0,5*(n>128?255-n:n)-100),i+=Math.max(0,5*Math.abs(e[1]-t[1])-100);for(let r=3;r<e.length;r+=5){let o=0;n=Math.abs(e[r]-t[r]),o+=(n>128?255-n:n)*Math.max(e[r],t[r])/255,o+=Math.abs(e[r+1]-t[r+1]),o+=100*Math.max(0,e[r+3]-t[r+4]),o+=100*Math.max(0,t[r+3]-e[r+4]),i+=o}return i}function Ru(e,t,i){var n,r,o,s,a,l;return"object"==typeof e&&(i=e[2],t=e[1],e=e[0]),e/=256,t/=256,i/=256,a=o=(n=Math.max(e,t,i))-(r=Math.min(e,t,i)),l=.5*(n+r),s=0,0!=o&&(n==e&&(s=(6+(t-i)/o)%6),n==t&&(s=(i-e)/o+2),n==i&&(s=(e-t)/o+4)),[Math.round(s/6*255),Math.round(255*a),Math.round(255*l)]}function Bu(e,t){return(e%t+t)%t}mu.l3.webpackImages({northimg:i(3491)});let ju=[{dx:-5,dz:0,raw:.0454},{dx:-5,dz:1,raw:.2037},{dx:-5,dz:2,raw:.359},{dx:-5,dz:3,raw:.5237},{dx:-5,dz:4,raw:.6809},{dx:-5,dz:5,raw:.8382},{dx:-4,dz:5,raw:.9919},{dx:-3,dz:5,raw:1.1473},{dx:-2,dz:5,raw:1.3094},{dx:-1,dz:5,raw:1.4671},{dx:0,dz:5,raw:1.6218},{dx:1,dz:5,raw:1.7809},{dx:2,dz:5,raw:1.9308},{dx:3,dz:5,raw:2.0947},{dx:4,dz:5,raw:2.2519},{dx:5,dz:5,raw:2.4098},{dx:5,dz:4,raw:2.5633},{dx:5,dz:3,raw:2.7193},{dx:5,dz:2,raw:2.8785},{dx:5,dz:1,raw:-3.243},{dx:5,dz:0,raw:-3.0895},{dx:5,dz:-1,raw:-2.9294},{dx:5,dz:-2,raw:-2.7802},{dx:5,dz:-3,raw:-2.6201},{dx:5,dz:-4,raw:-2.4627},{dx:5,dz:-5,raw:-2.3011},{dx:4,dz:-5,raw:-2.147},{dx:3,dz:-5,raw:-1.992},{dx:2,dz:-6,raw:-1.7791},{dx:1,dz:-5,raw:-1.6773},{dx:0,dz:-5,raw:-1.5167},{dx:-1,dz:-5,raw:-1.3567},{dx:-2,dz:-5,raw:-1.207},{dx:-3,dz:-5,raw:-1.0464},{dx:-4,dz:-5,raw:-.8892},{dx:-5,dz:-5,raw:-.7311},{dx:-5,dz:-4,raw:-.577},{dx:-5,dz:-3,raw:-.4213},{dx:-5,dz:-2,raw:-.2666},{dx:-5,dz:-1,raw:-.1103}];function Nu(e){for(var t=0,i=20;i<120;i++){var n=4*i+163*e.width*4;Mu(e.data[n],e.data[n+1],e.data[n+2],52,31,5)<50&&t++}return t>5}var Fu=We.stringSimilarity;class Zu{constructor(){this.init()}async init(){this.anchors=await gu.getAnchorImages()}async read(e){const t=await(async()=>{const t=[{type:"modal",anchors:[{img:this.anchors.legacyx,origin_offset:{x:484,y:21}},{img:this.anchors.eocx,origin_offset:{x:483,y:17}}]},{type:"scan",anchors:[{img:this.anchors.scanfartext,origin_offset:{x:0,y:43}},{img:this.anchors.scanfartext_pt,origin_offset:{x:0,y:43}},{img:this.anchors.scanleveltext,origin_offset:{x:0,y:65}}]},{type:"slider",anchors:[{img:this.anchors.slide,origin_offset:{x:484,y:19}},{img:this.anchors.slidelegacy,origin_offset:{x:484,y:19}}]},{type:"compass",anchors:[{img:this.anchors.compassnorth,origin_offset:{x:56,y:19}}]}];for(let i of t)for(let t of i.anchors){let n=e.findSubimage(t.img);if(n.length>0)return{type:i.type,pos:n[0],origin_offset:t.origin_offset}}})();if(t)switch(t.type){case"modal":let i=zu.detectEoc(e,t.pos);const n=(()=>{const e=[{type:"textclue",possible_titles:["mysterious clue scroll","treasure map","pergaminho de dicas mister","mapa do tesouro","..:se hinweis-schriftp",""]},{type:"towers",possible_titles:["towers","torres",", ( rme"]},{type:"lockbox",possible_titles:["lockbox","gica","schlie. .;fach"]},{type:"knot",possible_titles:["celtic knot","..: celta","keltischer knoten"]}];let t=null,n=Number.MAX_VALUE;for(let r of e)for(let e of r.possible_titles){const o=Fu(i.title,e);o<n&&(n=o,t=r.type)}return t})();if(n&&"textclue"===n){const e=Zu.readTextClueModalText(i);if(e.length>0){let t=null,i=Number.MAX_VALUE;for(let n of Ds.all)for(let r=0;r<n.text.length;r++){const o=Fu(n.text[r],e);o<i&&(i=o,t={step:n,text_index:r})}return{step:t}}{const e=Zu.getImageClueImage(i);let t=null,n=Number.MAX_VALUE;for(let i of Ds.map){const r=Du(i.ocr_data,e);r<n&&(n=r,t=i)}return{step:{step:t,text_index:0}}}}break;case"scan":{const i=Zu.readScanPanelText(e,l.sub(t.pos,t.origin_offset)).split("\n")[0];let n=Number.MAX_VALUE,r=null;for(let e of Ds.scan){let t=Fu(i,e.scantext);t<n&&(r=e,n=t)}return{step:{step:r,text_index:0}}}case"compass":return Zu.readCompassState(e,l.add(t.pos,{x:-53,y:54})).isArc?{step:{step:Ds.arc_compass,text_index:0}}:{step:{step:Ds.gielinor_compass,text_index:0}}}}async readScreen(){return this.read(mu.Hp())}}!function(e){e.readTextClueModalText=function(e){let t=e.img.toData(e.rect.x,e.rect.y,496,293),i=[],n=0;for(let e=60;e<290;e++){let r=0,o=null;for(let i=220;i<320;i++){let n=4*i+4*t.width*e;Mu(t.data[n],t.data[n+1],t.data[n+2],84,72,56)<80&&r++}if(r>=3)0==n&&(n=e);else if(0!=n&&(o=Math.abs(n-e),n=0,o>=6&&o<=18)){let n=bu(t,Lu,[[84,72,56]],255,e-4)||bu(t,Lu,[[84,72,56]],265,e-4);n&&i.push(n.text)}}return i.join(" ")},e.getImageClueImage=function(e){return function(e,t,i,n,r,o,s){let a=Ru(Iu(e,90,25,300,240)),l=[a[0],a[1],a[2]];for(let n=0;(n+1)*t<=300;n++){let r=90+n*t;for(let o=0;(o+1)*i<=240;o++){let s=25+o*i,c=5*n+o*Math.floor(15)*5+3,h=Ru(Iu(e,r,s,t,i));l[c+0]=h[0],l[c+0]>128&&(l[c+1]-=256),l[c+0]<-128&&(l[c+1]+=256),l[c+1]=h[1],l[c+2]=a[2]-h[2],l[c+3]=Math.floor(Ou(e,r+1,s+1,18,18)/t/i),l[c+4]=Math.floor(Ou(e,r,s,t,i)/t/i)}}return l}(e.img.toData(e.rect.x,e.rect.y,496,293),20,20)},e.readScanPanelText=function(e,t){const n=i(6442),r=t.y;let o=e.toData(t.x-20,r,180,190),s=[];for(let e=0;e<13;e++){const i=bu(o,n,[[255,255,255]],70,t.y-r+12*e,40,1);s.push(i.text)}let a="",l=!1;for(let e of s)e&&(l?a+="\n":a&&(a+=" "),a+=e),l=!e&&!!a;return a},e.readCompassState=function(e,t){let i=e.toData(t.x,t.y,130,170),n=function(e){for(var t=0,i=0,n=0,r=0;r<e.width;r++)for(var o=0;o<e.height;o++){var s=4*r+4*e.width*o;(m=(p=r-65)*p+(g=o-65)*g)>=3600||(Mu(e.data[s],e.data[s+1],e.data[s+2],19,19,18)<20||e.data[s]<5&&e.data[s+1]<5&&e.data[s+2]<5)&&(t+=p,i+=g,n++)}if(0==n)return 0;var a=t/n,l=i/n,c=Math.atan2(l,a);const h=Math.PI,u=2*Math.PI;var d=0;for(n=0,r=0;r<e.width;r++)for(o=0;o<e.height;o++){var p,g,m;if(s=4*r+4*e.width*o,!((m=(p=r-65-a)*p+(g=o-65-l)*g)>=2500||m<=400)&&(Mu(e.data[s],e.data[s+1],e.data[s+2],19,19,18)<20||e.data[s]<5&&e.data[s+1]<5&&e.data[s+2]<5)){var f=Bu(Math.atan2(g,p)-c,u);f>3*h/2?f-=u:f>h/2&&(f-=h),d+=f,n++}}if(0==n)return 0;c+=d/n;var y,v=null,_=null,x=-10,b=10;for(let e of ju){let t=(y=c,Bu(e.raw-y+Math.PI,2*Math.PI)-Math.PI);t<=0&&t>x&&(v=e,x=t),t>=0&&t<b&&(_=e,b=t)}let w=v==_?1:b/(b-x),k=w*v.dz+(1-w)*_.dz,A=w*v.dx+(1-w)*_.dx;return Math.atan2(-k,-A)}(i);return null==n?null:{angle:n,isArc:Nu(i)}}}(Zu||(Zu={}));var qu,Uu=xe.span,Vu=We.todo,Hu=Ya.Augmentation.AugmentedScanTree,Wu=Yh.interactionMarker,Ku=We.Order,Gu=Ya.spotNumber,Qu=xe.inlineimg,Yu=ar.activate;class Ju extends xr{constructor(e){super(),this.behaviour=e,this.sidebar=new Pr({position:"top-left",type:"floating",no_default_styling:!0},c().addClass("ctr-neosolving-sidebar")).addTo(this),this.sidebar.content.append(new Ju.MainControlBar(e),this.clue_container=c(),this.solution_container=c(),this.method_selection_container=c(),this.scantree_container=c(),this.path_container=c()),this.scan_layer=new Bc([]).addTo(this),this.generic_solution_layer=s.featureGroup().addTo(this)}fit(e){let t=m.cloneDeep(e);{const i=this.sidebar.content.raw().clientWidth+20,n=this.getMap().container.get()[0].clientWidth,r=i/Math.max(i,n-i);t.topleft.x-=r*h.width(e)}return this.map.fitView(t,{maxZoom:4}),this}reset(){this.clue_container.empty(),this.solution_container.empty(),this.scan_layer.marker.setClickable(!1),this.scan_layer.marker.setFixedSpot(null),this.scan_layer.setSpots([]),this.generic_solution_layer.clearLayers()}}!function(t){var i=xe.hbox,n=_s.Step;class r extends Fo{constructor(e){super(),e.icon&&this.append(c(`<img src="${e.icon}" class="ctr-neosolving-main-bar-icon">`)),e.centered&&this.css("justify-content","center"),e.text&&(this.append(c().text(e.text)),this.css("flex-grow","1")),this.addClass("ctr-neosolving-main-bar-button").addClass("ctr-neosolving-main-bar-section")}}t.MainControlBar=class extends ge{constructor(t){super(),this.parent=t,this.fullscreen_preference=new e.Variable("preferences/solve/fullscreen",(()=>Qr().app.in_alt1)),this.autosolve_preference=new e.Variable("preferences/solve/autosolve",(()=>Qr().app.in_alt1)),this.dropdown=null,this.addClass("ctr-neosolving-main-bar"),this.prepared_search_index=new au(Ds.all.flatMap((e=>e.text.map(((t,i)=>({step:e,text_index:i}))))),(e=>e.step.text[e.text_index]),{all:!0,threshold:-1e4}),this.append(new r({icon:"assets/icons/glass.png"}).append(this.search_bar=(new Oa).css("flex-grow","1").css("font-weight","normal").setPlaceholder("Enter Search Term...").toggleClass("nisinput",!1).addClass("ctr-neosolving-main-bar-search").setVisible(!1).onChange((({value:e})=>{let t=this.prepared_search_index.search(e);this.dropdown.setItems(t)}))).tooltip("Search Clues").onClick((e=>{e.stopPropagation(),this.search_bar_collapsible.isExpanded()?e.preventDefault():(this.search_bar_collapsible.expand(),this.search_bar.container.focus(),this.search_bar.setValue(""))})),this.rest=i(new r({icon:"assets/icons/activeclue.png",text:"Solve",centered:!0}).onClick((()=>this.parent.screen_reading.solveManuallyTriggered())).tooltip("Read a clue from screen").setEnabled(Qr().app.in_alt1),new r({icon:"assets/icons/lock.png",text:"Auto-Solve",centered:!0}).setToggleable(!0).tooltip("Continuously read clues from screen").setEnabled(Qr().app.in_alt1).onToggle((e=>{this.parent.screen_reading.setAutoSolve(e)})).setToggled(this.autosolve_preference.get()),new r({icon:"assets/icons/fullscreen.png",centered:!0}).tooltip("Hide the menu bar").setToggleable(!0).onToggle((e=>{Qr().app.menu_bar.setCollapsed(e),this.fullscreen_preference.set(e)})).setToggled(this.fullscreen_preference.get()),new r({icon:"assets/icons/settings.png",centered:!0}).tooltip("Open settings")).css("flex-grow","1")),this.dropdown=new qs.DropDown({dropdownClass:"ctr-neosolving-favourite-dropdown",renderItem:e=>c().text(n.shortString(e.step,e.text_index))}).onSelected((async e=>{this.parent.setClueWithAutomaticMethod(e)})).onClosed((()=>{this.search_bar_collapsible.collapse()})).setItems([]),this.search_bar_collapsible=wl.horizontal({target:this.search_bar,starts_collapsed:!0,duration:100}).onChange((e=>{var t,i;e?null===(t=this.dropdown)||void 0===t||t.close():(this.dropdown.setItems(this.prepared_search_index.items()),null===(i=this.dropdown)||void 0===i||i.open(this,this.search_bar)),this.rest_collapsible.setCollapsed(!e)})),this.rest_collapsible=wl.horizontal({target:this.rest,starts_collapsed:!1})}}}(Ju||(Ju={}));class Xu extends eo{constructor(e,t){super(),this.parent=e,this.method=t,this.node=null,this.augmented=null,this.layer=null,this.augmented=Ya.Augmentation.basic_augmentation(t.method.tree,t.clue)}fit(){var e;let t=this.node,i=new lu;0==t.children.length&&t.remaining_candidates.forEach((e=>i.addTile(e))),(null===(e=t.region)||void 0===e?void 0:e.area)&&(i.addArea(t.region.area),i.addArea(t.region.area)),i.addRectangle(no.bounds(t.raw.path)),this.parent.layer.getMap().fitView(i.get(),{maxZoom:4,animate:!0})}renderLayer(){let e=this.node;this.layer.clearLayers();let t=e.region?Yu(e.region.area).center():no.ends_up(e.raw.path);t?this.parent.layer.getMap().floor.set(t.level):this.parent.layer.getMap().floor.set(Math.min(...e.remaining_candidates.map((e=>e.level)))),t&&e.remaining_candidates.length>1?this.parent.layer.scan_layer.marker.setFixedSpot(t):this.parent.layer.scan_layer.marker.setFixedSpot(null),this.parent.layer.scan_layer.setActiveCandidates(e.remaining_candidates),new ac(Ya.getTargetRegion(e)).setOpacity(1).addTo(this.layer),Hu.collect_parents(e,!1).forEach((e=>{new ac(Ya.getTargetRegion(e)).setOpacity(.2).addTo(this.layer),ko.renderPath(e.raw.path).eachEntity((e=>e.setOpacity(.2))).addTo(this.layer)})),e.children.forEach((e=>{ko.renderPath(e.value.raw.path).eachEntity((e=>e.setOpacity(.5))).addTo(this.layer),new ac(Ya.getTargetRegion(e.value)).setOpacity(.5).addTo(this.layer)}))}setNode(e){this.node=e,this.tree_widget.empty(),this.parent.path_control.reset().setPath(e.raw.path),this.fit(),this.renderLayer(),new Ks(this.parent,this.method.method.for).addClass("ctr-neosolving-solution-row").appendTo(this.tree_widget);let t=c().addClass("ctr-neosolving-solution-row").appendTo(this.tree_widget);{let i=c(),n=c("<ol class='breadcrumb' style='margin-bottom: unset'></ol>").appendTo(i);Hu.collect_parents(e).map((e=>c("<span class='nisl-textlink'>").on("click",(()=>this.setNode(e))).text(Hu.decision_string(e)))).forEach((e=>e.appendTo(c("<li>").addClass("breadcrumb-item").appendTo(n))));let r=n.container.children().last();r.text(r.children().first().text()).addClass("active"),t.append(i)}t.append(c().addClass("ctr-neosolving-nextscanstep").setInnerHtml("Next: "+this.parent.app.template_resolver.with(vc(e)).resolve(Ya.getInstruction(e))));{let i=e.children.filter((e=>3==e.key.pulse));e.children.filter((e=>i.length<=1||3!=e.key.pulse)).sort(Ku.comap(Ga.Pulse.compare,(e=>e.key))).forEach((i=>{const n=this.parent.app.template_resolver.with(vc(i.value));c().addClass("ctr-neosolving-scantreeline").append(pu.forPulse(i.key,e.children.map((e=>e.key))).onClick((()=>{this.setNode(i.value)})),c().setInnerHtml(n.resolve(Ya.getInstruction(i.value)))).appendTo(t)})),i.length>1&&c().addClass("ctr-neosolving-scantreeline").append(c().append(new du({different_level:!1,pulse:3},null).css("margin","1px")),Uu("at"),...i.sort(Ku.comap(Ku.natural_order,(t=>Gu(e.root.raw,t.value.remaining_candidates[0])))).map((t=>pu.forSpot(Gu(e.root.raw,t.value.remaining_candidates[0])).onClick((()=>this.setNode(t.value)))))).appendTo(t)}}begin(){this.tree_widget=c().appendTo(this.parent.layer.scantree_container),this.layer=s.featureGroup().addTo(this.parent.layer.scan_layer),this.setNode(this.augmented.root_node)}end(){this.tree_widget.remove(),this.tree_widget=null,this.layer&&(this.layer.remove(),this.layer=null)}}class $u extends eo{constructor(e){super(),this.parent=e,this.activeInterval=null,this.reader=new Zu}begin(){}end(){this.setAutoSolve(!1)}async solve(){const e=await this.reader.readScreen();return(null==e?void 0:e.step)&&this.parent.setClueWithAutomaticMethod(e.step),e}setAutoSolve(e){null!=this.activeInterval&&(clearInterval(this.activeInterval),this.activeInterval=null),this.parent.app.in_alt1&&e&&(this.activeInterval=window.setInterval((()=>{this.solveManuallyTriggered()}),300))}solveManuallyTriggered(){this.solve()||this.parent.app.notifications.notify({type:"error"},"No clue found on screen.")}}class ed extends eo{constructor(e){super(),this.app=e,this.active_clue=null,this.active_method=null,this.screen_reading=this.withSub(new $u(this)),this.auto_solving=Ae(!1),this.scantree_behaviour=this.withSub(new to),this.path_control=this.withSub(new la(this)),this.default_method_selector=null}setClue(e,t=!0){if(this.reset(),this.active_clue&&this.active_clue.step.id==e.step.id&&this.active_clue.text_index==e.text_index)return;this.active_clue=e;const i=qu.Settings.DEFAULT,n=e.step,r=new lu;{let t=c();"map"==e.step.type?t.append(c(`<img src='${e.step.image_url}' style="width: 100%">`).addClass("ctr-neosolving-solution-row").text(e.step.text[e.text_index])):t.append(c().addClass("ctr-neosolving-solution-row").text(e.step.text[e.text_index]));const o=_s.Step.solution(e.step);if(o)switch(null==o?void 0:o.type){case"talkto":if(!i.talks.at_all)break;let e=0,n=o.spots[e];t.append(c().addClass("ctr-neosolving-solution-row").append(Qu("assets/icons/cursor_talk.png"),Uu("Talk to "),xe.npc(o.npc,!0).tooltip("Click to center").on("click",(()=>{this.layer.fit(ar.toRect(n.range))})),i.talks.description&&n.description?Uu(" "+n.description):void 0)),Wu(Yu(n.range).center(),"talk",!1,!1).addTo(this.layer.generic_solution_layer),r.addArea(n.range);break;case"search":if(!i.searches.at_all)break;o.key&&i.searches.key_solution&&t.append(c().addClass("ctr-neosolving-solution-row").append(Qu("assets/icons/key.png")," ",Uu(o.key.answer).addClass("ctr-clickable").on("click",(()=>{this.layer.fit(ar.toRect(o.key.area))})))),t.append(c().addClass("ctr-neosolving-solution-row").append(Qu("assets/icons/cursor_talk.png")," ",Uu("Search "),xe.staticentity(o.entity,!0).tooltip("Click to center").on("click",(()=>{this.layer.fit(o.spot)})))),r.addRectangle(o.spot),Wu(p.center(o.spot,!1),"search",!1,!1).addTo(this.layer.generic_solution_layer);break;case"dig":if(!i.digs.at_all)break;t.append(c().addClass("ctr-neosolving-solution-row").append(Qu("assets/icons/cursor_shovel.png")," ",Uu("Dig"),o.description?Uu(" "+o.description):Uu(` at ${d.toString(o.spot)}`))),Wu(o.spot,"shovel",!1,!1).addTo(this.layer.generic_solution_layer),r.addTile(o.spot)}if("emote"==n.type){if(i.emotes.hidey_hole&&n.hidey_hole&&t.append(c().addClass("ctr-neosolving-solution-row").append(Qu("assets/icons/cursor_search.png")," ",Uu("Get items from "),xe.staticentity(n.hidey_hole.name).tooltip("Click to center").addClass("ctr-clickable").on("click",(()=>{this.layer.fit(p.from(n.hidey_hole.location))})))),i.emotes.items){let e=c().addClass("ctr-neosolving-solution-row").append(Qu("assets/icons/cursor_equip.png")," ",Uu("Equip ")).appendTo(t);for(let t=0;t<n.items.length;t++){const i=n.items[t];t>0&&(t==n.items.length-1?e.append(", and "):e.append(", "));const r=i.startsWith("Nothing")||i.startsWith("No ");e.append(Uu(i).toggleClass("nisl-item",!r).toggleClass("nisl-noitem",r))}}if(i.emotes.emotes){let e=c().addClass("ctr-neosolving-solution-row").append(Qu("assets/icons/emotes.png")," ").appendTo(t);for(let t=0;t<n.emotes.length;t++){const i=n.emotes[t];t>0&&(t==n.emotes.length-1?e.append(", then "):e.append(", ")),e.append(i).addClass("nisl-emote")}}i.emotes.double_agent&&n.double_agent&&t.append(c().addClass("ctr-neosolving-solution-row").append(Qu("assets/icons/cursor_attack.png")," ",Uu("Kill "),xe.npc("Double Agent"))),r.addArea(n.area),new cu(Yu(n.area).center()).withMarker().addTo(this.layer.generic_solution_layer)}else"skilling"==n.type?(t.append(c().addClass("ctr-neosolving-solution-row").append(c(`<img src="${Ur.meta(n.cursor).icon_url}">`),Uu(n.answer))),r.addRectangle(n.areas[0]),Wu(p.center(n.areas[0]),n.cursor,!1,!1).addTo(this.layer.generic_solution_layer)):"scan"==n.type?(this.layer.scan_layer.marker.setClickable(!0),this.layer.scan_layer.setSpots(n.spots),this.layer.scan_layer.marker.setRadius(n.range+5),r.addTile(...n.spots)):"compass"==n.type&&r.addTile(...n.spots);t.container.is(":empty")||this.layer.solution_container.append(t)}t&&this.layer.fit(r.get()),this.setMethod(null)}setMethod(e){var t,i,n,r,o;if(!(e&&e.clue.id!=(null===(i=null===(t=this.active_clue)||void 0===t?void 0:t.step)||void 0===i?void 0:i.id)||e&&e==this.active_method))if(this.scantree_behaviour.set(null),this.path_control.reset(),null===(n=this.default_method_selector)||void 0===n||n.remove(),this.active_method=null,e){if(e.clue.id!=(null===(o=null===(r=this.active_clue)||void 0===r?void 0:r.step)||void 0===o?void 0:o.id))return;this.active_method=e,"scantree"==e.method.type?(this.scantree_behaviour.set(new Xu(this,e)),this.layer.scan_layer.setSpotOrder(e.method.tree.ordered_spots),this.layer.scan_layer.marker.setRadius(e.method.tree.assumed_range)):"general_path"==e.method.type&&this.path_control.reset().setMethod(e)}else this.default_method_selector=new Ks(this,{clue:this.active_clue.step.id}).addClass("ctr-neosolving-solution-row").appendTo(this.layer.method_selection_container)}async setClueWithAutomaticMethod(e){if(this.active_clue&&this.active_clue.step.id==e.step.id&&this.active_clue.text_index==e.text_index)return;this.setClue(e);let t=await this.app.favourites.getMethod({clue:e.step.id});if(!t){let i=await Zs.instance().getForClue({clue:e.step.id});i.length>0&&(t=i[0])}t&&this.setMethod(t)}reset(){var e;this.layer.reset(),this.path_control.reset(),this.scantree_behaviour.set(null),null===(e=this.default_method_selector)||void 0===e||e.remove(),this.active_clue=null,this.active_method=null}addCompassInfo(e){Vu()}addScanInfo(e){Vu()}begin(){this.app.map.addGameLayer(this.layer=new Ju(this))}end(){this.layer.remove()}}!function(e){let t;!function(e){e.DEFAULT={clue:"full",talks:{at_all:!0,description:!0},digs:{at_all:!0},searches:{at_all:!0,key_solution:!0},emotes:{hidey_hole:!0,items:!0,emotes:!0,double_agent:!0},scan_solving:"always"}}(t=e.Settings||(e.Settings={}))}(qu||(qu={}));var td=xe.spacer,id=xe.span;class nd extends Fo{constructor(e,t){super(),this.addClass("ctr-menubar-button"),this.append(c("<div style='height: 32px'></div>").append(c(`<img src="${t}" style="width: 32px" alt="">`)),id(e))}setActive(e){this.toggleClass("active",e)}}class rd extends eo{constructor(e){super()}begin(){}end(){}}class od extends ge{constructor(e){super(),this.app=e,this.active_tab=Ae(null),this.addClass("ctr-menubar"),this.append(this.solve_button=new nd("Solve","assets/icons/ribbon_clue.png").onClick((()=>{this.switchToTab("solve")})).addTippy((new po).header("Clue Solver").row(c().text("Clue solver to use while solving or for looking at methods.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),this.map_button=new nd("Map","assets/icons/ribbon_map.png").onClick((()=>{this.switchToTab("map")})).addTippy((new po).header("Map").row(c().text("A simple map view.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),this.create_button=new nd("Methods","assets/icons/ribbon_notes.webp").onClick((()=>{this.switchToTab("create")})).addTippy((new po).header("Method Management").row(c().text("View, Manage and Create methods for clue steps.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),this.paths_button=new nd("Paths","assets/icons/ribbon_activitytracker.webp").onClick((()=>{this.switchToTab("pathedit")})).addTippy((new po).header("Path Editor").row(c().text("Edit paths on the map independently of clues.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),this.app.in_dev_mode?this.utility_button=new nd("Utility","assets/icons/ribbon_notes.webp").onClick((()=>{this.switchToTab("utility")})).addTippy((new po).header("Development Utility").row(c().text("This tab contains some internal utilities for development. Don't try to make sense out of it.").css("font-style","italic")),{placement:"right",hideOnClick:!1}):void 0,td(),this.settings_button=new nd("Settings","assets/icons/ribbon_options.webp").onClick((()=>{window.open("","_blank","popup=yes,width=200px,height=200px").document.body.append(c().text("Hello World").on("click",(()=>{console.log("Clicked")})).raw())})).addTippy((new po).header("Settings").row(c().text("Access settings.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),c("<div style=\"font-size: 6pt\" class='nisl-textlink'>Version b0.3.1</div>").tapRaw((t=>t.on("click",(()=>e.about_modal.show()))))),this.updateState()}switchToTab(e){if(e!=this.active_tab.value()){switch(e){case"map":this.app.main_behaviour.set(new rd(this.app));break;case"solve":this.app.main_behaviour.set(new ed(this.app));break;case"create":this.app.main_behaviour.set(new rh(this.app));break;case"pathedit":this.app.main_behaviour.set(new ol((new xr).addTo(this.app.map),this.app.template_resolver,{initial:[]},!0));break;case"utility":this.app.main_behaviour.set(new su(this.app))}this.active_tab.set(e),this.updateState()}}updateState(){const e=this.active_tab.value();this.solve_button.setActive("solve"==e),this.map_button.setActive("map"==e),this.create_button.setActive("create"==e),this.paths_button.setActive("pathedit"==e),this.utility_button.setActive("utility"==e)}setCollapsed(e){e?this.container.animate({width:"hide"},300):this.container.animate({width:"show"},300)}}var sd=xe.spacer;class ad extends ge{constructor(e){var t;super(),this.options=e,this.body=null,this.content=null,this.addClass("ctr-notification").addClass(`ctr-notification-${null!==(t=e.type)&&void 0!==t?t:"information"}`),this.body=c().addClass("ctr-notification-content").appendTo(this),this.body.append(sd().css("max-width","30px").css("min-width","30px")),e.fixed||this.body.append(c("<div class='ctr-notification-dismiss'>&times;</div>").tooltip("Dismiss").on("click",(()=>this.dismiss())))}setContent(e){return this.content&&this.content.remove(),this.content=e.css("flex-grow","1").prependTo(this.body),this}dismiss(e=!1){e?this.container.fadeOut(300,(()=>this.remove())):this.remove()}}class ld extends ge{constructor(){super(),this.addClass("ctr-notification-bar")}do(e){var t;return e.css("display","none").appendTo(this).container.animate({height:"toggle"},300),null!==e.options.duration&&setTimeout((()=>{e.dismiss(!0)}),null!==(t=e.options.duration)&&void 0!==t?t:3e3),this}notify(e,t){let i=new ad(e);return"function"==typeof t&&(t=t(i)),"string"==typeof t&&(t=c().text(t)),i.setContent(t),this.do(i),i}}var cd=We.todo,hd=_s.ClueSpot;class ud{constructor(t){this.methods=t,this.data=new e.Variable("clue_favourites",(()=>({methods:[]})))}normalize_data(){this.data.value||(this.data.value={methods:[]}),this.data.value.methods||(this.data.value.methods=[])}getTalkId(e){cd()}setTalkId(e,t){cd()}getChallengeAnswerId(e){cd()}setChallengeAnswerId(e,t){cd()}async getMethod(e){var t;this.normalize_data();const i=this.data.value.methods.find((t=>hd.Id.equals(e,t.spot)));if(!i){const i=(await this.methods.getForClue(e)).sort(((e,t)=>e.method.expected_time-t.method.expected_time));return null!==(t=i.find((e=>"default"==e.pack.type)))&&void 0!==t?t:i[0]}return i.method?this.methods.resolve(i.method):null}setMethod(e,t){this.normalize_data();const i=this.data.value.methods.find((t=>hd.Id.equals(t.spot,e)));i?i.method=t?{local_pack_id:t.pack.local_id,method_id:t.method.id}:null:this.data.value.methods.push({spot:m.cloneDeep(e),method:t?{local_pack_id:t.pack.local_id,method_id:t.method.id}:null}),this.data.save()}}i(7061);var dd,pd=xe.div,gd=xe.vbox,md=xe.span,fd=xe.hbox,yd=xe.spacer,vd=Wr.resolveTeleport;!function(e){e.load_path={name:"load_path",parser:{steps:Zr.imp({expected_type:"path",expected_version:0})},default:{},serializer:{},instantiate:e=>e=>{}},e.load_overview={name:"load_overview",parser:{tiers:e=>e.split(",").map((e=>"null"==e?null:e)),types:e=>e.split(",")},default:{tiers:["easy","medium","hard","elite","master",null],types:["anagram","compass","coordinates","cryptic","emote","map","scan","simple","skilling"]},serializer:{tiers:e=>e.join(","),types:e=>e.join(",")},instantiate:({tiers:e,types:t})=>e=>{}},e.load_method={name:"load_method",parser:{},default:{},serializer:{},instantiate:({method:e})=>e=>{}},e.index=[e.load_path,e.load_overview,e.load_method]}(dd||(dd={}));class _d extends t{constructor(e,t){super(e),this.app=t,this.all_title=$("#patch-note-title-all"),this.new_title=$("#patch-note-title-new"),this.sections=$(".patchnotesection").get().map($).map((e=>({el:e,patchnotes:e.data("patchnotes")})))}showAll(){return $("#modal-patchnotes-report-issues").hide(),this.all_title.show(),this.new_title.hide(),this.sections.forEach((e=>{e.el.show()})),this.show()}}class xd extends t{constructor(e,t){super(e),this.app=t,$("#viewpatchnotes").on("click",(async()=>{this.hide(),await this.app.patch_notes_modal.showAll(),this.show()})),$("#current-version").text(t.patch_notes_modal.sections[0].patchnotes)}}class bd extends eo{constructor(){super(),this.version="b0.3.1",this.in_alt1=!!window.alt1||!1,this.in_dev_mode=!1,this.main_content=null,this.main_behaviour=this.withSub(new to),this.teleport_settings={fairy_ring_favourites:[],potas:[]},this.template_resolver=new r(new Map([["surge",()=>"<img class='text-icon' src='assets/icons/surge.png' title='Surge'>"],["dive",()=>"<img class='text-icon' src='assets/icons/dive.png' title='Dive'>"],["surgedive",()=>"<img class='text-icon' src='assets/icons/surgedive.png' title='Surge'>"],["bladeddive",()=>"<img class='text-icon' src='assets/icons/bladeddive.png' title='Bladed Dive'>"],["escape",()=>"<img class='text-icon' src='assets/icons/escape.png' title='Escape'>"],["barge",()=>"<img class='text-icon' src='assets/icons/barge.png' title='Barge'>"],["digspot",e=>`<span class="ctr-digspot-inline">${e[0]}</span>`],["scanarea",e=>`<span class="ctr-scanspot-inline">${e[0]}</span>`],["teleport",e=>{let t=vd({group:e[0],spot:e[1]});return t?Kr.Teleport.asSpan(t):"NULL"}],["icon",e=>`<img class='text-icon' src='assets/icons/${e[0]}.png'>`],["npc",e=>`<span class='nisl-npc'>${e[0]}</span>`],["object",e=>`<span class='nisl-entity'>${e[0]}</span>`],["item",e=>`<span class='nisl-item'>${e[0]}</span>`]])),this.startup_settings_storage=new e.Variable("preferences/startupsettings",(()=>({}))),this.startup_settings=Ae(this.startup_settings_storage.get()),this.patch_notes_modal=new _d("modal-patchnotes",this),this.about_modal=new xd("modal-about",this),this.favourites=new ud(Zs.instance()),this.in_dev_mode&&console.log("In dev mode")}async begin(){let e,t=ge.wrap($("#main-content"));this.startup_settings.subscribe((e=>this.startup_settings_storage.set(e))),this.notifications=(new ld).appendTo($("body")),t.append(this.menu_bar=new od(this),this.main_content=c("<div style='display: flex; height: 100%; flex-grow: 1'></div>").append(e=c("<div style='flex-grow: 1; height: 100%'></div>"))),this.map_widget=new Nr(e.container),this.map=this.map_widget.map,this.menu_bar.switchToTab((this.in_alt1,"solve")),"preview"==this.mode()&&this.notifications.notify({type:"information",duration:null},pd("This is a preview release of Scan Trainer and not recommended for general usage. Features may change or disappear without any notice. ",c("<a href='https://leridon.github.io/cluetrainer-live/' style='color: unset; text-decoration: underline'>Click here to get to the official release.</a>"))),this.in_alt1||this.startup_settings.value().dont_recommend_alt1||this.notifications.notify({type:"information",duration:null},(e=>gd(md("Scan Trainer is an Alt1 plugin and has clue-solving features when installed."),fd(c(`<a href='${this.addToAlt1Link()}' class="ctr-notification-link">Click here to install.</a>`),yd().css("max-width","60px"),c('<span class="ctr-notification-link">Don\'t show again.</span>').on("click",(()=>{this.startup_settings.update((e=>e.dont_recommend_alt1=!0)),e.dismiss()})))))),null!=this.startup_settings.value().last_loaded_version&&this.startup_settings.value().last_loaded_version!=this.version&&this.notifications.notify({type:"information"},(e=>gd(md("There has been an update! "),c('<span class="ctr-notification-link">View patchnotes.</span>').on("click",(()=>{this.patch_notes_modal.showAll(),e.dismiss()}))))),this.startup_settings.update((e=>e.last_loaded_version=this.version));let i=qr.get_from_params(dd.index,new URLSearchParams(window.location.search));i&&i(this),await async function(){}()}end(){}mode(){if(window.location.host.includes("localhost"))return"development";if("leridon.github.io"==window.location.host){if(window.location.pathname.startsWith("/cluetrainer-live"))return"live";if(window.location.pathname.startsWith("/rs3scantrainer"))return"preview"}return"development"}addToAlt1Link(){return`alt1://addapp/${window.location.protocol}//${window.location.host}${window.location.pathname.slice(0,window.location.pathname.lastIndexOf("/")+1)}appconfig.json`}}i(7816),document.addEventListener("DOMContentLoaded",(e=>{window.alt1&&alt1.identifyAppUrl("./appconfig.json"),function(){let e=new bd;Gr.instance().app=e,e.start()}()}))})(),n})()));